var CV=Object.defineProperty;var x1=t=>{throw TypeError(t)};var AV=(t,e,n)=>e in t?CV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rh=(t,e,n)=>AV(t,typeof e!="symbol"?e+"":e,n),sg=(t,e,n)=>e.has(t)||x1("Cannot "+n);var U=(t,e,n)=>(sg(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?x1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,r)=>(sg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ht=(t,e,n)=>(sg(t,e,"access private method"),n);var sh=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return U(t,e,r)}});function PV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nC={exports:{}},Mp={},rC={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.element"),RV=Symbol.for("react.portal"),kV=Symbol.for("react.fragment"),NV=Symbol.for("react.strict_mode"),DV=Symbol.for("react.profiler"),OV=Symbol.for("react.provider"),MV=Symbol.for("react.context"),VV=Symbol.for("react.forward_ref"),LV=Symbol.for("react.suspense"),jV=Symbol.for("react.memo"),FV=Symbol.for("react.lazy"),E1=Symbol.iterator;function UV(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var sC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iC=Object.assign,oC={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=oC,this.updater=n||sC}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aC(){}aC.prototype=Zl.prototype;function O0(t,e,n){this.props=t,this.context=e,this.refs=oC,this.updater=n||sC}var M0=O0.prototype=new aC;M0.constructor=O0;iC(M0,Zl.prototype);M0.isPureReactComponent=!0;var T1=Array.isArray,lC=Object.prototype.hasOwnProperty,V0={current:null},cC={key:!0,ref:!0,__self:!0,__source:!0};function uC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)lC.call(e,r)&&!cC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:vd,type:t,key:i,ref:o,props:s,_owner:V0.current}}function $V(t,e){return{$$typeof:vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function L0(t){return typeof t=="object"&&t!==null&&t.$$typeof===vd}function BV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S1=/\/+/g;function ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BV(""+t.key):e.toString(36)}function Bh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vd:case RV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ig(o,0):r,T1(s)?(n="",t!=null&&(n=t.replace(S1,"$&/")+"/"),Bh(s,e,n,"",function(c){return c})):s!=null&&(L0(s)&&(s=$V(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(S1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",T1(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ig(i,a);o+=Bh(i,e,n,l,s)}else if(l=UV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ig(i,a++),o+=Bh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ih(t,e,n){if(t==null)return t;var r=[],s=0;return Bh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},zh={transition:null},WV={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:zh,ReactCurrentOwner:V0};function dC(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:ih,forEach:function(t,e,n){ih(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!L0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Zl;Ee.Fragment=kV;Ee.Profiler=DV;Ee.PureComponent=O0;Ee.StrictMode=NV;Ee.Suspense=LV;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;Ee.act=dC;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=V0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lC.call(e,l)&&!cC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vd,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:MV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OV,_context:t},t.Consumer=t};Ee.createElement=uC;Ee.createFactory=function(t){var e=uC.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:VV,render:t}};Ee.isValidElement=L0;Ee.lazy=function(t){return{$$typeof:FV,_payload:{_status:-1,_result:t},_init:zV}};Ee.memo=function(t,e){return{$$typeof:jV,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=zh.transition;zh.transition={};try{t()}finally{zh.transition=e}};Ee.unstable_act=dC;Ee.useCallback=function(t,e){return hn.current.useCallback(t,e)};Ee.useContext=function(t){return hn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return hn.current.useEffect(t,e)};Ee.useId=function(){return hn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return hn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Ee.useRef=function(t){return hn.current.useRef(t)};Ee.useState=function(t){return hn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return hn.current.useTransition()};Ee.version="18.3.1";rC.exports=Ee;var S=rC.exports;const q=tC(S),j0=PV({__proto__:null,default:q},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HV=S,qV=Symbol.for("react.element"),GV=Symbol.for("react.fragment"),KV=Object.prototype.hasOwnProperty,YV=HV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QV={key:!0,ref:!0,__self:!0,__source:!0};function hC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KV.call(e,r)&&!QV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:qV,type:t,key:i,ref:o,props:s,_owner:YV.current}}Mp.Fragment=GV;Mp.jsx=hC;Mp.jsxs=hC;nC.exports=Mp;var p=nC.exports,fC={exports:{}},$n={},pC={exports:{}},mC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var K=j.length;j.push(F);e:for(;0<K;){var ue=K-1>>>1,ne=j[ue];if(0<s(ne,F))j[ue]=F,j[K]=ne,K=ue;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],K=j.pop();if(K!==F){j[0]=K;e:for(var ue=0,ne=j.length,ve=ne>>>1;ue<ve;){var ge=2*(ue+1)-1,Ke=j[ge],gt=ge+1,Ie=j[gt];if(0>s(Ke,K))gt<ne&&0>s(Ie,Ke)?(j[ue]=Ie,j[gt]=K,ue=gt):(j[ue]=Ke,j[ge]=K,ue=ge);else if(gt<ne&&0>s(Ie,K))j[ue]=Ie,j[gt]=K,ue=gt;else break e}}return F}function s(j,F){var K=j.sortIndex-F.sortIndex;return K!==0?K:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,E=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=j)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function A(j){if(y=!1,_(j),!E)if(n(l)!==null)E=!0,ae(N);else{var F=n(c);F!==null&&J(A,F.startTime-j)}}function N(j,F){E=!1,y&&(y=!1,v(b),b=-1),m=!0;var K=f;try{for(_(F),h=n(l);h!==null&&(!(h.expirationTime>F)||j&&!D());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var ne=ue(h.expirationTime<=F);F=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),_(F)}else r(l);h=n(l)}if(h!==null)var ve=!0;else{var ge=n(c);ge!==null&&J(A,ge.startTime-F),ve=!1}return ve}finally{h=null,f=K,m=!1}}var M=!1,I=null,b=-1,P=5,R=-1;function D(){return!(t.unstable_now()-R<P)}function O(){if(I!==null){var j=t.unstable_now();R=j;var F=!0;try{F=I(!0,j)}finally{F?k():(M=!1,I=null)}}else M=!1}var k;if(typeof w=="function")k=function(){w(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ce=W.port2;W.port1.onmessage=O,k=function(){ce.postMessage(null)}}else k=function(){T(O,0)};function ae(j){I=j,M||(M=!0,k())}function J(j,F){b=T(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,ae(N))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var K=f;f=F;try{return j()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=f;f=j;try{return F()}finally{f=K}},t.unstable_scheduleCallback=function(j,F,K){var ue=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,j){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,j={id:d++,callback:F,priorityLevel:j,startTime:K,expirationTime:ne,sortIndex:-1},K>ue?(j.sortIndex=K,e(c,j),n(l)===null&&j===n(c)&&(y?(v(b),b=-1):y=!0,J(A,K-ue))):(j.sortIndex=ne,e(l,j),E||m||(E=!0,ae(N))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var F=f;return function(){var K=f;f=F;try{return j.apply(this,arguments)}finally{f=K}}}})(mC);pC.exports=mC;var XV=pC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZV=S,jn=XV;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gC=new Set,Cu={};function da(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(Cu[t]=e,t=0;t<e.length;t++)gC.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),by=Object.prototype.hasOwnProperty,JV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},I1={};function eL(t){return by.call(I1,t)?!0:by.call(b1,t)?!1:JV.test(t)?I1[t]=!0:(b1[t]=!0,!1)}function tL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nL(t,e,n,r){if(e===null||typeof e>"u"||tL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var F0=/[\-:]([a-z])/g;function U0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(F0,U0);Bt[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(F0,U0);Bt[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(F0,U0);Bt[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $0(t,e,n,r){var s=Bt.hasOwnProperty(e)?Bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nL(e,n,s,r)&&(n=null),r||s===null?eL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qs=ZV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oh=Symbol.for("react.element"),La=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),yC=Symbol.for("react.provider"),vC=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),Ay=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),wC=Symbol.for("react.offscreen"),C1=Symbol.iterator;function Oc(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,og;function Gc(t){if(og===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);og=e&&e[1]||""}return`
`+og+t}var ag=!1;function lg(t,e){if(!t||ag)return"";ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gc(t):""}function rL(t){switch(t.tag){case 5:return Gc(t.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return t=lg(t.type,!1),t;case 11:return t=lg(t.type.render,!1),t;case 1:return t=lg(t.type,!0),t;default:return""}}function Py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ja:return"Fragment";case La:return"Portal";case Iy:return"Profiler";case B0:return"StrictMode";case Cy:return"Suspense";case Ay:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vC:return(t.displayName||"Context")+".Consumer";case yC:return(t._context.displayName||"Context")+".Provider";case z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W0:return e=t.displayName||null,e!==null?e:Py(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return Py(t(e))}catch{}}return null}function sL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Py(e);case 8:return e===B0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _C(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iL(t){var e=_C(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ah(t){t._valueTracker||(t._valueTracker=iL(t))}function xC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_C(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _f(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ry(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EC(t,e){e=e.checked,e!=null&&$0(t,"checked",e,!1)}function ky(t,e){EC(t,e);var n=qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ny(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ny(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ny(t,e,n){(e!=="number"||_f(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kc=Array.isArray;function tl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Dy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Kc(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function TC(t,e){var n=qi(e.value),r=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lh,bC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lh=lh||document.createElement("div"),lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oL=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){oL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function IC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function CC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=IC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function My(t,e){if(e){if(aL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Vy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=null;function H0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jy=null,nl=null,rl=null;function N1(t){if(t=xd(t)){if(typeof jy!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Up(e),jy(t.stateNode,t.type,e))}}function AC(t){nl?rl?rl.push(t):rl=[t]:nl=t}function PC(){if(nl){var t=nl,e=rl;if(rl=nl=null,N1(t),e)for(t=0;t<e.length;t++)N1(e[t])}}function RC(t,e){return t(e)}function kC(){}var cg=!1;function NC(t,e,n){if(cg)return t(e,n);cg=!0;try{return RC(t,e,n)}finally{cg=!1,(nl!==null||rl!==null)&&(kC(),PC())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var r=Up(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Fy=!1;if(Ds)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){Fy=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Fy=!1}function lL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ou=!1,xf=null,Ef=!1,Uy=null,cL={onError:function(t){ou=!0,xf=t}};function uL(t,e,n,r,s,i,o,a,l){ou=!1,xf=null,lL.apply(cL,arguments)}function dL(t,e,n,r,s,i,o,a,l){if(uL.apply(this,arguments),ou){if(ou){var c=xf;ou=!1,xf=null}else throw Error(z(198));Ef||(Ef=!0,Uy=c)}}function ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D1(t){if(ha(t)!==t)throw Error(z(188))}function hL(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return D1(s),t;if(i===r)return D1(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function OC(t){return t=hL(t),t!==null?MC(t):null}function MC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MC(t);if(e!==null)return e;t=t.sibling}return null}var VC=jn.unstable_scheduleCallback,O1=jn.unstable_cancelCallback,fL=jn.unstable_shouldYield,pL=jn.unstable_requestPaint,ft=jn.unstable_now,mL=jn.unstable_getCurrentPriorityLevel,q0=jn.unstable_ImmediatePriority,LC=jn.unstable_UserBlockingPriority,Tf=jn.unstable_NormalPriority,gL=jn.unstable_LowPriority,jC=jn.unstable_IdlePriority,Vp=null,Xr=null;function yL(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:_L,vL=Math.log,wL=Math.LN2;function _L(t){return t>>>=0,t===0?32:31-(vL(t)/wL|0)|0}var ch=64,uh=4194304;function Yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Yc(a):(i&=o,i!==0&&(r=Yc(i)))}else o=n&~s,o!==0?r=Yc(o):i!==0&&(r=Yc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),s=1<<n,r|=t[n],e&=~s;return r}function xL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Er(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=xL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function $y(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FC(){var t=ch;return ch<<=1,!(ch&4194240)&&(ch=64),t}function ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function TL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Er(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function G0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function UC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $C,K0,BC,zC,WC,By=!1,dh=[],Ni=null,Di=null,Oi=null,Ru=new Map,ku=new Map,gi=[],SL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function Vc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xd(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bL(t,e,n,r,s){switch(e){case"focusin":return Ni=Vc(Ni,t,e,n,r,s),!0;case"dragenter":return Di=Vc(Di,t,e,n,r,s),!0;case"mouseover":return Oi=Vc(Oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ru.set(i,Vc(Ru.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ku.set(i,Vc(ku.get(i)||null,t,e,n,r,s)),!0}return!1}function HC(t){var e=No(t.target);if(e!==null){var n=ha(e);if(n!==null){if(e=n.tag,e===13){if(e=DC(n),e!==null){t.blockedOn=e,WC(t.priority,function(){BC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ly=r,n.target.dispatchEvent(r),Ly=null}else return e=xd(n),e!==null&&K0(e),t.blockedOn=n,!1;e.shift()}return!0}function V1(t,e,n){Wh(t)&&n.delete(e)}function IL(){By=!1,Ni!==null&&Wh(Ni)&&(Ni=null),Di!==null&&Wh(Di)&&(Di=null),Oi!==null&&Wh(Oi)&&(Oi=null),Ru.forEach(V1),ku.forEach(V1)}function Lc(t,e){t.blockedOn===e&&(t.blockedOn=null,By||(By=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,IL)))}function Nu(t){function e(s){return Lc(s,t)}if(0<dh.length){Lc(dh[0],t);for(var n=1;n<dh.length;n++){var r=dh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ni!==null&&Lc(Ni,t),Di!==null&&Lc(Di,t),Oi!==null&&Lc(Oi,t),Ru.forEach(e),ku.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)HC(n),n.blockedOn===null&&gi.shift()}var sl=qs.ReactCurrentBatchConfig,bf=!0;function CL(t,e,n,r){var s=Ve,i=sl.transition;sl.transition=null;try{Ve=1,Y0(t,e,n,r)}finally{Ve=s,sl.transition=i}}function AL(t,e,n,r){var s=Ve,i=sl.transition;sl.transition=null;try{Ve=4,Y0(t,e,n,r)}finally{Ve=s,sl.transition=i}}function Y0(t,e,n,r){if(bf){var s=zy(t,e,n,r);if(s===null)_g(t,e,r,If,n),M1(t,r);else if(bL(s,t,e,n,r))r.stopPropagation();else if(M1(t,r),e&4&&-1<SL.indexOf(t)){for(;s!==null;){var i=xd(s);if(i!==null&&$C(i),i=zy(t,e,n,r),i===null&&_g(t,e,r,If,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _g(t,e,r,null,n)}}var If=null;function zy(t,e,n,r){if(If=null,t=H0(r),t=No(t),t!==null)if(e=ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function qC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mL()){case q0:return 1;case LC:return 4;case Tf:case gL:return 16;case jC:return 536870912;default:return 16}default:return 16}}var Ci=null,Q0=null,Hh=null;function GC(){if(Hh)return Hh;var t,e=Q0,n=e.length,r,s="value"in Ci?Ci.value:Ci.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Hh=s.slice(t,1<r?1-r:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hh(){return!0}function L1(){return!1}function Bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hh:L1,this.isPropagationStopped=L1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X0=Bn(Jl),_d=tt({},Jl,{view:0,detail:0}),PL=Bn(_d),dg,hg,jc,Lp=tt({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jc&&(jc&&t.type==="mousemove"?(dg=t.screenX-jc.screenX,hg=t.screenY-jc.screenY):hg=dg=0,jc=t),dg)},movementY:function(t){return"movementY"in t?t.movementY:hg}}),j1=Bn(Lp),RL=tt({},Lp,{dataTransfer:0}),kL=Bn(RL),NL=tt({},_d,{relatedTarget:0}),fg=Bn(NL),DL=tt({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),OL=Bn(DL),ML=tt({},Jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VL=Bn(ML),LL=tt({},Jl,{data:0}),F1=Bn(LL),jL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $L(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UL[t])?!!e[t]:!1}function Z0(){return $L}var BL=tt({},_d,{key:function(t){if(t.key){var e=jL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zL=Bn(BL),WL=tt({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U1=Bn(WL),HL=tt({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),qL=Bn(HL),GL=tt({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KL=Bn(GL),YL=tt({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QL=Bn(YL),XL=[9,13,27,32],J0=Ds&&"CompositionEvent"in window,au=null;Ds&&"documentMode"in document&&(au=document.documentMode);var ZL=Ds&&"TextEvent"in window&&!au,KC=Ds&&(!J0||au&&8<au&&11>=au),$1=" ",B1=!1;function YC(t,e){switch(t){case"keyup":return XL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function JL(t,e){switch(t){case"compositionend":return QC(e);case"keypress":return e.which!==32?null:(B1=!0,$1);case"textInput":return t=e.data,t===$1&&B1?null:t;default:return null}}function ej(t,e){if(Fa)return t==="compositionend"||!J0&&YC(t,e)?(t=GC(),Hh=Q0=Ci=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KC&&e.locale!=="ko"?null:e.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tj[t.type]:e==="textarea"}function XC(t,e,n,r){AC(r),e=Cf(e,"onChange"),0<e.length&&(n=new X0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lu=null,Du=null;function nj(t){lA(t,0)}function jp(t){var e=Ba(t);if(xC(e))return t}function rj(t,e){if(t==="change")return e}var ZC=!1;if(Ds){var pg;if(Ds){var mg="oninput"in document;if(!mg){var W1=document.createElement("div");W1.setAttribute("oninput","return;"),mg=typeof W1.oninput=="function"}pg=mg}else pg=!1;ZC=pg&&(!document.documentMode||9<document.documentMode)}function H1(){lu&&(lu.detachEvent("onpropertychange",JC),Du=lu=null)}function JC(t){if(t.propertyName==="value"&&jp(Du)){var e=[];XC(e,Du,t,H0(t)),NC(nj,e)}}function sj(t,e,n){t==="focusin"?(H1(),lu=e,Du=n,lu.attachEvent("onpropertychange",JC)):t==="focusout"&&H1()}function ij(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Du)}function oj(t,e){if(t==="click")return jp(e)}function aj(t,e){if(t==="input"||t==="change")return jp(e)}function lj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:lj;function Ou(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!by.call(e,s)||!Sr(t[s],e[s]))return!1}return!0}function q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G1(t,e){var n=q1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q1(n)}}function eA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tA(){for(var t=window,e=_f();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_f(t.document)}return e}function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cj(t){var e=tA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eA(n.ownerDocument.documentElement,n)){if(r!==null&&ew(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=G1(n,i);var o=G1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uj=Ds&&"documentMode"in document&&11>=document.documentMode,Ua=null,Wy=null,cu=null,Hy=!1;function K1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hy||Ua==null||Ua!==_f(r)||(r=Ua,"selectionStart"in r&&ew(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cu&&Ou(cu,r)||(cu=r,r=Cf(Wy,"onSelect"),0<r.length&&(e=new X0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ua)))}function fh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $a={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},gg={},nA={};Ds&&(nA=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Fp(t){if(gg[t])return gg[t];if(!$a[t])return t;var e=$a[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nA)return gg[t]=e[n];return t}var rA=Fp("animationend"),sA=Fp("animationiteration"),iA=Fp("animationstart"),oA=Fp("transitionend"),aA=new Map,Y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){aA.set(t,e),da(e,[t])}for(var yg=0;yg<Y1.length;yg++){var vg=Y1[yg],dj=vg.toLowerCase(),hj=vg[0].toUpperCase()+vg.slice(1);ao(dj,"on"+hj)}ao(rA,"onAnimationEnd");ao(sA,"onAnimationIteration");ao(iA,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(oA,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function Q1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dL(r,e,void 0,t),t.currentTarget=null}function lA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Q1(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Q1(s,a,c),i=l}}}if(Ef)throw t=Uy,Ef=!1,Uy=null,t}function He(t,e){var n=e[Qy];n===void 0&&(n=e[Qy]=new Set);var r=t+"__bubble";n.has(r)||(cA(e,t,2,!1),n.add(r))}function wg(t,e,n){var r=0;e&&(r|=4),cA(n,t,r,e)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[ph]){t[ph]=!0,gC.forEach(function(n){n!=="selectionchange"&&(fj.has(n)||wg(n,!1,t),wg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ph]||(e[ph]=!0,wg("selectionchange",!1,e))}}function cA(t,e,n,r){switch(qC(e)){case 1:var s=CL;break;case 4:s=AL;break;default:s=Y0}n=s.bind(null,e,n,t),s=void 0,!Fy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _g(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}NC(function(){var c=i,d=H0(n),h=[];e:{var f=aA.get(t);if(f!==void 0){var m=X0,E=t;switch(t){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":m=zL;break;case"focusin":E="focus",m=fg;break;case"focusout":E="blur",m=fg;break;case"beforeblur":case"afterblur":m=fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qL;break;case rA:case sA:case iA:m=OL;break;case oA:m=KL;break;case"scroll":m=PL;break;case"wheel":m=QL;break;case"copy":case"cut":case"paste":m=VL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=U1}var y=(e&4)!==0,T=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,_;w!==null;){_=w;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,v!==null&&(A=Pu(w,v),A!=null&&y.push(Vu(w,A,_)))),T)break;w=w.return}0<y.length&&(f=new m(f,E,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Ly&&(E=n.relatedTarget||n.fromElement)&&(No(E)||E[Os]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=c,E=E?No(E):null,E!==null&&(T=ha(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(y=j1,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=U1,A="onPointerLeave",v="onPointerEnter",w="pointer"),T=m==null?f:Ba(m),_=E==null?f:Ba(E),f=new y(A,w+"leave",m,n,d),f.target=T,f.relatedTarget=_,A=null,No(d)===c&&(y=new y(v,w+"enter",E,n,d),y.target=_,y.relatedTarget=T,A=y),T=A,m&&E)t:{for(y=m,v=E,w=0,_=y;_;_=Ia(_))w++;for(_=0,A=v;A;A=Ia(A))_++;for(;0<w-_;)y=Ia(y),w--;for(;0<_-w;)v=Ia(v),_--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ia(y),v=Ia(v)}y=null}else y=null;m!==null&&X1(h,f,m,y,!1),E!==null&&T!==null&&X1(h,T,E,y,!0)}}e:{if(f=c?Ba(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=rj;else if(z1(f))if(ZC)N=aj;else{N=ij;var M=sj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=oj);if(N&&(N=N(t,c))){XC(h,N,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Ny(f,"number",f.value)}switch(M=c?Ba(c):window,t){case"focusin":(z1(M)||M.contentEditable==="true")&&(Ua=M,Wy=c,cu=null);break;case"focusout":cu=Wy=Ua=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,K1(h,n,d);break;case"selectionchange":if(uj)break;case"keydown":case"keyup":K1(h,n,d)}var I;if(J0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fa?YC(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(KC&&n.locale!=="ko"&&(Fa||b!=="onCompositionStart"?b==="onCompositionEnd"&&Fa&&(I=GC()):(Ci=d,Q0="value"in Ci?Ci.value:Ci.textContent,Fa=!0)),M=Cf(c,b),0<M.length&&(b=new F1(b,t,null,n,d),h.push({event:b,listeners:M}),I?b.data=I:(I=QC(n),I!==null&&(b.data=I)))),(I=ZL?JL(t,n):ej(t,n))&&(c=Cf(c,"onBeforeInput"),0<c.length&&(d=new F1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}lA(h,e)})}function Vu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pu(t,n),i!=null&&r.unshift(Vu(t,i,s)),i=Pu(t,e),i!=null&&r.push(Vu(t,i,s))),t=t.return}return r}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Pu(n,i),l!=null&&o.unshift(Vu(n,l,a))):s||(l=Pu(n,i),l!=null&&o.push(Vu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function Z1(t){return(typeof t=="string"?t:""+t).replace(pj,`
`).replace(mj,"")}function mh(t,e,n){if(e=Z1(e),Z1(t)!==e&&n)throw Error(z(425))}function Af(){}var qy=null,Gy=null;function Ky(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,gj=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(t){return J1.resolve(null).then(t).catch(vj)}:Yy;function vj(t){setTimeout(function(){throw t})}function xg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nu(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ec=Math.random().toString(36).slice(2),Kr="__reactFiber$"+ec,Lu="__reactProps$"+ec,Os="__reactContainer$"+ec,Qy="__reactEvents$"+ec,wj="__reactListeners$"+ec,_j="__reactHandles$"+ec;function No(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Os]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eE(t);t!==null;){if(n=t[Kr])return n;t=eE(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[Kr]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Up(t){return t[Lu]||null}var Xy=[],za=-1;function lo(t){return{current:t}}function Ge(t){0>za||(t.current=Xy[za],Xy[za]=null,za--)}function Be(t,e){za++,Xy[za]=t.current,t.current=e}var Gi={},nn=lo(Gi),bn=lo(!1),Qo=Gi;function Cl(t,e){var n=t.type.contextTypes;if(!n)return Gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function In(t){return t=t.childContextTypes,t!=null}function Pf(){Ge(bn),Ge(nn)}function tE(t,e,n){if(nn.current!==Gi)throw Error(z(168));Be(nn,e),Be(bn,n)}function uA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,sL(t)||"Unknown",s));return tt({},n,r)}function Rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,Qo=nn.current,Be(nn,t),Be(bn,bn.current),!0}function nE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=uA(t,e,Qo),r.__reactInternalMemoizedMergedChildContext=t,Ge(bn),Ge(nn),Be(nn,t)):Ge(bn),Be(bn,n)}var Ts=null,$p=!1,Eg=!1;function dA(t){Ts===null?Ts=[t]:Ts.push(t)}function xj(t){$p=!0,dA(t)}function co(){if(!Eg&&Ts!==null){Eg=!0;var t=0,e=Ve;try{var n=Ts;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,$p=!1}catch(s){throw Ts!==null&&(Ts=Ts.slice(t+1)),VC(q0,co),s}finally{Ve=e,Eg=!1}}return null}var Wa=[],Ha=0,kf=null,Nf=0,Kn=[],Yn=0,Xo=null,bs=1,Is="";function Co(t,e){Wa[Ha++]=Nf,Wa[Ha++]=kf,kf=t,Nf=e}function hA(t,e,n){Kn[Yn++]=bs,Kn[Yn++]=Is,Kn[Yn++]=Xo,Xo=t;var r=bs;t=Is;var s=32-Er(r)-1;r&=~(1<<s),n+=1;var i=32-Er(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bs=1<<32-Er(e)+s|n<<s|r,Is=i+t}else bs=1<<i|n<<s|r,Is=t}function tw(t){t.return!==null&&(Co(t,1),hA(t,1,0))}function nw(t){for(;t===kf;)kf=Wa[--Ha],Wa[Ha]=null,Nf=Wa[--Ha],Wa[Ha]=null;for(;t===Xo;)Xo=Kn[--Yn],Kn[Yn]=null,Is=Kn[--Yn],Kn[Yn]=null,bs=Kn[--Yn],Kn[Yn]=null}var On=null,Nn=null,Ye=!1,_r=null;function fA(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Nn=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xo!==null?{id:bs,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Nn=null,!0):!1;default:return!1}}function Zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jy(t){if(Ye){var e=Nn;if(e){var n=e;if(!rE(t,e)){if(Zy(t))throw Error(z(418));e=Mi(n.nextSibling);var r=On;e&&rE(t,e)?fA(r,n):(t.flags=t.flags&-4097|2,Ye=!1,On=t)}}else{if(Zy(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ye=!1,On=t}}}function sE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function gh(t){if(t!==On)return!1;if(!Ye)return sE(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ky(t.type,t.memoizedProps)),e&&(e=Nn)){if(Zy(t))throw pA(),Error(z(418));for(;e;)fA(t,e),e=Mi(e.nextSibling)}if(sE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=On?Mi(t.stateNode.nextSibling):null;return!0}function pA(){for(var t=Nn;t;)t=Mi(t.nextSibling)}function Al(){Nn=On=null,Ye=!1}function rw(t){_r===null?_r=[t]:_r.push(t)}var Ej=qs.ReactCurrentBatchConfig;function Fc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function yh(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iE(t){var e=t._init;return e(t._payload)}function mA(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Fi(v,w),v.index=0,v.sibling=null,v}function i(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,_,A){return w===null||w.tag!==6?(w=Pg(_,v.mode,A),w.return=v,w):(w=s(w,_),w.return=v,w)}function l(v,w,_,A){var N=_.type;return N===ja?d(v,w,_.props.children,A,_.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fi&&iE(N)===w.type)?(A=s(w,_.props),A.ref=Fc(v,w,_),A.return=v,A):(A=Jh(_.type,_.key,_.props,null,v.mode,A),A.ref=Fc(v,w,_),A.return=v,A)}function c(v,w,_,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Rg(_,v.mode,A),w.return=v,w):(w=s(w,_.children||[]),w.return=v,w)}function d(v,w,_,A,N){return w===null||w.tag!==7?(w=qo(_,v.mode,A,N),w.return=v,w):(w=s(w,_),w.return=v,w)}function h(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pg(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oh:return _=Jh(w.type,w.key,w.props,null,v.mode,_),_.ref=Fc(v,null,w),_.return=v,_;case La:return w=Rg(w,v.mode,_),w.return=v,w;case fi:var A=w._init;return h(v,A(w._payload),_)}if(Kc(w)||Oc(w))return w=qo(w,v.mode,_,null),w.return=v,w;yh(v,w)}return null}function f(v,w,_,A){var N=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(v,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case oh:return _.key===N?l(v,w,_,A):null;case La:return _.key===N?c(v,w,_,A):null;case fi:return N=_._init,f(v,w,N(_._payload),A)}if(Kc(_)||Oc(_))return N!==null?null:d(v,w,_,A,null);yh(v,_)}return null}function m(v,w,_,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(_)||null,a(w,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case oh:return v=v.get(A.key===null?_:A.key)||null,l(w,v,A,N);case La:return v=v.get(A.key===null?_:A.key)||null,c(w,v,A,N);case fi:var M=A._init;return m(v,w,_,M(A._payload),N)}if(Kc(A)||Oc(A))return v=v.get(_)||null,d(w,v,A,N,null);yh(w,A)}return null}function E(v,w,_,A){for(var N=null,M=null,I=w,b=w=0,P=null;I!==null&&b<_.length;b++){I.index>b?(P=I,I=null):P=I.sibling;var R=f(v,I,_[b],A);if(R===null){I===null&&(I=P);break}t&&I&&R.alternate===null&&e(v,I),w=i(R,w,b),M===null?N=R:M.sibling=R,M=R,I=P}if(b===_.length)return n(v,I),Ye&&Co(v,b),N;if(I===null){for(;b<_.length;b++)I=h(v,_[b],A),I!==null&&(w=i(I,w,b),M===null?N=I:M.sibling=I,M=I);return Ye&&Co(v,b),N}for(I=r(v,I);b<_.length;b++)P=m(I,v,b,_[b],A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?b:P.key),w=i(P,w,b),M===null?N=P:M.sibling=P,M=P);return t&&I.forEach(function(D){return e(v,D)}),Ye&&Co(v,b),N}function y(v,w,_,A){var N=Oc(_);if(typeof N!="function")throw Error(z(150));if(_=N.call(_),_==null)throw Error(z(151));for(var M=N=null,I=w,b=w=0,P=null,R=_.next();I!==null&&!R.done;b++,R=_.next()){I.index>b?(P=I,I=null):P=I.sibling;var D=f(v,I,R.value,A);if(D===null){I===null&&(I=P);break}t&&I&&D.alternate===null&&e(v,I),w=i(D,w,b),M===null?N=D:M.sibling=D,M=D,I=P}if(R.done)return n(v,I),Ye&&Co(v,b),N;if(I===null){for(;!R.done;b++,R=_.next())R=h(v,R.value,A),R!==null&&(w=i(R,w,b),M===null?N=R:M.sibling=R,M=R);return Ye&&Co(v,b),N}for(I=r(v,I);!R.done;b++,R=_.next())R=m(I,v,b,R.value,A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?b:R.key),w=i(R,w,b),M===null?N=R:M.sibling=R,M=R);return t&&I.forEach(function(O){return e(v,O)}),Ye&&Co(v,b),N}function T(v,w,_,A){if(typeof _=="object"&&_!==null&&_.type===ja&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case oh:e:{for(var N=_.key,M=w;M!==null;){if(M.key===N){if(N=_.type,N===ja){if(M.tag===7){n(v,M.sibling),w=s(M,_.props.children),w.return=v,v=w;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fi&&iE(N)===M.type){n(v,M.sibling),w=s(M,_.props),w.ref=Fc(v,M,_),w.return=v,v=w;break e}n(v,M);break}else e(v,M);M=M.sibling}_.type===ja?(w=qo(_.props.children,v.mode,A,_.key),w.return=v,v=w):(A=Jh(_.type,_.key,_.props,null,v.mode,A),A.ref=Fc(v,w,_),A.return=v,v=A)}return o(v);case La:e:{for(M=_.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=s(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Rg(_,v.mode,A),w.return=v,v=w}return o(v);case fi:return M=_._init,T(v,w,M(_._payload),A)}if(Kc(_))return E(v,w,_,A);if(Oc(_))return y(v,w,_,A);yh(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,_),w.return=v,v=w):(n(v,w),w=Pg(_,v.mode,A),w.return=v,v=w),o(v)):n(v,w)}return T}var Pl=mA(!0),gA=mA(!1),Df=lo(null),Of=null,qa=null,sw=null;function iw(){sw=qa=Of=null}function ow(t){var e=Df.current;Ge(Df),t._currentValue=e}function ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){Of=t,sw=qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(sw!==t)if(t={context:t,memoizedValue:e,next:null},qa===null){if(Of===null)throw Error(z(308));qa=t,Of.dependencies={lanes:0,firstContext:t}}else qa=qa.next=t;return e}var Do=null;function aw(t){Do===null?Do=[t]:Do.push(t)}function yA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,aw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ms(t,r)}function Ms(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function lw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ms(t,n)}return s=r.interleaved,s===null?(e.next=e,aw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ms(t,n)}function Gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G0(t,n)}}function oE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mf(t,e,n,r){var s=t.updateQueue;pi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,y=a;switch(f=e,m=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){h=E.call(m,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,f=typeof E=="function"?E.call(m,h,f):E,f==null)break e;h=tt({},h,f);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jo|=o,t.lanes=o,t.memoizedState=h}}function aE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ed={},Zr=lo(Ed),ju=lo(Ed),Fu=lo(Ed);function Oo(t){if(t===Ed)throw Error(z(174));return t}function cw(t,e){switch(Be(Fu,e),Be(ju,t),Be(Zr,Ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oy(e,t)}Ge(Zr),Be(Zr,e)}function Rl(){Ge(Zr),Ge(ju),Ge(Fu)}function wA(t){Oo(Fu.current);var e=Oo(Zr.current),n=Oy(e,t.type);e!==n&&(Be(ju,t),Be(Zr,n))}function uw(t){ju.current===t&&(Ge(Zr),Ge(ju))}var Ze=lo(0);function Vf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tg=[];function dw(){for(var t=0;t<Tg.length;t++)Tg[t]._workInProgressVersionPrimary=null;Tg.length=0}var Kh=qs.ReactCurrentDispatcher,Sg=qs.ReactCurrentBatchConfig,Zo=0,et=null,It=null,Dt=null,Lf=!1,uu=!1,Uu=0,Tj=0;function qt(){throw Error(z(321))}function hw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function fw(t,e,n,r,s,i){if(Zo=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kh.current=t===null||t.memoizedState===null?Cj:Aj,t=n(r,s),uu){i=0;do{if(uu=!1,Uu=0,25<=i)throw Error(z(301));i+=1,Dt=It=null,e.updateQueue=null,Kh.current=Pj,t=n(r,s)}while(uu)}if(Kh.current=jf,e=It!==null&&It.next!==null,Zo=0,Dt=It=et=null,Lf=!1,e)throw Error(z(300));return t}function pw(){var t=Uu!==0;return Uu=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?et.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function ir(){if(It===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Dt===null?et.memoizedState:Dt.next;if(e!==null)Dt=e,It=t;else{if(t===null)throw Error(z(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Dt===null?et.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function $u(t,e){return typeof e=="function"?e(t):e}function bg(t){var e=ir(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=It,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Zo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,et.lanes|=d,Jo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Sr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,Jo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ig(t){var e=ir(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Sr(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _A(){}function xA(t,e){var n=et,r=ir(),s=e(),i=!Sr(r.memoizedState,s);if(i&&(r.memoizedState=s,En=!0),r=r.queue,mw(SA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Bu(9,TA.bind(null,n,r,s,e),void 0,null),Mt===null)throw Error(z(349));Zo&30||EA(n,e,s)}return s}function EA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TA(t,e,n,r){e.value=n,e.getSnapshot=r,bA(e)&&IA(t)}function SA(t,e,n){return n(function(){bA(e)&&IA(t)})}function bA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function IA(t){var e=Ms(t,1);e!==null&&Tr(e,t,1,-1)}function lE(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},e.queue=t,t=t.dispatch=Ij.bind(null,et,t),[e.memoizedState,t]}function Bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CA(){return ir().memoizedState}function Yh(t,e,n,r){var s=zr();et.flags|=t,s.memoizedState=Bu(1|e,n,void 0,r===void 0?null:r)}function Bp(t,e,n,r){var s=ir();r=r===void 0?null:r;var i=void 0;if(It!==null){var o=It.memoizedState;if(i=o.destroy,r!==null&&hw(r,o.deps)){s.memoizedState=Bu(e,n,i,r);return}}et.flags|=t,s.memoizedState=Bu(1|e,n,i,r)}function cE(t,e){return Yh(8390656,8,t,e)}function mw(t,e){return Bp(2048,8,t,e)}function AA(t,e){return Bp(4,2,t,e)}function PA(t,e){return Bp(4,4,t,e)}function RA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kA(t,e,n){return n=n!=null?n.concat([t]):null,Bp(4,4,RA.bind(null,e,t),n)}function gw(){}function NA(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DA(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OA(t,e,n){return Zo&21?(Sr(n,e)||(n=FC(),et.lanes|=n,Jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function Sj(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Sg.transition;Sg.transition={};try{t(!1),e()}finally{Ve=n,Sg.transition=r}}function MA(){return ir().memoizedState}function bj(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VA(t))LA(e,n);else if(n=yA(t,e,n,r),n!==null){var s=un();Tr(n,t,r,s),jA(n,e,r)}}function Ij(t,e,n){var r=ji(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VA(t))LA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Sr(a,o)){var l=e.interleaved;l===null?(s.next=s,aw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=yA(t,e,s,r),n!==null&&(s=un(),Tr(n,t,r,s),jA(n,e,r))}}function VA(t){var e=t.alternate;return t===et||e!==null&&e===et}function LA(t,e){uu=Lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G0(t,n)}}var jf={readContext:sr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},Cj={readContext:sr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:cE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yh(4194308,4,RA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yh(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bj.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:lE,useDebugValue:gw,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=lE(!1),e=t[0];return t=Sj.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=zr();if(Ye){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Mt===null)throw Error(z(349));Zo&30||EA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cE(SA.bind(null,r,i,t),[t]),r.flags|=2048,Bu(9,TA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zr(),e=Mt.identifierPrefix;if(Ye){var n=Is,r=bs;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Tj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Aj={readContext:sr,useCallback:NA,useContext:sr,useEffect:mw,useImperativeHandle:kA,useInsertionEffect:AA,useLayoutEffect:PA,useMemo:DA,useReducer:bg,useRef:CA,useState:function(){return bg($u)},useDebugValue:gw,useDeferredValue:function(t){var e=ir();return OA(e,It.memoizedState,t)},useTransition:function(){var t=bg($u)[0],e=ir().memoizedState;return[t,e]},useMutableSource:_A,useSyncExternalStore:xA,useId:MA,unstable_isNewReconciler:!1},Pj={readContext:sr,useCallback:NA,useContext:sr,useEffect:mw,useImperativeHandle:kA,useInsertionEffect:AA,useLayoutEffect:PA,useMemo:DA,useReducer:Ig,useRef:CA,useState:function(){return Ig($u)},useDebugValue:gw,useDeferredValue:function(t){var e=ir();return It===null?e.memoizedState=t:OA(e,It.memoizedState,t)},useTransition:function(){var t=Ig($u)[0],e=ir().memoizedState;return[t,e]},useMutableSource:_A,useSyncExternalStore:xA,useId:MA,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zp={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),s=ji(t),i=Ps(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Tr(e,t,s,r),Gh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),s=ji(t),i=Ps(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Tr(e,t,s,r),Gh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=ji(t),s=Ps(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vi(t,s,r),e!==null&&(Tr(e,t,r,n),Gh(e,t,r))}};function uE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ou(n,r)||!Ou(s,i):!0}function FA(t,e,n){var r=!1,s=Gi,i=e.contextType;return typeof i=="object"&&i!==null?i=sr(i):(s=In(e)?Qo:nn.current,r=e.contextTypes,i=(r=r!=null)?Cl(t,s):Gi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function dE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zp.enqueueReplaceState(e,e.state,null)}function nv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=sr(i):(i=In(e)?Qo:nn.current,s.context=Cl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zp.enqueueReplaceState(s,s.state,null),Mf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kl(t,e){try{var n="",r=e;do n+=rL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rj=typeof WeakMap=="function"?WeakMap:Map;function UA(t,e,n){n=Ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uf||(Uf=!0,fv=r),rv(t,e)},n}function $A(t,e,n){n=Ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){rv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rv(t,e),typeof r!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Wj.bind(null,t,e,n),e.then(t,t))}function fE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ps(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var kj=qs.ReactCurrentOwner,En=!1;function an(t,e,n,r){e.child=t===null?gA(e,null,n,r):Pl(e,t.child,n,r)}function mE(t,e,n,r,s){n=n.render;var i=e.ref;return il(e,s),r=fw(t,e,n,r,i,s),n=pw(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vs(t,e,s)):(Ye&&n&&tw(e),e.flags|=1,an(t,e,r,s),e.child)}function gE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,BA(t,e,i,r,s)):(t=Jh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ou,n(o,r)&&t.ref===e.ref)return Vs(t,e,s)}return e.flags|=1,t=Fi(i,r),t.ref=e.ref,t.return=e,e.child=t}function BA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ou(i,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Vs(t,e,s)}return sv(t,e,n,r,s)}function zA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ka,Rn),Rn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Ka,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Ka,Rn),Rn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Ka,Rn),Rn|=r;return an(t,e,s,n),e.child}function WA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sv(t,e,n,r,s){var i=In(n)?Qo:nn.current;return i=Cl(e,i),il(e,s),n=fw(t,e,n,r,i,s),r=pw(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vs(t,e,s)):(Ye&&r&&tw(e),e.flags|=1,an(t,e,n,s),e.child)}function yE(t,e,n,r,s){if(In(n)){var i=!0;Rf(e)}else i=!1;if(il(e,s),e.stateNode===null)Qh(t,e),FA(e,n,r),nv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sr(c):(c=In(n)?Qo:nn.current,c=Cl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dE(e,o,r,c),pi=!1;var f=e.memoizedState;o.state=f,Mf(e,r,o,s),l=e.memoizedState,a!==r||f!==l||bn.current||pi?(typeof d=="function"&&(tv(e,n,d,r),l=e.memoizedState),(a=pi||uE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=In(n)?Qo:nn.current,l=Cl(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dE(e,o,r,l),pi=!1,f=e.memoizedState,o.state=f,Mf(e,r,o,s);var E=e.memoizedState;a!==h||f!==E||bn.current||pi?(typeof m=="function"&&(tv(e,n,m,r),E=e.memoizedState),(c=pi||uE(e,n,c,r,f,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return iv(t,e,n,r,i,s)}function iv(t,e,n,r,s,i){WA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&nE(e,n,!1),Vs(t,e,i);r=e.stateNode,kj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pl(e,t.child,null,i),e.child=Pl(e,null,a,i)):an(t,e,a,i),e.memoizedState=r.state,s&&nE(e,n,!0),e.child}function HA(t){var e=t.stateNode;e.pendingContext?tE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tE(t,e.context,!1),cw(t,e.containerInfo)}function vE(t,e,n,r,s){return Al(),rw(s),e.flags|=256,an(t,e,n,r),e.child}var ov={dehydrated:null,treeContext:null,retryLane:0};function av(t){return{baseLanes:t,cachePool:null,transitions:null}}function qA(t,e,n){var r=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Ze,s&1),t===null)return Jy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qp(o,r,0,null),t=qo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=av(n),e.memoizedState=ov,t):yw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Nj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Fi(a,i):(i=qo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?av(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ov,r}return i=t.child,t=i.sibling,r=Fi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yw(t,e){return e=qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,n,r){return r!==null&&rw(r),Pl(e,t.child,null,n),t=yw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cg(Error(z(422))),vh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qp({mode:"visible",children:r.children},s,0,null),i=qo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Pl(e,t.child,null,o),e.child.memoizedState=av(o),e.memoizedState=ov,i);if(!(e.mode&1))return vh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Cg(i,r,void 0),vh(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=Mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ms(t,s),Tr(r,t,s,-1))}return Tw(),r=Cg(Error(z(421))),vh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nn=Mi(s.nextSibling),On=e,Ye=!0,_r=null,t!==null&&(Kn[Yn++]=bs,Kn[Yn++]=Is,Kn[Yn++]=Xo,bs=t.id,Is=t.overflow,Xo=e),e=yw(e,r.children),e.flags|=4096,e)}function wE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ev(t.return,e,n)}function Ag(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function GA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wE(t,n,e);else if(t.tag===19)wE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ag(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ag(e,!0,n,null,i);break;case"together":Ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dj(t,e,n){switch(e.tag){case 3:HA(e),Al();break;case 5:wA(e);break;case 1:In(e.type)&&Rf(e);break;case 4:cw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Df,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?qA(t,e,n):(Be(Ze,Ze.current&1),t=Vs(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,zA(t,e,n)}return Vs(t,e,n)}var KA,lv,YA,QA;KA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lv=function(){};YA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oo(Zr.current);var i=null;switch(n){case"input":s=Ry(t,s),r=Ry(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=Dy(t,s),r=Dy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Af)}My(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};QA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uc(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Oj(t,e,n){var r=e.pendingProps;switch(nw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return In(e.type)&&Pf(),Gt(e),null;case 3:return r=e.stateNode,Rl(),Ge(bn),Ge(nn),dw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(gv(_r),_r=null))),lv(t,e),Gt(e),null;case 5:uw(e);var s=Oo(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)YA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(t=Oo(Zr.current),gh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Kr]=e,r[Lu]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Qc.length;s++)He(Qc[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":A1(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":R1(r,i),He("invalid",r)}My(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&mh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mh(r.textContent,a,t),s=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":ah(r),P1(r,i,!0);break;case"textarea":ah(r),k1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kr]=e,t[Lu]=r,KA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vy(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qc.length;s++)He(Qc[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":A1(t,r),s=Ry(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":R1(t,r),s=Dy(t,r),He("invalid",t);break;default:s=r}My(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?CC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Au(t,l):typeof l=="number"&&Au(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&$0(t,i,l,o))}switch(n){case"input":ah(t),P1(t,r,!1);break;case"textarea":ah(t),k1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?tl(t,!!r.multiple,i,!1):r.defaultValue!=null&&tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)QA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Oo(Fu.current),Oo(Zr.current),gh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(i=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:mh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ge(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Nn!==null&&e.mode&1&&!(e.flags&128))pA(),Al(),e.flags|=98560,i=!1;else if(i=gh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Kr]=e}else Al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else _r!==null&&(gv(_r),_r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?Ct===0&&(Ct=3):Tw())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Rl(),lv(t,e),t===null&&Mu(e.stateNode.containerInfo),Gt(e),null;case 10:return ow(e.type._context),Gt(e),null;case 17:return In(e.type)&&Pf(),Gt(e),null;case 19:if(Ge(Ze),i=e.memoizedState,i===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uc(i,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vf(t),o!==null){for(e.flags|=128,Uc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>Nl&&(e.flags|=128,r=!0,Uc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Gt(e),null}else 2*ft()-i.renderingStartTime>Nl&&n!==1073741824&&(e.flags|=128,r=!0,Uc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return Ew(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Mj(t,e){switch(nw(e),e.tag){case 1:return In(e.type)&&Pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),Ge(bn),Ge(nn),dw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uw(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return Rl(),null;case 10:return ow(e.type._context),null;case 22:case 23:return Ew(),null;case 24:return null;default:return null}}var wh=!1,Xt=!1,Vj=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function cv(t,e,n){try{n()}catch(r){ct(t,e,r)}}var _E=!1;function Lj(t,e){if(qy=bf,t=tA(),ew(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gy={focusedElem:t,selectionRange:n},bf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,T=E.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:mr(e.type,y),T);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){ct(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return E=_E,_E=!1,E}function du(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&cv(e,n,i)}s=s.next}while(s!==r)}}function Wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XA(t){var e=t.alternate;e!==null&&(t.alternate=null,XA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[Lu],delete e[Qy],delete e[wj],delete e[_j])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZA(t){return t.tag===5||t.tag===3||t.tag===4}function xE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Af));else if(r!==4&&(t=t.child,t!==null))for(dv(t,e,n),t=t.sibling;t!==null;)dv(t,e,n),t=t.sibling}function hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hv(t,e,n),t=t.sibling;t!==null;)hv(t,e,n),t=t.sibling}var Vt=null,wr=!1;function ii(t,e,n){for(n=n.child;n!==null;)JA(t,e,n),n=n.sibling}function JA(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Vp,n)}catch{}switch(n.tag){case 5:Xt||Ga(n,e);case 6:var r=Vt,s=wr;Vt=null,ii(t,e,n),Vt=r,wr=s,Vt!==null&&(wr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(wr?(t=Vt,n=n.stateNode,t.nodeType===8?xg(t.parentNode,n):t.nodeType===1&&xg(t,n),Nu(t)):xg(Vt,n.stateNode));break;case 4:r=Vt,s=wr,Vt=n.stateNode.containerInfo,wr=!0,ii(t,e,n),Vt=r,wr=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cv(n,e,o),s=s.next}while(s!==r)}ii(t,e,n);break;case 1:if(!Xt&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,ii(t,e,n),Xt=r):ii(t,e,n);break;default:ii(t,e,n)}}function EE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vj),e.forEach(function(r){var s=qj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,wr=!1;break e;case 3:Vt=a.stateNode.containerInfo,wr=!0;break e;case 4:Vt=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(Vt===null)throw Error(z(160));JA(i,o,s),Vt=null,wr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ct(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eP(e,t),e=e.sibling}function eP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Br(t),r&4){try{du(3,t,t.return),Wp(3,t)}catch(y){ct(t,t.return,y)}try{du(5,t,t.return)}catch(y){ct(t,t.return,y)}}break;case 1:ur(e,t),Br(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(ur(e,t),Br(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var s=t.stateNode;try{Au(s,"")}catch(y){ct(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&EC(s,i),Vy(a,o);var c=Vy(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?CC(s,h):d==="dangerouslySetInnerHTML"?bC(s,h):d==="children"?Au(s,h):$0(s,d,h,c)}switch(a){case"input":ky(s,i);break;case"textarea":TC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?tl(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?tl(s,!!i.multiple,i.defaultValue,!0):tl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lu]=i}catch(y){ct(t,t.return,y)}}break;case 6:if(ur(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ct(t,t.return,y)}}break;case 3:if(ur(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nu(e.containerInfo)}catch(y){ct(t,t.return,y)}break;case 4:ur(e,t),Br(t);break;case 13:ur(e,t),Br(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_w=ft())),r&4&&EE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(c=Xt)||d,ur(e,t),Xt=c):ur(e,t),Br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:du(4,f,f.return);break;case 1:Ga(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(y){ct(r,n,y)}}break;case 5:Ga(f,f.return);break;case 22:if(f.memoizedState!==null){SE(h);continue}}m!==null?(m.return=f,Z=m):SE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IC("display",o))}catch(y){ct(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){ct(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(e,t),Br(t),r&4&&EE(t);break;case 21:break;default:ur(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZA(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Au(s,""),r.flags&=-33);var i=xE(t);hv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xE(t);dv(t,a,o);break;default:throw Error(z(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jj(t,e,n){Z=t,tP(t)}function tP(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=wh;var c=Xt;if(wh=o,(Xt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?bE(s):l!==null?(l.return=o,Z=l):bE(s);for(;i!==null;)Z=i,tP(i),i=i.sibling;Z=s,wh=a,Xt=c}TE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):TE(t)}}function TE(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&aE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}aE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Nu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Xt||e.flags&512&&uv(e)}catch(f){ct(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function SE(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function bE(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wp(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ct(e,s,l)}}var i=e.return;try{uv(e)}catch(l){ct(e,i,l)}break;case 5:var o=e.return;try{uv(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var Fj=Math.ceil,Ff=qs.ReactCurrentDispatcher,vw=qs.ReactCurrentOwner,er=qs.ReactCurrentBatchConfig,Ae=0,Mt=null,wt=null,$t=0,Rn=0,Ka=lo(0),Ct=0,zu=null,Jo=0,Hp=0,ww=0,hu=null,vn=null,_w=0,Nl=1/0,Es=null,Uf=!1,fv=null,Li=null,_h=!1,Ai=null,$f=0,fu=0,pv=null,Xh=-1,Zh=0;function un(){return Ae&6?ft():Xh!==-1?Xh:Xh=ft()}function ji(t){return t.mode&1?Ae&2&&$t!==0?$t&-$t:Ej.transition!==null?(Zh===0&&(Zh=FC()),Zh):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:qC(t.type)),t):1}function Tr(t,e,n,r){if(50<fu)throw fu=0,pv=null,Error(z(185));wd(t,n,r),(!(Ae&2)||t!==Mt)&&(t===Mt&&(!(Ae&2)&&(Hp|=n),Ct===4&&yi(t,$t)),Cn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Nl=ft()+500,$p&&co()))}function Cn(t,e){var n=t.callbackNode;EL(t,e);var r=Sf(t,t===Mt?$t:0);if(r===0)n!==null&&O1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O1(n),e===1)t.tag===0?xj(IE.bind(null,t)):dA(IE.bind(null,t)),yj(function(){!(Ae&6)&&co()}),n=null;else{switch(UC(r)){case 1:n=q0;break;case 4:n=LC;break;case 16:n=Tf;break;case 536870912:n=jC;break;default:n=Tf}n=cP(n,nP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nP(t,e){if(Xh=-1,Zh=0,Ae&6)throw Error(z(327));var n=t.callbackNode;if(ol()&&t.callbackNode!==n)return null;var r=Sf(t,t===Mt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bf(t,r);else{e=r;var s=Ae;Ae|=2;var i=sP();(Mt!==t||$t!==e)&&(Es=null,Nl=ft()+500,Ho(t,e));do try{Bj();break}catch(a){rP(t,a)}while(!0);iw(),Ff.current=i,Ae=s,wt!==null?e=0:(Mt=null,$t=0,e=Ct)}if(e!==0){if(e===2&&(s=$y(t),s!==0&&(r=s,e=mv(t,s))),e===1)throw n=zu,Ho(t,0),yi(t,r),Cn(t,ft()),n;if(e===6)yi(t,r);else{if(s=t.current.alternate,!(r&30)&&!Uj(s)&&(e=Bf(t,r),e===2&&(i=$y(t),i!==0&&(r=i,e=mv(t,i))),e===1))throw n=zu,Ho(t,0),yi(t,r),Cn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ao(t,vn,Es);break;case 3:if(yi(t,r),(r&130023424)===r&&(e=_w+500-ft(),10<e)){if(Sf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yy(Ao.bind(null,t,vn,Es),e);break}Ao(t,vn,Es);break;case 4:if(yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Er(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fj(r/1960))-r,10<r){t.timeoutHandle=Yy(Ao.bind(null,t,vn,Es),r);break}Ao(t,vn,Es);break;case 5:Ao(t,vn,Es);break;default:throw Error(z(329))}}}return Cn(t,ft()),t.callbackNode===n?nP.bind(null,t):null}function mv(t,e){var n=hu;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=Bf(t,e),t!==2&&(e=vn,vn=n,e!==null&&gv(e)),t}function gv(t){vn===null?vn=t:vn.push.apply(vn,t)}function Uj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e){for(e&=~ww,e&=~Hp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function IE(t){if(Ae&6)throw Error(z(327));ol();var e=Sf(t,0);if(!(e&1))return Cn(t,ft()),null;var n=Bf(t,e);if(t.tag!==0&&n===2){var r=$y(t);r!==0&&(e=r,n=mv(t,r))}if(n===1)throw n=zu,Ho(t,0),yi(t,e),Cn(t,ft()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ao(t,vn,Es),Cn(t,ft()),null}function xw(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Nl=ft()+500,$p&&co())}}function ea(t){Ai!==null&&Ai.tag===0&&!(Ae&6)&&ol();var e=Ae;Ae|=1;var n=er.transition,r=Ve;try{if(er.transition=null,Ve=1,t)return t()}finally{Ve=r,er.transition=n,Ae=e,!(Ae&6)&&co()}}function Ew(){Rn=Ka.current,Ge(Ka)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gj(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(nw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pf();break;case 3:Rl(),Ge(bn),Ge(nn),dw();break;case 5:uw(r);break;case 4:Rl();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:ow(r.type._context);break;case 22:case 23:Ew()}n=n.return}if(Mt=t,wt=t=Fi(t.current,null),$t=Rn=e,Ct=0,zu=null,ww=Hp=Jo=0,vn=hu=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Do=null}return t}function rP(t,e){do{var n=wt;try{if(iw(),Kh.current=jf,Lf){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lf=!1}if(Zo=0,Dt=It=et=null,uu=!1,Uu=0,vw.current=null,n===null||n.return===null){Ct=1,zu=e,wt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fE(o);if(m!==null){m.flags&=-257,pE(m,o,a,i,e),m.mode&1&&hE(i,c,e),e=m,l=c;var E=e.updateQueue;if(E===null){var y=new Set;y.add(l),e.updateQueue=y}else E.add(l);break e}else{if(!(e&1)){hE(i,c,e),Tw();break e}l=Error(z(426))}}else if(Ye&&a.mode&1){var T=fE(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),pE(T,o,a,i,e),rw(kl(l,a));break e}}i=l=kl(l,a),Ct!==4&&(Ct=2),hu===null?hu=[i]:hu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=UA(i,l,e);oE(i,v);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Li===null||!Li.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=$A(i,a,e);oE(i,A);break e}}i=i.return}while(i!==null)}oP(n)}catch(N){e=N,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function sP(){var t=Ff.current;return Ff.current=jf,t===null?jf:t}function Tw(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Mt===null||!(Jo&268435455)&&!(Hp&268435455)||yi(Mt,$t)}function Bf(t,e){var n=Ae;Ae|=2;var r=sP();(Mt!==t||$t!==e)&&(Es=null,Ho(t,e));do try{$j();break}catch(s){rP(t,s)}while(!0);if(iw(),Ae=n,Ff.current=r,wt!==null)throw Error(z(261));return Mt=null,$t=0,Ct}function $j(){for(;wt!==null;)iP(wt)}function Bj(){for(;wt!==null&&!fL();)iP(wt)}function iP(t){var e=lP(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?oP(t):wt=e,vw.current=null}function oP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mj(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,wt=null;return}}else if(n=Oj(n,e,Rn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Ct===0&&(Ct=5)}function Ao(t,e,n){var r=Ve,s=er.transition;try{er.transition=null,Ve=1,zj(t,e,n,r)}finally{er.transition=s,Ve=r}return null}function zj(t,e,n,r){do ol();while(Ai!==null);if(Ae&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TL(t,i),t===Mt&&(wt=Mt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_h||(_h=!0,cP(Tf,function(){return ol(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=er.transition,er.transition=null;var o=Ve;Ve=1;var a=Ae;Ae|=4,vw.current=null,Lj(t,n),eP(n,t),cj(Gy),bf=!!qy,Gy=qy=null,t.current=n,jj(n),pL(),Ae=a,Ve=o,er.transition=i}else t.current=n;if(_h&&(_h=!1,Ai=t,$f=s),i=t.pendingLanes,i===0&&(Li=null),yL(n.stateNode),Cn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uf)throw Uf=!1,t=fv,fv=null,t;return $f&1&&t.tag!==0&&ol(),i=t.pendingLanes,i&1?t===pv?fu++:(fu=0,pv=t):fu=0,co(),null}function ol(){if(Ai!==null){var t=UC($f),e=er.transition,n=Ve;try{if(er.transition=null,Ve=16>t?16:t,Ai===null)var r=!1;else{if(t=Ai,Ai=null,$f=0,Ae&6)throw Error(z(331));var s=Ae;for(Ae|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:du(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(XA(d),d===c){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var E=i.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:du(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Z=v;break e}Z=i.return}}var w=t.current;for(Z=w;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=w;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wp(9,a)}}catch(N){ct(a,a.return,N)}if(a===o){Z=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Z=A;break e}Z=a.return}}if(Ae=s,co(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Vp,t)}catch{}r=!0}return r}finally{Ve=n,er.transition=e}}return!1}function CE(t,e,n){e=kl(n,e),e=UA(t,e,1),t=Vi(t,e,1),e=un(),t!==null&&(wd(t,1,e),Cn(t,e))}function ct(t,e,n){if(t.tag===3)CE(t,t,n);else for(;e!==null;){if(e.tag===3){CE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){t=kl(n,t),t=$A(e,t,1),e=Vi(e,t,1),t=un(),e!==null&&(wd(e,1,t),Cn(e,t));break}}e=e.return}}function Wj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&($t&n)===n&&(Ct===4||Ct===3&&($t&130023424)===$t&&500>ft()-_w?Ho(t,0):ww|=n),Cn(t,e)}function aP(t,e){e===0&&(t.mode&1?(e=uh,uh<<=1,!(uh&130023424)&&(uh=4194304)):e=1);var n=un();t=Ms(t,e),t!==null&&(wd(t,e,n),Cn(t,n))}function Hj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aP(t,n)}function qj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),aP(t,n)}var lP;lP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,Dj(t,e,n);En=!!(t.flags&131072)}else En=!1,Ye&&e.flags&1048576&&hA(e,Nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qh(t,e),t=e.pendingProps;var s=Cl(e,nn.current);il(e,n),s=fw(null,e,r,t,s,n);var i=pw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(i=!0,Rf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lw(e),s.updater=zp,e.stateNode=s,s._reactInternals=e,nv(e,r,t,n),e=iv(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&tw(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Kj(r),t=mr(r,t),s){case 0:e=sv(null,e,r,t,n);break e;case 1:e=yE(null,e,r,t,n);break e;case 11:e=mE(null,e,r,t,n);break e;case 14:e=gE(null,e,r,mr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),sv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),yE(t,e,r,s,n);case 3:e:{if(HA(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,vA(t,e),Mf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kl(Error(z(423)),e),e=vE(t,e,r,n,s);break e}else if(r!==s){s=kl(Error(z(424)),e),e=vE(t,e,r,n,s);break e}else for(Nn=Mi(e.stateNode.containerInfo.firstChild),On=e,Ye=!0,_r=null,n=gA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Al(),r===s){e=Vs(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return wA(e),t===null&&Jy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ky(r,s)?o=null:i!==null&&Ky(r,i)&&(e.flags|=32),WA(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Jy(e),null;case 13:return qA(t,e,n);case 4:return cw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pl(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),mE(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Df,r._currentValue),r._currentValue=o,i!==null)if(Sr(i.value,o)){if(i.children===s.children&&!bn.current){e=Vs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ps(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ev(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ev(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,il(e,n),s=sr(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=mr(r,e.pendingProps),s=mr(r.type,s),gE(t,e,r,s,n);case 15:return BA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),Qh(t,e),e.tag=1,In(r)?(t=!0,Rf(e)):t=!1,il(e,n),FA(e,r,s),nv(e,r,s,n),iv(null,e,r,!0,t,n);case 19:return GA(t,e,n);case 22:return zA(t,e,n)}throw Error(z(156,e.tag))};function cP(t,e){return VC(t,e)}function Gj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new Gj(t,e,n,r)}function Sw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kj(t){if(typeof t=="function")return Sw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z0)return 11;if(t===W0)return 14}return 2}function Fi(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Sw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ja:return qo(n.children,s,i,e);case B0:o=8,s|=8;break;case Iy:return t=Zn(12,n,e,s|2),t.elementType=Iy,t.lanes=i,t;case Cy:return t=Zn(13,n,e,s),t.elementType=Cy,t.lanes=i,t;case Ay:return t=Zn(19,n,e,s),t.elementType=Ay,t.lanes=i,t;case wC:return qp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yC:o=10;break e;case vC:o=9;break e;case z0:o=11;break e;case W0:o=14;break e;case fi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qo(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function qp(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=wC,t.lanes=n,t.stateNode={isHidden:!1},t}function Pg(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function Rg(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bw(t,e,n,r,s,i,o,a,l){return t=new Yj(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lw(i),t}function Qj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:La,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uP(t){if(!t)return Gi;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(In(n))return uA(t,n,e)}return e}function dP(t,e,n,r,s,i,o,a,l){return t=bw(n,r,!0,t,s,i,o,a,l),t.context=uP(null),n=t.current,r=un(),s=ji(n),i=Ps(r,s),i.callback=e??null,Vi(n,i,s),t.current.lanes=s,wd(t,s,r),Cn(t,r),t}function Gp(t,e,n,r){var s=e.current,i=un(),o=ji(s);return n=uP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ps(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vi(s,e,o),t!==null&&(Tr(t,s,o,i),Gh(t,s,o)),o}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iw(t,e){AE(t,e),(t=t.alternate)&&AE(t,e)}function Xj(){return null}var hP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cw(t){this._internalRoot=t}Kp.prototype.render=Cw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Gp(t,e,null,null)};Kp.prototype.unmount=Cw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Gp(null,t,null,null)}),e[Os]=null}};function Kp(t){this._internalRoot=t}Kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=zC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&HC(t)}};function Aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PE(){}function Zj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=zf(o);i.call(c)}}var o=dP(e,r,t,0,null,!1,!1,"",PE);return t._reactRootContainer=o,t[Os]=o.current,Mu(t.nodeType===8?t.parentNode:t),ea(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=zf(l);a.call(c)}}var l=bw(t,0,!1,null,null,!1,!1,"",PE);return t._reactRootContainer=l,t[Os]=l.current,Mu(t.nodeType===8?t.parentNode:t),ea(function(){Gp(e,l,n,r)}),l}function Qp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zf(o);a.call(l)}}Gp(e,o,t,s)}else o=Zj(n,e,t,s,r);return zf(o)}$C=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yc(e.pendingLanes);n!==0&&(G0(e,n|1),Cn(e,ft()),!(Ae&6)&&(Nl=ft()+500,co()))}break;case 13:ea(function(){var r=Ms(t,1);if(r!==null){var s=un();Tr(r,t,1,s)}}),Iw(t,1)}};K0=function(t){if(t.tag===13){var e=Ms(t,134217728);if(e!==null){var n=un();Tr(e,t,134217728,n)}Iw(t,134217728)}};BC=function(t){if(t.tag===13){var e=ji(t),n=Ms(t,e);if(n!==null){var r=un();Tr(n,t,e,r)}Iw(t,e)}};zC=function(){return Ve};WC=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};jy=function(t,e,n){switch(e){case"input":if(ky(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Up(r);if(!s)throw Error(z(90));xC(r),ky(r,s)}}}break;case"textarea":TC(t,n);break;case"select":e=n.value,e!=null&&tl(t,!!n.multiple,e,!1)}};RC=xw;kC=ea;var Jj={usingClientEntryPoint:!1,Events:[xd,Ba,Up,AC,PC,xw]},$c={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e4={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OC(t),t===null?null:t.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||Xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Vp=xh.inject(e4),Xr=xh}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aw(e))throw Error(z(200));return Qj(t,e,null,n)};$n.createRoot=function(t,e){if(!Aw(t))throw Error(z(299));var n=!1,r="",s=hP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bw(t,1,!1,null,null,n,!1,r,s),t[Os]=e.current,Mu(t.nodeType===8?t.parentNode:t),new Cw(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=OC(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return ea(t)};$n.hydrate=function(t,e,n){if(!Yp(e))throw Error(z(200));return Qp(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Aw(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dP(e,null,t,1,n??null,s,!1,i,o),t[Os]=e.current,Mu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kp(e)};$n.render=function(t,e,n){if(!Yp(e))throw Error(z(200));return Qp(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!Yp(t))throw Error(z(40));return t._reactRootContainer?(ea(function(){Qp(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1};$n.unstable_batchedUpdates=xw;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yp(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Qp(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function fP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fP)}catch(t){console.error(t)}}fP(),fC.exports=$n;var Td=fC.exports;const pP=tC(Td);var mP,RE=Td;mP=RE.createRoot,RE.hydrateRoot;const t4=1,n4=1e6;let kg=0;function r4(){return kg=(kg+1)%Number.MAX_SAFE_INTEGER,kg.toString()}const Ng=new Map,kE=t=>{if(Ng.has(t))return;const e=setTimeout(()=>{Ng.delete(t),pu({type:"REMOVE_TOAST",toastId:t})},n4);Ng.set(t,e)},s4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,t4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?kE(n):t.toasts.forEach(r=>{kE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ef=[];let tf={toasts:[]};function pu(t){tf=s4(tf,t),ef.forEach(e=>{e(tf)})}function i4({...t}){const e=r4(),n=s=>pu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>pu({type:"DISMISS_TOAST",toastId:e});return pu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gs(){const[t,e]=S.useState(tf);return S.useEffect(()=>(ef.push(e),()=>{const n=ef.indexOf(e);n>-1&&ef.splice(n,1)}),[t]),{...t,toast:i4,dismiss:n=>pu({type:"DISMISS_TOAST",toastId:n})}}function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function NE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=NE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():NE(t[s],null)}}}}function zt(...t){return S.useCallback(gP(...t),t)}function o4(t,e){const n=S.createContext(e),r=i=>{const{children:o,...a}=i,l=S.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=S.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function fa(t,e=[]){let n=[];function r(i,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:f,children:m,...E}=h,y=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,T=S.useMemo(()=>E,Object.values(E));return p.jsx(y.Provider,{value:T,children:m})};c.displayName=i+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,E=S.useContext(m);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,a4(s,...e)]}function a4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Wu(t){const e=c4(t),n=S.forwardRef((r,s)=>{const{children:i,...o}=r,a=S.Children.toArray(i),l=a.find(u4);if(l){const c=l.props.children,d=a.map(h=>h===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:h);return p.jsx(e,{...o,ref:s,children:S.isValidElement(c)?S.cloneElement(c,void 0,d):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var l4=Wu("Slot");function c4(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const o=h4(s),a=d4(i,s.props);return s.type!==S.Fragment&&(a.ref=r?gP(r,o):o),S.cloneElement(s,a)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yP=Symbol("radix.slottable");function vP(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=yP,e}function u4(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yP}function d4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function h4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function f4(t){const e=t+"CollectionProvider",[n,r]=fa(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:v}=y,w=q.useRef(null),_=q.useRef(new Map).current;return p.jsx(s,{scope:T,itemMap:_,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Wu(a),c=q.forwardRef((y,T)=>{const{scope:v,children:w}=y,_=i(a,v),A=zt(T,_.collectionRef);return p.jsx(l,{ref:A,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Wu(d),m=q.forwardRef((y,T)=>{const{scope:v,children:w,..._}=y,A=q.useRef(null),N=zt(T,A),M=i(d,v);return q.useEffect(()=>(M.itemMap.set(A,{ref:A,..._}),()=>void M.itemMap.delete(A))),p.jsx(f,{[h]:"",ref:N,children:w})});m.displayName=d;function E(y){const T=i(t+"CollectionConsumer",y);return q.useCallback(()=>{const w=T.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((M,I)=>_.indexOf(M.ref.current)-_.indexOf(I.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},E,r]}var p4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=p4.reduce((t,e)=>{const n=Wu(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function wP(t,e){t&&Td.flushSync(()=>t.dispatchEvent(e))}function cs(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function m4(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var g4="DismissableLayer",yv="dismissableLayer.update",y4="dismissableLayer.pointerDownOutside",v4="dismissableLayer.focusOutside",DE,_P=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xp=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(_P),[d,h]=S.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),E=zt(e,I=>h(I)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(T),w=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,A=w>=v,N=_4(I=>{const b=I.target,P=[...c.branches].some(R=>R.contains(b));!A||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),M=x4(I=>{const b=I.target;[...c.branches].some(R=>R.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return m4(I=>{w===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(DE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),OE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=DE)}},[d,f,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),OE())},[d,c]),S.useEffect(()=>{const I=()=>m({});return document.addEventListener(yv,I),()=>document.removeEventListener(yv,I)},[]),p.jsx(rt.div,{...l,ref:E,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,N.onPointerDownCapture)})});Xp.displayName=g4;var w4="DismissableLayerBranch",xP=S.forwardRef((t,e)=>{const n=S.useContext(_P),r=S.useRef(null),s=zt(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(rt.div,{...t,ref:s})});xP.displayName=w4;function _4(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){EP(y4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function x4(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&EP(v4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OE(){const t=new CustomEvent(yv);document.dispatchEvent(t)}function EP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?wP(s,i):s.dispatchEvent(i)}var E4=Xp,T4=xP,Ls=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},S4="Portal",Pw=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=S.useState(!1);Ls(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pP.createPortal(p.jsx(rt.div,{...r,ref:e}),o):null});Pw.displayName=S4;function b4(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var tc=t=>{const{present:e,children:n}=t,r=I4(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=zt(r.ref,C4(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};tc.displayName="Presence";function I4(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=b4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Eh(r.current);i.current=a==="mounted"?c:"none"},[a]),Ls(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,m=Eh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ls(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Eh(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=m=>{m.target===e&&(i.current=Eh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Eh(t){return(t==null?void 0:t.animationName)||"none"}function C4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var A4=j0[" useInsertionEffect ".trim().toString()]||Ls;function TP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=P4({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=S.useCallback(d=>{var h;if(a){const f=R4(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,c]}function P4({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return A4(()=>{i.current=e},[e]),S.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function R4(t){return typeof t=="function"}var k4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),N4="VisuallyHidden",Zp=S.forwardRef((t,e)=>p.jsx(rt.span,{...t,ref:e,style:{...k4,...t.style}}));Zp.displayName=N4;var D4=Zp,Rw="ToastProvider",[kw,O4,M4]=f4("Toast"),[SP,Pee]=fa("Toast",[M4]),[V4,Jp]=SP(Rw),bP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=S.useState(null),[c,d]=S.useState(0),h=S.useRef(!1),f=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rw}\`. Expected non-empty \`string\`.`),p.jsx(kw.Provider,{scope:e,children:p.jsx(V4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};bP.displayName=Rw;var IP="ToastViewport",L4=["F8"],vv="toast.viewportPause",wv="toast.viewportResume",CP=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=L4,label:s="Notifications ({hotkey})",...i}=t,o=Jp(IP,n),a=O4(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),h=S.useRef(null),f=zt(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;S.useEffect(()=>{const T=v=>{var _;r.length!==0&&r.every(A=>v[A]||v.code===A)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),S.useEffect(()=>{const T=l.current,v=h.current;if(E&&T&&v){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(vv);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(wv);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!T.contains(M.relatedTarget)&&_()},N=()=>{T.contains(document.activeElement)||_()};return T.addEventListener("focusin",w),T.addEventListener("focusout",A),T.addEventListener("pointermove",w),T.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{T.removeEventListener("focusin",w),T.removeEventListener("focusout",A),T.removeEventListener("pointermove",w),T.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[E,o.isClosePausedRef]);const y=S.useCallback(({tabbingDirection:T})=>{const w=a().map(_=>{const A=_.ref.current,N=[A,...Q4(A)];return T==="forwards"?N:N.reverse()});return(T==="forwards"?w.reverse():w).flat()},[a]);return S.useEffect(()=>{const T=h.current;if(T){const v=w=>{var N,M,I;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const b=document.activeElement,P=w.shiftKey;if(w.target===T&&P){(N=c.current)==null||N.focus();return}const O=y({tabbingDirection:P?"backwards":"forwards"}),k=O.findIndex(W=>W===b);Dg(O.slice(k+1))?w.preventDefault():P?(M=c.current)==null||M.focus():(I=d.current)==null||I.focus()}};return T.addEventListener("keydown",v),()=>T.removeEventListener("keydown",v)}},[a,y]),p.jsxs(T4,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&p.jsx(_v,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});Dg(T)}}),p.jsx(kw.Slot,{scope:n,children:p.jsx(rt.ol,{tabIndex:-1,...i,ref:f})}),E&&p.jsx(_v,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});Dg(T)}})]})});CP.displayName=IP;var AP="ToastFocusProxy",_v=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jp(AP,n);return p.jsx(Zp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});_v.displayName=AP;var Sd="Toast",j4="toast.swipeStart",F4="toast.swipeMove",U4="toast.swipeCancel",$4="toast.swipeEnd",PP=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=TP({prop:r,defaultProp:s??!0,onChange:i,caller:Sd});return p.jsx(tc,{present:n||a,children:p.jsx(W4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:cs(t.onPause),onResume:cs(t.onResume),onSwipeStart:qe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:qe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});PP.displayName=Sd;var[B4,z4]=SP(Sd,{onClose(){}}),W4=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...E}=t,y=Jp(Sd,n),[T,v]=S.useState(null),w=zt(e,W=>v(W)),_=S.useRef(null),A=S.useRef(null),N=s||y.duration,M=S.useRef(0),I=S.useRef(N),b=S.useRef(0),{onToastAdd:P,onToastRemove:R}=y,D=cs(()=>{var ce;(T==null?void 0:T.contains(document.activeElement))&&((ce=y.viewport)==null||ce.focus()),o()}),O=S.useCallback(W=>{!W||W===1/0||(window.clearTimeout(b.current),M.current=new Date().getTime(),b.current=window.setTimeout(D,W))},[D]);S.useEffect(()=>{const W=y.viewport;if(W){const ce=()=>{O(I.current),c==null||c()},ae=()=>{const J=new Date().getTime()-M.current;I.current=I.current-J,window.clearTimeout(b.current),l==null||l()};return W.addEventListener(vv,ae),W.addEventListener(wv,ce),()=>{W.removeEventListener(vv,ae),W.removeEventListener(wv,ce)}}},[y.viewport,N,l,c,O]),S.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(N)},[i,N,y.isClosePausedRef,O]),S.useEffect(()=>(P(),()=>R()),[P,R]);const k=S.useMemo(()=>T?VP(T):null,[T]);return y.viewport?p.jsxs(p.Fragment,{children:[k&&p.jsx(H4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),p.jsx(B4,{scope:n,onClose:D,children:Td.createPortal(p.jsx(kw.ItemSlot,{scope:n,children:p.jsx(E4,{asChild:!0,onEscapeKeyDown:qe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qe(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:qe(t.onPointerDown,W=>{W.button===0&&(_.current={x:W.clientX,y:W.clientY})}),onPointerMove:qe(t.onPointerMove,W=>{if(!_.current)return;const ce=W.clientX-_.current.x,ae=W.clientY-_.current.y,J=!!A.current,j=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=j?F(0,ce):0,ue=j?0:F(0,ae),ne=W.pointerType==="touch"?10:2,ve={x:K,y:ue},ge={originalEvent:W,delta:ve};J?(A.current=ve,Th(F4,h,ge,{discrete:!1})):ME(ve,y.swipeDirection,ne)?(A.current=ve,Th(j4,d,ge,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ce)>ne||Math.abs(ae)>ne)&&(_.current=null)}),onPointerUp:qe(t.onPointerUp,W=>{const ce=A.current,ae=W.target;if(ae.hasPointerCapture(W.pointerId)&&ae.releasePointerCapture(W.pointerId),A.current=null,_.current=null,ce){const J=W.currentTarget,j={originalEvent:W,delta:ce};ME(ce,y.swipeDirection,y.swipeThreshold)?Th($4,m,j,{discrete:!0}):Th(U4,f,j,{discrete:!0}),J.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),H4=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jp(Sd,e),[i,o]=S.useState(!1),[a,l]=S.useState(!1);return K4(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Pw,{asChild:!0,children:p.jsx(Zp,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},q4="ToastTitle",RP=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(rt.div,{...r,ref:e})});RP.displayName=q4;var G4="ToastDescription",kP=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(rt.div,{...r,ref:e})});kP.displayName=G4;var NP="ToastAction",DP=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(MP,{altText:n,asChild:!0,children:p.jsx(Nw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NP}\`. Expected non-empty \`string\`.`),null)});DP.displayName=NP;var OP="ToastClose",Nw=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=z4(OP,n);return p.jsx(MP,{asChild:!0,children:p.jsx(rt.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,s.onClose)})})});Nw.displayName=OP;var MP=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function VP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Y4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...VP(r))}}),e}function Th(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?wP(s,i):s.dispatchEvent(i)}var ME=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function K4(t=()=>{}){const e=cs(t);Ls(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Y4(t){return t.nodeType===t.ELEMENT_NODE}function Q4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var X4=bP,LP=CP,jP=PP,FP=RP,UP=kP,$P=DP,BP=Nw;function zP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=zP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function WP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=zP(t))&&(r&&(r+=" "),r+=e);return r}const VE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LE=WP,Dw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=VE(d)||VE(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(E=>{let[y,T]=E;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,h,f]:c},[]);return LE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...J4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HP("lucide",s),...a},[...o.map(([c,d])=>S.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(eF,{ref:i,iconNode:e,className:HP(`lucide-${Z4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=st("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=st("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=st("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=st("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=st("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=st("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=st("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=st("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=st("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mw="-",uF=t=>{const e=hF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Mw);return a[0]===""&&a.length!==1&&a.shift(),JP(a,e)||dF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},JP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?JP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Mw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},FE=/^\[(.+)\]$/,dF=t=>{if(FE.test(t)){const e=FE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return pF(Object.entries(t.classGroups),n).forEach(([i,o])=>{xv(o,r,i,e)}),r},xv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:UE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(fF(s)){xv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{xv(o,UE(e,i),n,r)})})},UE=(t,e)=>{let n=t;return e.split(Mw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fF=t=>t.isThemeGetter,pF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,mF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},eR="!",gF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let v=a[T];if(c===0){if(v===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(v==="/"){h=T;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(eR),E=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:E,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},yF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vF=t=>({cache:mF(t.cacheSize),parseClassName:gF(t),...uF(t)}),wF=/\s+/,_F=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(wF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let E=!!m,y=r(E?f.substring(0,m):f);if(!y){if(!E){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}E=!1}const T=yF(d).join(":"),v=h?T+eR:T,w=v+y;if(i.includes(w))continue;i.push(w);const _=s(y,E);for(let A=0;A<_.length;++A){const N=_[A];i.push(v+N)}a=c+(a.length>0?" "+a:a)}return a};function xF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tR(e))&&(r&&(r+=" "),r+=n);return r}const tR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tR(t[r]))&&(n&&(n+=" "),n+=e);return n};function EF(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=vF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=_F(l,n);return s(l,d),d}return function(){return i(xF.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nR=/^\[(?:([a-z-]+):)?(.+)\]$/i,TF=/^\d+\/\d+$/,SF=new Set(["px","full","screen"]),bF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=t=>al(t)||SF.has(t)||TF.test(t),oi=t=>nc(t,"length",LF),al=t=>!!t&&!Number.isNaN(Number(t)),Og=t=>nc(t,"number",al),Bc=t=>!!t&&Number.isInteger(Number(t)),RF=t=>t.endsWith("%")&&al(t.slice(0,-1)),ye=t=>nR.test(t),ai=t=>bF.test(t),kF=new Set(["length","size","percentage"]),NF=t=>nc(t,kF,rR),DF=t=>nc(t,"position",rR),OF=new Set(["image","url"]),MF=t=>nc(t,OF,FF),VF=t=>nc(t,"",jF),zc=()=>!0,nc=(t,e,n)=>{const r=nR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LF=t=>IF.test(t)&&!CF.test(t),rR=()=>!1,jF=t=>AF.test(t),FF=t=>PF.test(t),UF=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),c=We("grayscale"),d=We("hueRotate"),h=We("invert"),f=We("gap"),m=We("gradientColorStops"),E=We("gradientColorStopPositions"),y=We("inset"),T=We("margin"),v=We("opacity"),w=We("padding"),_=We("saturate"),A=We("scale"),N=We("sepia"),M=We("skew"),I=We("space"),b=We("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ye,e],O=()=>[ye,e],k=()=>["",_s,oi],W=()=>["auto",al,ye],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ye],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[al,ye];return{cacheSize:500,separator:":",theme:{colors:[zc],spacing:[_s,oi],blur:["none","",ai,ye],brightness:ue(),borderColor:[t],borderRadius:["none","","full",ai,ye],borderSpacing:O(),borderWidth:k(),contrast:ue(),grayscale:F(),hueRotate:ue(),invert:F(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[RF,oi],inset:D(),margin:D(),opacity:ue(),padding:O(),saturate:ue(),scale:ue(),sepia:F(),skew:ue(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[ai]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),ye]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bc,ye]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Bc,ye]}],"grid-cols":[{"grid-cols":[zc]}],"col-start-end":[{col:["auto",{span:["full",Bc,ye]},ye]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[zc]}],"row-start-end":[{row:["auto",{span:[Bc,ye]},ye]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[ai]},ai]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ai,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Og]}],"font-family":[{font:[zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",al,Og]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,oi]}],"underline-offset":[{"underline-offset":["auto",_s,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),DF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[_s,ye]}],"outline-w":[{outline:[_s,oi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[_s,oi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ai,VF]}],"shadow-color":[{shadow:[zc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ai,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Bc,ye]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_s,oi,Og]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$F=EF(UF);function Ne(...t){return $F(WP(t))}const BF=X4,sR=S.forwardRef(({className:t,...e},n)=>p.jsx(LP,{ref:n,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sR.displayName=LP.displayName;const zF=Dw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iR=S.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(jP,{ref:r,className:Ne(zF({variant:e}),t),...n}));iR.displayName=jP.displayName;const WF=S.forwardRef(({className:t,...e},n)=>p.jsx($P,{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));WF.displayName=$P.displayName;const oR=S.forwardRef(({className:t,...e},n)=>p.jsx(BP,{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(bd,{className:"h-4 w-4"})}));oR.displayName=BP.displayName;const aR=S.forwardRef(({className:t,...e},n)=>p.jsx(FP,{ref:n,className:Ne("text-sm font-semibold",t),...e}));aR.displayName=FP.displayName;const lR=S.forwardRef(({className:t,...e},n)=>p.jsx(UP,{ref:n,className:Ne("text-sm opacity-90",t),...e}));lR.displayName=UP.displayName;function HF(){const{toasts:t}=Gs();return p.jsxs(BF,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(iR,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(aR,{children:n}),r&&p.jsx(lR,{children:r})]}),s,p.jsx(oR,{})]},e)}),p.jsx(sR,{})]})}var $E=["light","dark"],qF="(prefers-color-scheme: dark)",GF=S.createContext(void 0),KF={setTheme:t=>{},themes:[]},YF=()=>{var t;return(t=S.useContext(GF))!=null?t:KF};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?$E.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(E,y=!1,T=!0)=>{let v=o?o[E]:E,w=y?E+"|| ''":`'${v}'`,_="";return s&&T&&!y&&$E.includes(E)&&(_+=`d.style.colorScheme = '${E}';`),n==="class"?y||v?_+=`c.add(${w})`:_+="null":v&&(_+=`d[s](n,${w})`),_},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${qF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var QF=t=>{switch(t){case"success":return JF;case"info":return t3;case"warning":return e3;case"error":return n3;default:return null}},XF=Array(12).fill(0),ZF=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},XF.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JF=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),e3=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),t3=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),n3=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),r3=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),s3=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ev=1,i3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ev++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],q.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(a3(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Ev++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gn=new i3,o3=(t,e)=>{let n=(e==null?void 0:e.id)||Ev++;return gn.addToast({title:t,...e,id:n}),n},a3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",l3=o3,c3=()=>gn.toasts,u3=()=>gn.getActiveToasts();Object.assign(l3,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:c3,getToasts:u3});function d3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}d3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sh(t){return t.label!==void 0}var h3=3,f3="32px",p3="16px",BE=4e3,m3=356,g3=14,y3=20,v3=200;function dr(...t){return t.filter(Boolean).join(" ")}function w3(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var _3=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:f,toast:m,unstyled:E,interacting:y,setHeights:T,visibleToasts:v,heights:w,index:_,toasts:A,expanded:N,removeToast:M,defaultRichColors:I,closeButton:b,style:P,cancelButtonStyle:R,actionButtonStyle:D,className:O="",descriptionClassName:k="",duration:W,position:ce,gap:ae,loadingIcon:J,expandByDefault:j,classNames:F,icons:K,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:ne}=t,[ve,ge]=q.useState(null),[Ke,gt]=q.useState(null),[Ie,Or]=q.useState(!1),[ar,gs]=q.useState(!1),[Mr,ys]=q.useState(!1),[zn,vo]=q.useState(!1),[wc,Qs]=q.useState(!1),[wo,Xs]=q.useState(0),[Xe,Pt]=q.useState(0),Vr=q.useRef(m.duration||W||BE),Wd=q.useRef(null),Lr=q.useRef(null),Bm=_===0,_o=_+1<=v,sn=m.type,vs=m.dismissible!==!1,_c=m.className||"",zm=m.descriptionClassName||"",xa=q.useMemo(()=>w.findIndex(se=>se.toastId===m.id)||0,[w,m.id]),Hd=q.useMemo(()=>{var se;return(se=m.closeButton)!=null?se:b},[m.closeButton,b]),xc=q.useMemo(()=>m.duration||W||BE,[m.duration,W]),ws=q.useRef(0),jr=q.useRef(0),Ea=q.useRef(0),pn=q.useRef(null),[qd,Ta]=ce.split("-"),Ec=q.useMemo(()=>w.reduce((se,De,Ue)=>Ue>=xa?se:se+De.height,0),[w,xa]),Zs=s3(),Gd=m.invert||f,St=sn==="loading";jr.current=q.useMemo(()=>xa*ae+Ec,[xa,Ec]),q.useEffect(()=>{Vr.current=xc},[xc]),q.useEffect(()=>{Or(!0)},[]),q.useEffect(()=>{let se=Lr.current;if(se){let De=se.getBoundingClientRect().height;return Pt(De),T(Ue=>[{toastId:m.id,height:De,position:m.position},...Ue]),()=>T(Ue=>Ue.filter(Rt=>Rt.toastId!==m.id))}},[T,m.id]),q.useLayoutEffect(()=>{if(!Ie)return;let se=Lr.current,De=se.style.height;se.style.height="auto";let Ue=se.getBoundingClientRect().height;se.style.height=De,Pt(Ue),T(Rt=>Rt.find(An=>An.toastId===m.id)?Rt.map(An=>An.toastId===m.id?{...An,height:Ue}:An):[{toastId:m.id,height:Ue,position:m.position},...Rt])},[Ie,m.title,m.description,T,m.id]);let lr=q.useCallback(()=>{gs(!0),Xs(jr.current),T(se=>se.filter(De=>De.toastId!==m.id)),setTimeout(()=>{M(m)},v3)},[m,M,T,jr]);q.useEffect(()=>{if(m.promise&&sn==="loading"||m.duration===1/0||m.type==="loading")return;let se;return N||y||ne&&Zs?(()=>{if(Ea.current<ws.current){let De=new Date().getTime()-ws.current;Vr.current=Vr.current-De}Ea.current=new Date().getTime()})():Vr.current!==1/0&&(ws.current=new Date().getTime(),se=setTimeout(()=>{var De;(De=m.onAutoClose)==null||De.call(m,m),lr()},Vr.current)),()=>clearTimeout(se)},[N,y,m,sn,ne,Zs,lr]),q.useEffect(()=>{m.delete&&lr()},[lr,m.delete]);function xo(){var se,De,Ue;return K!=null&&K.loading?q.createElement("div",{className:dr(F==null?void 0:F.loader,(se=m==null?void 0:m.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":sn==="loading"},K.loading):J?q.createElement("div",{className:dr(F==null?void 0:F.loader,(De=m==null?void 0:m.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":sn==="loading"},J):q.createElement(ZF,{className:dr(F==null?void 0:F.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader),visible:sn==="loading"})}return q.createElement("li",{tabIndex:0,ref:Lr,className:dr(O,_c,F==null?void 0:F.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[sn],(n=m==null?void 0:m.classNames)==null?void 0:n[sn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||E),"data-mounted":Ie,"data-promise":!!m.promise,"data-swiped":wc,"data-removed":ar,"data-visible":_o,"data-y-position":qd,"data-x-position":Ta,"data-index":_,"data-front":Bm,"data-swiping":Mr,"data-dismissible":vs,"data-type":sn,"data-invert":Gd,"data-swipe-out":zn,"data-swipe-direction":Ke,"data-expanded":!!(N||j&&Ie),style:{"--index":_,"--toasts-before":_,"--z-index":A.length-_,"--offset":`${ar?wo:jr.current}px`,"--initial-height":j?"auto":`${Xe}px`,...P,...m.style},onDragEnd:()=>{ys(!1),ge(null),pn.current=null},onPointerDown:se=>{St||!vs||(Wd.current=new Date,Xs(jr.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(ys(!0),pn.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,De,Ue,Rt;if(zn||!vs)return;pn.current=null;let An=Number(((se=Lr.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fr=Number(((De=Lr.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wn=new Date().getTime()-((Ue=Wd.current)==null?void 0:Ue.getTime()),mn=ve==="x"?An:Fr,cr=Math.abs(mn)/Wn;if(Math.abs(mn)>=y3||cr>.11){Xs(jr.current),(Rt=m.onDismiss)==null||Rt.call(m,m),gt(ve==="x"?An>0?"right":"left":Fr>0?"down":"up"),lr(),vo(!0),Qs(!1);return}ys(!1),ge(null)},onPointerMove:se=>{var De,Ue,Rt,An;if(!pn.current||!vs||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let Fr=se.clientY-pn.current.y,Wn=se.clientX-pn.current.x,mn=(Ue=t.swipeDirections)!=null?Ue:w3(ce);!ve&&(Math.abs(Wn)>1||Math.abs(Fr)>1)&&ge(Math.abs(Wn)>Math.abs(Fr)?"x":"y");let cr={x:0,y:0};ve==="y"?(mn.includes("top")||mn.includes("bottom"))&&(mn.includes("top")&&Fr<0||mn.includes("bottom")&&Fr>0)&&(cr.y=Fr):ve==="x"&&(mn.includes("left")||mn.includes("right"))&&(mn.includes("left")&&Wn<0||mn.includes("right")&&Wn>0)&&(cr.x=Wn),(Math.abs(cr.x)>0||Math.abs(cr.y)>0)&&Qs(!0),(Rt=Lr.current)==null||Rt.style.setProperty("--swipe-amount-x",`${cr.x}px`),(An=Lr.current)==null||An.style.setProperty("--swipe-amount-y",`${cr.y}px`)}},Hd&&!m.jsx?q.createElement("button",{"aria-label":ue,"data-disabled":St,"data-close-button":!0,onClick:St||!vs?()=>{}:()=>{var se;lr(),(se=m.onDismiss)==null||se.call(m,m)},className:dr(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:r3):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:q.createElement(q.Fragment,null,sn||m.icon||m.promise?q.createElement("div",{"data-icon":"",className:dr(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||xo():null,m.type!=="loading"?m.icon||(K==null?void 0:K[sn])||QF(sn):null):null,q.createElement("div",{"data-content":"",className:dr(F==null?void 0:F.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:dr(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?q.createElement("div",{"data-description":"",className:dr(k,zm,F==null?void 0:F.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&Sh(m.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:se=>{var De,Ue;Sh(m.cancel)&&vs&&((Ue=(De=m.cancel).onClick)==null||Ue.call(De,se),lr())},className:dr(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&Sh(m.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:se=>{var De,Ue;Sh(m.action)&&((Ue=(De=m.action).onClick)==null||Ue.call(De,se),!se.defaultPrevented&&lr())},className:dr(F==null?void 0:F.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function zE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function x3(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?p3:f3;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var E3=S.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:E=h3,toastOptions:y,dir:T=zE(),gap:v=g3,loadingIcon:w,icons:_,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:N}=t,[M,I]=q.useState([]),b=q.useMemo(()=>Array.from(new Set([r].concat(M.filter(ne=>ne.position).map(ne=>ne.position)))),[M,r]),[P,R]=q.useState([]),[D,O]=q.useState(!1),[k,W]=q.useState(!1),[ce,ae]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=q.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=q.useRef(null),K=q.useRef(!1),ue=q.useCallback(ne=>{I(ve=>{var ge;return(ge=ve.find(Ke=>Ke.id===ne.id))!=null&&ge.delete||gn.dismiss(ne.id),ve.filter(({id:Ke})=>Ke!==ne.id)})},[]);return q.useEffect(()=>gn.subscribe(ne=>{if(ne.dismiss){I(ve=>ve.map(ge=>ge.id===ne.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{pP.flushSync(()=>{I(ve=>{let ge=ve.findIndex(Ke=>Ke.id===ne.id);return ge!==-1?[...ve.slice(0,ge),{...ve[ge],...ne},...ve.slice(ge+1)]:[ne,...ve]})})})}),[]),q.useEffect(()=>{if(d!=="system"){ae(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ve})=>{ae(ve?"dark":"light")})}catch{ne.addListener(({matches:ge})=>{try{ae(ge?"dark":"light")}catch(Ke){console.error(Ke)}})}},[d]),q.useEffect(()=>{M.length<=1&&O(!1)},[M]),q.useEffect(()=>{let ne=ve=>{var ge,Ke;s.every(gt=>ve[gt]||ve.code===gt)&&(O(!0),(ge=J.current)==null||ge.focus()),ve.code==="Escape"&&(document.activeElement===J.current||(Ke=J.current)!=null&&Ke.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),q.useEffect(()=>{if(J.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,K.current=!1)}},[J.current]),q.createElement("section",{ref:e,"aria-label":`${A} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((ne,ve)=>{var ge;let[Ke,gt]=ne.split("-");return M.length?q.createElement("ol",{key:ne,dir:T==="auto"?zE():T,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":Ke,"data-lifted":D&&M.length>1&&!i,"data-x-position":gt,style:{"--front-toast-height":`${((ge=P[0])==null?void 0:ge.height)||0}px`,"--width":`${m3}px`,"--gap":`${v}px`,...m,...x3(l,c)},onBlur:Ie=>{K.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(K.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||K.current||(K.current=!0,F.current=Ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},M.filter(Ie=>!Ie.position&&ve===0||Ie.position===ne).map((Ie,Or)=>{var ar,gs;return q.createElement(_3,{key:Ie.id,icons:_,index:Or,toast:Ie,defaultRichColors:h,duration:(ar=y==null?void 0:y.duration)!=null?ar:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:E,closeButton:(gs=y==null?void 0:y.closeButton)!=null?gs:o,interacting:k,position:ne,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ue,toasts:M.filter(Mr=>Mr.position==Ie.position),heights:P.filter(Mr=>Mr.position==Ie.position),setHeights:R,expandByDefault:i,gap:v,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const T3=({...t})=>{const{theme:e="system"}=YF();return p.jsx(E3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var S3=j0[" useId ".trim().toString()]||(()=>{}),b3=0;function Mg(t){const[e,n]=S.useState(S3());return Ls(()=>{t||n(r=>r??String(b3++))},[t]),t||(e?`radix-${e}`:"")}const I3=["top","right","bottom","left"],Ki=Math.min,kn=Math.max,Gf=Math.round,bh=Math.floor,Jr=t=>({x:t,y:t}),C3={left:"right",right:"left",bottom:"top",top:"bottom"},A3={start:"end",end:"start"};function Tv(t,e,n){return kn(t,Ki(e,n))}function js(t,e){return typeof t=="function"?t(e):t}function Fs(t){return t.split("-")[0]}function rc(t){return t.split("-")[1]}function Vw(t){return t==="x"?"y":"x"}function Lw(t){return t==="y"?"height":"width"}const P3=new Set(["top","bottom"]);function Qr(t){return P3.has(Fs(t))?"y":"x"}function jw(t){return Vw(Qr(t))}function R3(t,e,n){n===void 0&&(n=!1);const r=rc(t),s=jw(t),i=Lw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Kf(o)),[o,Kf(o)]}function k3(t){const e=Kf(t);return[Sv(t),e,Sv(e)]}function Sv(t){return t.replace(/start|end/g,e=>A3[e])}const WE=["left","right"],HE=["right","left"],N3=["top","bottom"],D3=["bottom","top"];function O3(t,e,n){switch(t){case"top":case"bottom":return n?e?HE:WE:e?WE:HE;case"left":case"right":return e?N3:D3;default:return[]}}function M3(t,e,n,r){const s=rc(t);let i=O3(Fs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Sv)))),i}function Kf(t){return t.replace(/left|right|bottom|top/g,e=>C3[e])}function V3(t){return{top:0,right:0,bottom:0,left:0,...t}}function cR(t){return typeof t!="number"?V3(t):{top:t,right:t,bottom:t,left:t}}function Yf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function qE(t,e,n){let{reference:r,floating:s}=t;const i=Qr(e),o=jw(e),a=Lw(o),l=Fs(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(rc(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const L3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=qE(c,r,l),f=r,m={},E=0;for(let y=0;y<a.length;y++){const{name:T,fn:v}=a[y],{x:w,y:_,data:A,reset:N}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,h=_??h,m={...m,[T]:{...m[T],...A}},N&&E<=50&&(E++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:h}=qE(c,f,l)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Hu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=js(e,t),E=cR(m),T=a[f?h==="floating"?"reference":"floating":h],v=Yf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},N=Yf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(v.top-N.top+E.top)/A.y,bottom:(N.bottom-v.bottom+E.bottom)/A.y,left:(v.left-N.left+E.left)/A.x,right:(N.right-v.right+E.right)/A.x}}const j3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=js(t,e)||{};if(c==null)return{};const h=cR(d),f={x:n,y:r},m=jw(s),E=Lw(m),y=await o.getDimensions(c),T=m==="y",v=T?"top":"left",w=T?"bottom":"right",_=T?"clientHeight":"clientWidth",A=i.reference[E]+i.reference[m]-f[m]-i.floating[E],N=f[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=M?M[_]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[_]||i.floating[E]);const b=A/2-N/2,P=I/2-y[E]/2-1,R=Ki(h[v],P),D=Ki(h[w],P),O=R,k=I-y[E]-D,W=I/2-y[E]/2+b,ce=Tv(O,W,k),ae=!l.arrow&&rc(s)!=null&&W!==ce&&i.reference[E]/2-(W<O?R:D)-y[E]/2<0,J=ae?W<O?W-O:W-k:0;return{[m]:f[m]+J,data:{[m]:ce,centerOffset:W-ce-J,...ae&&{alignmentOffset:J}},reset:ae}}}),F3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:y=!0,...T}=js(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Fs(s),w=Qr(a),_=Fs(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=f||(_||!y?[Kf(a)]:k3(a)),M=E!=="none";!f&&M&&N.push(...M3(a,y,E,A));const I=[a,...N],b=await Hu(e,T),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(b[v]),h){const W=R3(s,o,A);P.push(b[W[0]],b[W[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(W=>W<=0)){var D,O;const W=(((D=i.flip)==null?void 0:D.index)||0)+1,ce=I[W];if(ce&&(!(h==="alignment"?w!==Qr(ce):!1)||R.every(j=>j.overflows[0]>0&&Qr(j.placement)===w)))return{data:{index:W,overflows:R},reset:{placement:ce}};let ae=(O=R.filter(J=>J.overflows[0]<=0).sort((J,j)=>J.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!ae)switch(m){case"bestFit":{var k;const J=(k=R.filter(j=>{if(M){const F=Qr(j.placement);return F===w||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:k[0];J&&(ae=J);break}case"initialPlacement":ae=a;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function GE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function KE(t){return I3.some(e=>t[e]>=0)}const U3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=js(t,e);switch(r){case"referenceHidden":{const i=await Hu(e,{...s,elementContext:"reference"}),o=GE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:KE(o)}}}case"escaped":{const i=await Hu(e,{...s,altBoundary:!0}),o=GE(i,n.floating);return{data:{escapedOffsets:o,escaped:KE(o)}}}default:return{}}}}},uR=new Set(["left","top"]);async function $3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fs(n),a=rc(n),l=Qr(n)==="y",c=uR.has(o)?-1:1,d=i&&l?-1:1,h=js(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof E=="number"&&(m=a==="end"?E*-1:E),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const B3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await $3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},z3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:v,y:w}=T;return{x:v,y:w}}},...l}=js(t,e),c={x:n,y:r},d=await Hu(e,l),h=Qr(Fs(s)),f=Vw(h);let m=c[f],E=c[h];if(i){const T=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=m+d[T],_=m-d[v];m=Tv(w,m,_)}if(o){const T=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=E+d[T],_=E-d[v];E=Tv(w,E,_)}const y=a.fn({...e,[f]:m,[h]:E});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[h]:o}}}}}},W3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=js(t,e),d={x:n,y:r},h=Qr(s),f=Vw(h);let m=d[f],E=d[h];const y=js(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=f==="y"?"height":"width",A=i.reference[f]-i.floating[_]+T.mainAxis,N=i.reference[f]+i.reference[_]-T.mainAxis;m<A?m=A:m>N&&(m=N)}if(c){var v,w;const _=f==="y"?"width":"height",A=uR.has(Fs(s)),N=i.reference[h]-i.floating[_]+(A&&((v=o.offset)==null?void 0:v[h])||0)+(A?0:T.crossAxis),M=i.reference[h]+i.reference[_]+(A?0:((w=o.offset)==null?void 0:w[h])||0)-(A?T.crossAxis:0);E<N?E=N:E>M&&(E=M)}return{[f]:m,[h]:E}}}},H3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=js(t,e),d=await Hu(e,c),h=Fs(s),f=rc(s),m=Qr(s)==="y",{width:E,height:y}=i.floating;let T,v;h==="top"||h==="bottom"?(T=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,T=f==="end"?"top":"bottom");const w=y-d.top-d.bottom,_=E-d.left-d.right,A=Ki(y-d[T],w),N=Ki(E-d[v],_),M=!e.middlewareData.shift;let I=A,b=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),M&&!f){const R=kn(d.left,0),D=kn(d.right,0),O=kn(d.top,0),k=kn(d.bottom,0);m?b=E-2*(R!==0||D!==0?R+D:kn(d.left,d.right)):I=y-2*(O!==0||k!==0?O+k:kn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:I});const P=await o.getDimensions(a.floating);return E!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function em(){return typeof window<"u"}function sc(t){return dR(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fs(t){var e;return(e=(dR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dR(t){return em()?t instanceof Node||t instanceof Mn(t).Node:!1}function br(t){return em()?t instanceof Element||t instanceof Mn(t).Element:!1}function us(t){return em()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function YE(t){return!em()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}const q3=new Set(["inline","contents"]);function Id(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!q3.has(s)}const G3=new Set(["table","td","th"]);function K3(t){return G3.has(sc(t))}const Y3=[":popover-open",":modal"];function tm(t){return Y3.some(e=>{try{return t.matches(e)}catch{return!1}})}const Q3=["transform","translate","scale","rotate","perspective"],X3=["transform","translate","scale","rotate","perspective","filter"],Z3=["paint","layout","strict","content"];function Fw(t){const e=Uw(),n=br(t)?Ir(t):t;return Q3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||X3.some(r=>(n.willChange||"").includes(r))||Z3.some(r=>(n.contain||"").includes(r))}function J3(t){let e=Yi(t);for(;us(e)&&!Dl(e);){if(Fw(e))return e;if(tm(e))return null;e=Yi(e)}return null}function Uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eU=new Set(["html","body","#document"]);function Dl(t){return eU.has(sc(t))}function Ir(t){return Mn(t).getComputedStyle(t)}function nm(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Yi(t){if(sc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YE(t)&&t.host||fs(t);return YE(e)?e.host:e}function hR(t){const e=Yi(t);return Dl(e)?t.ownerDocument?t.ownerDocument.body:t.body:us(e)&&Id(e)?e:hR(e)}function qu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=hR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Mn(s);if(i){const a=bv(o);return e.concat(o,o.visualViewport||[],Id(s)?s:[],a&&n?qu(a):[])}return e.concat(s,qu(s,[],n))}function bv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fR(t){const e=Ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=us(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Gf(n)!==i||Gf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function $w(t){return br(t)?t:t.contextElement}function ll(t){const e=$w(t);if(!us(e))return Jr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=fR(e);let o=(i?Gf(n.width):n.width)/r,a=(i?Gf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tU=Jr(0);function pR(t){const e=Mn(t);return!Uw()||!e.visualViewport?tU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mn(t)?!1:e}function ta(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=$w(t);let o=Jr(1);e&&(r?br(r)&&(o=ll(r)):o=ll(t));const a=nU(i,n,r)?pR(i):Jr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Mn(i),m=r&&br(r)?Mn(r):r;let E=f,y=bv(E);for(;y&&r&&m!==E;){const T=ll(y),v=y.getBoundingClientRect(),w=Ir(y),_=v.left+(y.clientLeft+parseFloat(w.paddingLeft))*T.x,A=v.top+(y.clientTop+parseFloat(w.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,h*=T.y,l+=_,c+=A,E=Mn(y),y=bv(E)}}return Yf({width:d,height:h,x:l,y:c})}function Bw(t,e){const n=nm(t).scrollLeft;return e?e.left+n:ta(fs(t)).left+n}function mR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Bw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function rU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=fs(r),a=e?tm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Jr(1);const d=Jr(0),h=us(r);if((h||!h&&!i)&&((sc(r)!=="body"||Id(o))&&(l=nm(r)),us(r))){const m=ta(r);c=ll(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?mR(o,l,!0):Jr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function sU(t){return Array.from(t.getClientRects())}function iU(t){const e=fs(t),n=nm(t),r=t.ownerDocument.body,s=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bw(t);const a=-n.scrollTop;return Ir(r).direction==="rtl"&&(o+=kn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function oU(t,e){const n=Mn(t),r=fs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Uw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const aU=new Set(["absolute","fixed"]);function lU(t,e){const n=ta(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=us(t)?ll(t):Jr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function QE(t,e,n){let r;if(e==="viewport")r=oU(t,n);else if(e==="document")r=iU(fs(t));else if(br(e))r=lU(e,n);else{const s=pR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Yf(r)}function gR(t,e){const n=Yi(t);return n===e||!br(n)||Dl(n)?!1:Ir(n).position==="fixed"||gR(n,e)}function cU(t,e){const n=e.get(t);if(n)return n;let r=qu(t,[],!1).filter(a=>br(a)&&sc(a)!=="body"),s=null;const i=Ir(t).position==="fixed";let o=i?Yi(t):t;for(;br(o)&&!Dl(o);){const a=Ir(o),l=Fw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&aU.has(s.position)||Id(o)&&!l&&gR(t,o))?r=r.filter(d=>d!==o):s=a,o=Yi(o)}return e.set(t,r),r}function uU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?tm(e)?[]:cU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=QE(e,d,s);return c.top=kn(h.top,c.top),c.right=Ki(h.right,c.right),c.bottom=Ki(h.bottom,c.bottom),c.left=kn(h.left,c.left),c},QE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dU(t){const{width:e,height:n}=fR(t);return{width:e,height:n}}function hU(t,e,n){const r=us(e),s=fs(e),i=n==="fixed",o=ta(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Jr(0);function c(){l.x=Bw(s)}if(r||!r&&!i)if((sc(e)!=="body"||Id(s))&&(a=nm(e)),r){const m=ta(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?mR(s,a):Jr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Vg(t){return Ir(t).position==="static"}function XE(t,e){if(!us(t)||Ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fs(t)===n&&(n=n.ownerDocument.body),n}function yR(t,e){const n=Mn(t);if(tm(t))return n;if(!us(t)){let s=Yi(t);for(;s&&!Dl(s);){if(br(s)&&!Vg(s))return s;s=Yi(s)}return n}let r=XE(t,e);for(;r&&K3(r)&&Vg(r);)r=XE(r,e);return r&&Dl(r)&&Vg(r)&&!Fw(r)?n:r||J3(t)||n}const fU=async function(t){const e=this.getOffsetParent||yR,n=this.getDimensions,r=await n(t.floating);return{reference:hU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pU(t){return Ir(t).direction==="rtl"}const mU={convertOffsetParentRelativeRectToViewportRelativeRect:rU,getDocumentElement:fs,getClippingRect:uU,getOffsetParent:yR,getElementRects:fU,getClientRects:sU,getDimensions:dU,getScale:ll,isElement:br,isRTL:pU};function vR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gU(t,e){let n=null,r;const s=fs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||e(),!f||!m)return;const E=bh(h),y=bh(s.clientWidth-(d+f)),T=bh(s.clientHeight-(h+m)),v=bh(d),_={rootMargin:-E+"px "+-y+"px "+-T+"px "+-v+"px",threshold:kn(0,Ki(1,l))||1};let A=!0;function N(M){const I=M[0].intersectionRatio;if(I!==l){if(!A)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!vR(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(N,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),i}function yU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$w(t),d=s||i?[...c?qu(c):[],...qu(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?gU(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let E,y=l?ta(t):null;l&&T();function T(){const v=ta(t);y&&!vR(y,v)&&n(),y=v,E=requestAnimationFrame(T)}return n(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(E)}}const vU=B3,wU=z3,_U=F3,xU=H3,EU=U3,ZE=j3,TU=W3,SU=(t,e,n)=>{const r=new Map,s={platform:mU,...n},i={...s.platform,_c:r};return L3(t,e,{...s,platform:i})};var bU=typeof document<"u",IU=function(){},nf=bU?S.useLayoutEffect:IU;function Qf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Qf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JE(t,e){const n=wR(t);return Math.round(e*n)/n}function Lg(t){const e=S.useRef(t);return nf(()=>{e.current=t}),e}function CU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=S.useState(r);Qf(f,r)||m(r);const[E,y]=S.useState(null),[T,v]=S.useState(null),w=S.useCallback(j=>{j!==M.current&&(M.current=j,y(j))},[]),_=S.useCallback(j=>{j!==I.current&&(I.current=j,v(j))},[]),A=i||E,N=o||T,M=S.useRef(null),I=S.useRef(null),b=S.useRef(d),P=l!=null,R=Lg(l),D=Lg(s),O=Lg(c),k=S.useCallback(()=>{if(!M.current||!I.current)return;const j={placement:e,strategy:n,middleware:f};D.current&&(j.platform=D.current),SU(M.current,I.current,j).then(F=>{const K={...F,isPositioned:O.current!==!1};W.current&&!Qf(b.current,K)&&(b.current=K,Td.flushSync(()=>{h(K)}))})},[f,e,n,D,O]);nf(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const W=S.useRef(!1);nf(()=>(W.current=!0,()=>{W.current=!1}),[]),nf(()=>{if(A&&(M.current=A),N&&(I.current=N),A&&N){if(R.current)return R.current(A,N,k);k()}},[A,N,k,R,P]);const ce=S.useMemo(()=>({reference:M,floating:I,setReference:w,setFloating:_}),[w,_]),ae=S.useMemo(()=>({reference:A,floating:N}),[A,N]),J=S.useMemo(()=>{const j={position:n,left:0,top:0};if(!ae.floating)return j;const F=JE(ae.floating,d.x),K=JE(ae.floating,d.y);return a?{...j,transform:"translate("+F+"px, "+K+"px)",...wR(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,ae.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:k,refs:ce,elements:ae,floatingStyles:J}),[d,k,ce,ae,J])}const AU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ZE({element:r.current,padding:s}).fn(n):{}:r?ZE({element:r,padding:s}).fn(n):{}}}},PU=(t,e)=>({...vU(t),options:[t,e]}),RU=(t,e)=>({...wU(t),options:[t,e]}),kU=(t,e)=>({...TU(t),options:[t,e]}),NU=(t,e)=>({..._U(t),options:[t,e]}),DU=(t,e)=>({...xU(t),options:[t,e]}),OU=(t,e)=>({...EU(t),options:[t,e]}),MU=(t,e)=>({...AU(t),options:[t,e]});var VU="Arrow",_R=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(rt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});_R.displayName=VU;var LU=_R;function jU(t){const[e,n]=S.useState(void 0);return Ls(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var xR="Popper",[ER,TR]=fa(xR),[kee,SR]=ER(xR),bR="PopperAnchor",IR=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=SR(bR,n),o=S.useRef(null),a=zt(e,o);return S.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(rt.div,{...s,ref:a})});IR.displayName=bR;var zw="PopperContent",[FU,UU]=ER(zw),CR=S.forwardRef((t,e)=>{var Ie,Or,ar,gs,Mr,ys;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:E,...y}=t,T=SR(zw,n),[v,w]=S.useState(null),_=zt(e,zn=>w(zn)),[A,N]=S.useState(null),M=jU(A),I=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],O=D.length>0,k={padding:R,boundary:D.filter(BU),altBoundary:O},{refs:W,floatingStyles:ce,placement:ae,isPositioned:J,middlewareData:j}=CU({strategy:"fixed",placement:P,whileElementsMounted:(...zn)=>yU(...zn,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[PU({mainAxis:s+b,alignmentAxis:o}),l&&RU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?kU():void 0,...k}),l&&NU({...k}),DU({...k,apply:({elements:zn,rects:vo,availableWidth:wc,availableHeight:Qs})=>{const{width:wo,height:Xs}=vo.reference,Xe=zn.floating.style;Xe.setProperty("--radix-popper-available-width",`${wc}px`),Xe.setProperty("--radix-popper-available-height",`${Qs}px`),Xe.setProperty("--radix-popper-anchor-width",`${wo}px`),Xe.setProperty("--radix-popper-anchor-height",`${Xs}px`)}}),A&&MU({element:A,padding:a}),zU({arrowWidth:I,arrowHeight:b}),f&&OU({strategy:"referenceHidden",...k})]}),[F,K]=RR(ae),ue=cs(E);Ls(()=>{J&&(ue==null||ue())},[J,ue]);const ne=(Ie=j.arrow)==null?void 0:Ie.x,ve=(Or=j.arrow)==null?void 0:Or.y,ge=((ar=j.arrow)==null?void 0:ar.centerOffset)!==0,[Ke,gt]=S.useState();return Ls(()=>{v&&gt(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:J?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(gs=j.transformOrigin)==null?void 0:gs.x,(Mr=j.transformOrigin)==null?void 0:Mr.y].join(" "),...((ys=j.hide)==null?void 0:ys.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(FU,{scope:n,placedSide:F,onArrowChange:N,arrowX:ne,arrowY:ve,shouldHideArrow:ge,children:p.jsx(rt.div,{"data-side":F,"data-align":K,...y,ref:_,style:{...y.style,animation:J?void 0:"none"}})})})});CR.displayName=zw;var AR="PopperArrow",$U={top:"bottom",right:"left",bottom:"top",left:"right"},PR=S.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=UU(AR,r),o=$U[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(LU,{...s,ref:n,style:{...s.style,display:"block"}})})});PR.displayName=AR;function BU(t){return t!==null}var zU=t=>({name:"transformOrigin",options:t,fn(e){var T,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=RR(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let E="",y="";return c==="bottom"?(E=o?h:`${f}px`,y=`${-l}px`):c==="top"?(E=o?h:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(E=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:E,y}}}});function RR(t){const[e,n="center"]=t.split("-");return[e,n]}var WU=IR,HU=CR,qU=PR,[rm,Nee]=fa("Tooltip",[TR]),Ww=TR(),kR="TooltipProvider",GU=700,eT="tooltip.open",[KU,NR]=rm(kR),DR=t=>{const{__scopeTooltip:e,delayDuration:n=GU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=S.useRef(!0),a=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(KU,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};DR.displayName=kR;var OR="Tooltip",[Dee,sm]=rm(OR),Iv="TooltipTrigger",YU=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sm(Iv,n),i=NR(Iv,n),o=Ww(n),a=S.useRef(null),l=zt(e,a,s.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),h=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(WU,{asChild:!0,...o,children:p.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:qe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:qe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:qe(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:qe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:qe(t.onBlur,s.onClose),onClick:qe(t.onClick,s.onClose)})})});YU.displayName=Iv;var QU="TooltipPortal",[Oee,XU]=rm(QU,{forceMount:void 0}),Ol="TooltipContent",MR=S.forwardRef((t,e)=>{const n=XU(Ol,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sm(Ol,t.__scopeTooltip);return p.jsx(tc,{present:r||o.open,children:o.disableHoverableContent?p.jsx(VR,{side:s,...i,ref:e}):p.jsx(ZU,{side:s,...i,ref:e})})}),ZU=S.forwardRef((t,e)=>{const n=sm(Ol,t.__scopeTooltip),r=NR(Ol,t.__scopeTooltip),s=S.useRef(null),i=zt(e,s),[o,a]=S.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=S.useCallback(()=>{a(null),h(!1)},[h]),m=S.useCallback((E,y)=>{const T=E.currentTarget,v={x:E.clientX,y:E.clientY},w=r5(v,T.getBoundingClientRect()),_=s5(v,w),A=i5(y.getBoundingClientRect()),N=a5([..._,...A]);a(N),h(!0)},[h]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(l&&d){const E=T=>m(T,d),y=T=>m(T,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",y)}}},[l,d,m,f]),S.useEffect(()=>{if(o){const E=y=>{const T=y.target,v={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),_=!o5(v,o);w?f():_&&(f(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,c,f]),p.jsx(VR,{...t,ref:i})}),[JU,e5]=rm(OR,{isInside:!1}),t5=vP("TooltipContent"),VR=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=sm(Ol,n),c=Ww(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(eT,d),()=>document.removeEventListener(eT,d)),[d]),S.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),p.jsx(Xp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs(HU,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(t5,{children:r}),p.jsx(JU,{scope:n,isInside:!0,children:p.jsx(D4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});MR.displayName=Ol;var LR="TooltipArrow",n5=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ww(n);return e5(LR,n).isInside?null:p.jsx(qU,{...s,...r,ref:e})});n5.displayName=LR;function r5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function s5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function i5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function o5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(s=!s)}return s}function a5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),l5(e)}function l5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var c5=DR,jR=MR;const u5=c5,d5=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(jR,{ref:r,sideOffset:e,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));d5.displayName=jR.displayName;var im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},om=typeof window>"u"||"Deno"in globalThis;function gr(){}function h5(t,e){return typeof t=="function"?t(e):t}function f5(t){return typeof t=="number"&&t>=0&&t!==1/0}function p5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Cv(t,e){return typeof t=="function"?t(e):t}function m5(t,e){return typeof t=="function"?t(e):t}function tT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Hw(o,e.options))return!1}else if(!Ku(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gu(e.options.mutationKey)!==Gu(i))return!1}else if(!Ku(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Hw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gu)(t)}function Gu(t){return JSON.stringify(t,(e,n)=>Av(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ku(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ku(t[n],e[n])):!1}function FR(t,e){if(t===e)return t;const n=rT(t)&&rT(e);if(n||Av(t)&&Av(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=FR(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function rT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Av(t){if(!sT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sT(t){return Object.prototype.toString.call(t)==="[object Object]"}function g5(t){return new Promise(e=>{setTimeout(e,t)})}function y5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FR(t,e):e}function v5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function w5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qw=Symbol();function UR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fo,Ei,vl,GI,_5=(GI=class extends im{constructor(){super();Re(this,Fo);Re(this,Ei);Re(this,vl);me(this,vl,e=>{if(!om&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ei)||this.setEventListener(U(this,vl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ei))==null||e.call(this),me(this,Ei,void 0))}setEventListener(e){var n;me(this,vl,e),(n=U(this,Ei))==null||n.call(this),me(this,Ei,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Fo)!==e&&(me(this,Fo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Fo)=="boolean"?U(this,Fo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fo=new WeakMap,Ei=new WeakMap,vl=new WeakMap,GI),$R=new _5,wl,Ti,_l,KI,x5=(KI=class extends im{constructor(){super();Re(this,wl,!0);Re(this,Ti);Re(this,_l);me(this,_l,e=>{if(!om&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Ti)||this.setEventListener(U(this,_l))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ti))==null||e.call(this),me(this,Ti,void 0))}setEventListener(e){var n;me(this,_l,e),(n=U(this,Ti))==null||n.call(this),me(this,Ti,e(this.setOnline.bind(this)))}setOnline(e){U(this,wl)!==e&&(me(this,wl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,wl)}},wl=new WeakMap,Ti=new WeakMap,_l=new WeakMap,KI),Xf=new x5;function E5(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function T5(t){return Math.min(1e3*2**t,3e4)}function BR(t){return(t??"online")==="online"?Xf.isOnline():!0}var zR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jg(t){return t instanceof zR}function WR(t){let e=!1,n=0,r=!1,s;const i=E5(),o=y=>{var T;r||(f(new zR(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>$R.isFocused()&&(t.networkMode==="always"||Xf.isOnline())&&t.canRun(),d=()=>BR(t.networkMode)&&t.canRun(),h=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var T;s=v=>{(r||c())&&y(v)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),E=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{var M;if(r)return;const w=t.retry??(om?0:3),_=t.retryDelay??T5,A=typeof _=="function"?_(n,v):_,N=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!N){f(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),g5(A).then(()=>c()?void 0:m()).then(()=>{e?f(v):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?E():m().then(E),i)}}var S5=t=>setTimeout(t,0);function b5(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=S5;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ln=b5(),Uo,YI,HR=(YI=class{constructor(){Re(this,Uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),f5(this.gcTime)&&me(this,Uo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(om?1/0:5*60*1e3))}clearGcTimeout(){U(this,Uo)&&(clearTimeout(U(this,Uo)),me(this,Uo,void 0))}},Uo=new WeakMap,YI),xl,$o,Gn,Bo,Yt,gd,zo,yr,xs,QI,I5=(QI=class extends HR{constructor(n){super();Re(this,yr);Re(this,xl);Re(this,$o);Re(this,Gn);Re(this,Bo);Re(this,Yt);Re(this,gd);Re(this,zo);me(this,zo,!1),me(this,gd,n.defaultOptions),this.setOptions(n.options),this.observers=[],me(this,Bo,n.client),me(this,Gn,U(this,Bo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,me(this,xl,A5(this.options)),this.state=n.state??U(this,xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Yt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,gd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Gn).remove(this)}setData(n,r){const s=y5(this.state.data,n,this.options);return Ht(this,yr,xs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ht(this,yr,xs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Yt))==null?void 0:s.promise;return(i=U(this,Yt))==null||i.cancel(n),r?r.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,xl))}isActive(){return this.observers.some(n=>m5(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Cv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!p5(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Yt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Yt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Gn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Yt)&&(U(this,zo)?U(this,Yt).cancel({revert:!0}):U(this,Yt).cancelRetry()),this.scheduleGc()),U(this,Gn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,yr,xs).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Yt))return U(this,Yt).continueRetry(),U(this,Yt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(E=>E.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(me(this,zo,!0),s.signal)})},o=()=>{const m=UR(this.options,r),y=(()=>{const T={client:U(this,Bo),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return me(this,zo,!1),this.options.persister?this.options.persister(m,y,this):m(y)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Bo),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),me(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Ht(this,yr,xs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var E,y,T,v;jg(m)&&m.silent||Ht(this,yr,xs).call(this,{type:"error",error:m}),jg(m)||((y=(E=U(this,Gn).config).onError)==null||y.call(E,m,this),(v=(T=U(this,Gn).config).onSettled)==null||v.call(T,this.state.data,m,this)),this.scheduleGc()};return me(this,Yt,WR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var E,y,T,v;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(y=(E=U(this,Gn).config).onSuccess)==null||y.call(E,m,this),(v=(T=U(this,Gn).config).onSettled)==null||v.call(T,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,E)=>{Ht(this,yr,xs).call(this,{type:"failed",failureCount:m,error:E})},onPause:()=>{Ht(this,yr,xs).call(this,{type:"pause"})},onContinue:()=>{Ht(this,yr,xs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,Yt).start()}},xl=new WeakMap,$o=new WeakMap,Gn=new WeakMap,Bo=new WeakMap,Yt=new WeakMap,gd=new WeakMap,zo=new WeakMap,yr=new WeakSet,xs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...C5(s.data,this.options),fetchMeta:n.meta??null};case"success":return me(this,$o,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return jg(i)&&i.revert&&U(this,$o)?{...U(this,$o),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Gn).notify({query:this,type:"updated",action:n})})},QI);function C5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function A5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hr,XI,P5=(XI=class extends im{constructor(e={}){super();Re(this,Hr);this.config=e,me(this,Hr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Hw(s,n);let o=this.get(i);return o||(o=new I5({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Hr).has(e.queryHash)||(U(this,Hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Hr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Hr).get(e)}getAll(){return[...U(this,Hr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tT(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hr=new WeakMap,XI),qr,on,Wo,Gr,ui,ZI,R5=(ZI=class extends HR{constructor(n){super();Re(this,Gr);Re(this,qr);Re(this,on);Re(this,Wo);this.mutationId=n.mutationId,me(this,on,n.mutationCache),me(this,qr,[]),this.state=n.state||k5(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,qr).includes(n)||(U(this,qr).push(n),this.clearGcTimeout(),U(this,on).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){me(this,qr,U(this,qr).filter(r=>r!==n)),this.scheduleGc(),U(this,on).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,qr).length||(this.state.status==="pending"?this.scheduleGc():U(this,on).remove(this))}continue(){var n;return((n=U(this,Wo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,h,f,m,E,y,T,v,w,_,A,N,M,I,b,P;const r=()=>{Ht(this,Gr,ui).call(this,{type:"continue"})};me(this,Wo,WR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{Ht(this,Gr,ui).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{Ht(this,Gr,ui).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,on).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Wo).canStart();try{if(s)r();else{Ht(this,Gr,ui).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,on).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));D!==this.state.context&&Ht(this,Gr,ui).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const R=await U(this,Wo).start();return await((h=(d=U(this,on).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,n,this.state.context)),await((y=(E=U(this,on).config).onSettled)==null?void 0:y.call(E,R,null,this.state.variables,this.state.context,this)),await((v=(T=this.options).onSettled)==null?void 0:v.call(T,R,null,n,this.state.context)),Ht(this,Gr,ui).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(w=U(this,on).config).onError)==null?void 0:_.call(w,R,n,this.state.context,this)),await((N=(A=this.options).onError)==null?void 0:N.call(A,R,n,this.state.context)),await((I=(M=U(this,on).config).onSettled)==null?void 0:I.call(M,void 0,R,this.state.variables,this.state.context,this)),await((P=(b=this.options).onSettled)==null?void 0:P.call(b,void 0,R,n,this.state.context)),R}finally{Ht(this,Gr,ui).call(this,{type:"error",error:R})}}finally{U(this,on).runNext(this)}}},qr=new WeakMap,on=new WeakMap,Wo=new WeakMap,Gr=new WeakSet,ui=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ln.batch(()=>{U(this,qr).forEach(s=>{s.onMutationUpdate(n)}),U(this,on).notify({mutation:this,type:"updated",action:n})})},ZI);function k5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ss,vr,yd,JI,N5=(JI=class extends im{constructor(e={}){super();Re(this,Ss);Re(this,vr);Re(this,yd);this.config=e,me(this,Ss,new Set),me(this,vr,new Map),me(this,yd,0)}build(e,n,r){const s=new R5({mutationCache:this,mutationId:++sh(this,yd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Ss).add(e);const n=Ih(e);if(typeof n=="string"){const r=U(this,vr).get(n);r?r.push(e):U(this,vr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Ss).delete(e)){const n=Ih(e);if(typeof n=="string"){const r=U(this,vr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,vr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ih(e);if(typeof n=="string"){const r=U(this,vr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ih(e);if(typeof n=="string"){const s=(r=U(this,vr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ln.batch(()=>{U(this,Ss).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Ss).clear(),U(this,vr).clear()})}getAll(){return Array.from(U(this,Ss))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nT(n,r))}findAll(e={}){return this.getAll().filter(n=>nT(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(gr))))}},Ss=new WeakMap,vr=new WeakMap,yd=new WeakMap,JI);function Ih(t){var e;return(e=t.options.scope)==null?void 0:e.id}function iT(t){return{onFetch:(e,n)=>{var d,h,f,m,E;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const T=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=UR(e.options,e.fetchOptions),w=async(_,A,N)=>{if(y)return Promise.reject();if(A==null&&_.pages.length)return Promise.resolve(_);const I=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:A,direction:N?"backward":"forward",meta:e.options.meta};return T(D),D})(),b=await v(I),{maxPages:P}=e.options,R=N?w5:v5;return{pages:R(_.pages,b,P),pageParams:R(_.pageParams,A,P)}};if(s&&i.length){const _=s==="backward",A=_?D5:oT,N={pages:i,pageParams:o},M=A(r,N);a=await w(N,M,_)}else{const _=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:oT(r,a);if(l>0&&A==null)break;a=await w(a,A),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function oT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function D5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ot,Si,bi,El,Tl,Ii,Sl,bl,eC,O5=(eC=class{constructor(t={}){Re(this,ot);Re(this,Si);Re(this,bi);Re(this,El);Re(this,Tl);Re(this,Ii);Re(this,Sl);Re(this,bl);me(this,ot,t.queryCache||new P5),me(this,Si,t.mutationCache||new N5),me(this,bi,t.defaultOptions||{}),me(this,El,new Map),me(this,Tl,new Map),me(this,Ii,0)}mount(){sh(this,Ii)._++,U(this,Ii)===1&&(me(this,Sl,$R.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ot).onFocus())})),me(this,bl,Xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ot).onOnline())})))}unmount(){var t,e;sh(this,Ii)._--,U(this,Ii)===0&&((t=U(this,Sl))==null||t.call(this),me(this,Sl,void 0),(e=U(this,bl))==null||e.call(this),me(this,bl,void 0))}isFetching(t){return U(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Si).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,ot).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Cv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,ot).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,ot).get(r.queryHash),i=s==null?void 0:s.state.data,o=h5(e,i);if(o!==void 0)return U(this,ot).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>U(this,ot).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,ot);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,ot);return ln.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ln.batch(()=>U(this,ot).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(gr).catch(gr)}invalidateQueries(t,e={}){return ln.batch(()=>(U(this,ot).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ln.batch(()=>U(this,ot).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(gr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,ot).build(this,e);return n.isStaleByTime(Cv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gr).catch(gr)}fetchInfiniteQuery(t){return t.behavior=iT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gr).catch(gr)}ensureInfiniteQueryData(t){return t.behavior=iT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xf.isOnline()?U(this,Si).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ot)}getMutationCache(){return U(this,Si)}getDefaultOptions(){return U(this,bi)}setDefaultOptions(t){me(this,bi,t)}setQueryDefaults(t,e){U(this,El).set(Gu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,El).values()],n={};return e.forEach(r=>{Ku(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Tl).set(Gu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Tl).values()],n={};return e.forEach(r=>{Ku(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,bi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,bi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,ot).clear(),U(this,Si).clear()}},ot=new WeakMap,Si=new WeakMap,bi=new WeakMap,El=new WeakMap,Tl=new WeakMap,Ii=new WeakMap,Sl=new WeakMap,bl=new WeakMap,eC),M5=S.createContext(void 0),V5=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(M5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}var Pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pi||(Pi={}));const aT="popstate";function L5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Pv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Zf(s)}return F5(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j5(){return Math.random().toString(36).substr(2,8)}function lT(t,e){return{usr:t.state,key:t.key,idx:e}}function Pv(t,e,n,r){return n===void 0&&(n=null),Yu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ic(e):e,{state:n,key:e&&e.key||r||j5()})}function Zf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Pi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Yu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Pi.Pop;let T=d(),v=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:v})}function f(T,v){a=Pi.Push;let w=Pv(y.location,T,v);c=d()+1;let _=lT(w,c),A=y.createHref(w);try{o.pushState(_,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(A)}i&&l&&l({action:a,location:y.location,delta:1})}function m(T,v){a=Pi.Replace;let w=Pv(y.location,T,v);c=d();let _=lT(w,c),A=y.createHref(w);o.replaceState(_,"",A),i&&l&&l({action:a,location:y.location,delta:0})}function E(T){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof T=="string"?T:Zf(T);return w=w.replace(/ $/,"%20"),Tt(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(aT,h),l=T,()=>{s.removeEventListener(aT,h),l=null}},createHref(T){return e(s,T)},createURL:E,encodeLocation(T){let v=E(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(T){return o.go(T)}};return y}var cT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cT||(cT={}));function U5(t,e,n){return n===void 0&&(n="/"),$5(t,e,n,!1)}function $5(t,e,n,r){let s=typeof e=="string"?ic(e):e,i=Gw(s.pathname||"/",n);if(i==null)return null;let o=GR(t);B5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=J5(i);a=X5(o[l],c,r)}return a}function GR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ui([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GR(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Y5(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of KR(i.path))s(i,o,l)}),e}function KR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=KR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function B5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z5=/^:[\w-]+$/,W5=3,H5=2,q5=1,G5=10,K5=-2,uT=t=>t==="*";function Y5(t,e){let n=t.split("/"),r=n.length;return n.some(uT)&&(r+=K5),e&&(r+=H5),n.filter(s=>!uT(s)).reduce((s,i)=>s+(z5.test(i)?W5:i===""?q5:G5),r)}function Q5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function X5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=dT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=dT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ui([i,h.pathname]),pathnameBase:r6(Ui([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ui([i,h.pathnameBase]))}return o}function dT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Z5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const E=a[h];return m&&!E?c[f]=void 0:c[f]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Z5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function J5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ic(t):t;return{pathname:n?n.startsWith("/")?n:t6(n,e):e,search:s6(r),hash:i6(s)}}function t6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YR(t,e){let n=n6(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QR(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ic(t):(s=Yu({},t),Tt(!s.pathname||!s.pathname.includes("?"),Fg("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),Fg("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),Fg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=e6(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ui=t=>t.join("/").replace(/\/\/+/g,"/"),r6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XR=["post","put","patch","delete"];new Set(XR);const a6=["get",...XR];new Set(a6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}const Kw=S.createContext(null),l6=S.createContext(null),pa=S.createContext(null),am=S.createContext(null),uo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ZR=S.createContext(null);function c6(t,e){let{relative:n}=e===void 0?{}:e;Cd()||Tt(!1);let{basename:r,navigator:s}=S.useContext(pa),{hash:i,pathname:o,search:a}=tk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ui([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Cd(){return S.useContext(am)!=null}function oc(){return Cd()||Tt(!1),S.useContext(am).location}function JR(t){S.useContext(pa).static||S.useLayoutEffect(t)}function ps(){let{isDataRoute:t}=S.useContext(uo);return t?E6():u6()}function u6(){Cd()||Tt(!1);let t=S.useContext(Kw),{basename:e,future:n,navigator:r}=S.useContext(pa),{matches:s}=S.useContext(uo),{pathname:i}=oc(),o=JSON.stringify(YR(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return JR(()=>{a.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=QR(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ui([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function ek(){let{matches:t}=S.useContext(uo),e=t[t.length-1];return e?e.params:{}}function tk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(pa),{matches:s}=S.useContext(uo),{pathname:i}=oc(),o=JSON.stringify(YR(s,r.v7_relativeSplatPath));return S.useMemo(()=>QR(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function d6(t,e){return h6(t,e)}function h6(t,e,n,r){Cd()||Tt(!1);let{navigator:s}=S.useContext(pa),{matches:i}=S.useContext(uo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=oc(),d;if(e){var h;let T=typeof e=="string"?ic(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||Tt(!1),d=T}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=U5(t,{pathname:m}),y=y6(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ui([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ui([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&y?S.createElement(am.Provider,{value:{location:Qu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pi.Pop}},y):y}function f6(){let t=x6(),e=o6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const p6=S.createElement(f6,null);class m6 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(uo.Provider,{value:this.props.routeContext},S.createElement(ZR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g6(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(Kw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(uo.Provider,{value:e},r)}function y6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,E=!1,y=null,T=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||p6,l&&(c<0&&f===0?(E=!0,T=null):c===f&&(E=!0,T=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let _;return m?_=y:E?_=T:h.route.Component?_=S.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,S.createElement(g6,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(m6,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var nk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nk||{}),Jf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jf||{});function v6(t){let e=S.useContext(Kw);return e||Tt(!1),e}function w6(t){let e=S.useContext(l6);return e||Tt(!1),e}function _6(t){let e=S.useContext(uo);return e||Tt(!1),e}function rk(t){let e=_6(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function x6(){var t;let e=S.useContext(ZR),n=w6(Jf.UseRouteError),r=rk(Jf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function E6(){let{router:t}=v6(nk.UseNavigateStable),e=rk(Jf.UseNavigateStable),n=S.useRef(!1);return JR(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qu({fromRouteId:e},i)))},[t,e])}function T6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fr(t){Tt(!1)}function S6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Pi.Pop,navigator:i,static:o=!1,future:a}=t;Cd()&&Tt(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:o,future:Qu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ic(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:E="default"}=r,y=S.useMemo(()=>{let T=Gw(d,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:m,key:E},navigationType:s}},[l,d,h,f,m,E,s]);return y==null?null:S.createElement(pa.Provider,{value:c},S.createElement(am.Provider,{children:n,value:y}))}function b6(t){let{children:e,location:n}=t;return d6(Rv(e),n)}new Promise(()=>{});function Rv(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Rv(r.props.children,i));return}r.type!==fr&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}function I6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function C6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A6(t,e){return t.button===0&&(!e||e==="_self")&&!C6(t)}const P6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R6="6";try{window.__reactRouterVersion=R6}catch{}const k6="startTransition",hT=j0[k6];function N6(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=L5({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=S.useCallback(h=>{c&&hT?hT(()=>l(h)):l(h)},[l,c]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>T6(r),[r]),S.createElement(S6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const D6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=I6(e,P6),{basename:m}=S.useContext(pa),E,y=!1;if(typeof c=="string"&&O6.test(c)&&(E=c,D6))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),N=Gw(A.pathname,m);A.origin===_.origin&&N!=null?c=N+A.search+A.hash:y=!0}catch{}let T=c6(c,{relative:s}),v=M6(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(_){r&&r(_),_.defaultPrevented||v(_)}return S.createElement("a",kv({},f,{href:E||T,onClick:y||i?r:w,ref:n,target:l}))});var fT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fT||(fT={}));var pT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pT||(pT={}));function M6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ps(),c=oc(),d=tk(t,{relative:o});return S.useCallback(h=>{if(A6(h,n)){h.preventDefault();let f=r!==void 0?r:Zf(c)===Zf(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const V6=()=>{};var mT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},L6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ik={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new j6;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F6=function(t){const e=sk(t);return ik.encodeByteArray(e,!0)},ep=function(t){return F6(t).replace(/\./g,"")},ok=function(t){try{return ik.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=()=>U6().__FIREBASE_DEFAULTS__,B6=()=>{if(typeof process>"u"||typeof mT>"u")return;const t=mT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ok(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return V6()||$6()||B6()||z6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ak=t=>{var e,n;return(n=(e=lm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},W6=t=>{const e=ak(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lk=()=>{var t;return(t=lm())==null?void 0:t.config},ck=t=>{var e;return(e=lm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ep(JSON.stringify(n)),ep(JSON.stringify(o)),""].join(".")}const gu={};function G6(){const t={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function K6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gT=!1;function dk(t,e){if(typeof window>"u"||typeof document>"u"||!ac(window.location.host)||gu[t]===e||gu[t]||gT)return;gu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=G6().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{gT=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=K6(r),m=n("text"),E=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),d(T,y);const A=c();l(w,v),_.append(w,E,T,A),document.body.appendChild(_)}i?(E.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Q6(){var e;const t=(e=lm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J6(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e9(){return!Q6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function t9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n9,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?r9(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kr(s,a,r)}}function r9(t,e){return t.replace(s9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const s9=/\{\$([^}]+)}/g;function i9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yT(i)&&yT(o)){if(!Qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function o9(t,e){const n=new a9(t,e);return n.subscribe.bind(n)}class a9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ug),s.error===void 0&&(s.error=Ug),s.complete===void 0&&(s.complete=Ug);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ug(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=1e3,u9=2,d9=4*60*60*1e3,h9=.5;function vT(t,e=c9,n=u9){const r=e*Math.pow(n,t),s=Math.round(h9*r*(Math.random()-.5)*2);return Math.min(d9,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m9(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p9(t){return t===Po?void 0:t}function m9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const y9={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},v9=Te.INFO,w9={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},_9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=w9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cm{constructor(e){this.name=e,this._logLevel=v9,this._logHandler=_9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const x9=(t,e)=>e.some(n=>t instanceof n);let wT,_T;function E9(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T9(){return _T||(_T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mk=new WeakMap,Nv=new WeakMap,gk=new WeakMap,$g=new WeakMap,Yw=new WeakMap;function S9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($i(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mk.set(n,t)}).catch(()=>{}),Yw.set(e,t),e}function b9(t){if(Nv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Nv.set(t,e)}let Dv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I9(t){Dv=t(Dv)}function C9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bg(this),e,...n);return gk.set(r,e.sort?e.sort():[e]),$i(r)}:T9().includes(t)?function(...e){return t.apply(Bg(this),e),$i(mk.get(this))}:function(...e){return $i(t.apply(Bg(this),e))}}function A9(t){return typeof t=="function"?C9(t):(t instanceof IDBTransaction&&b9(t),x9(t,E9())?new Proxy(t,Dv):t)}function $i(t){if(t instanceof IDBRequest)return S9(t);if($g.has(t))return $g.get(t);const e=A9(t);return e!==t&&($g.set(t,e),Yw.set(e,t)),e}const Bg=t=>Yw.get(t);function yk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const P9=["get","getKey","getAll","getAllKeys","count"],R9=["put","add","delete","clear"],zg=new Map;function xT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=R9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||P9.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zg.set(e,i),i}I9(t=>({...t,get:(e,n,r)=>xT(e,n)||t.get(e,n,r),has:(e,n)=>!!xT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",ET="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new cm("@firebase/app"),D9="@firebase/app-compat",O9="@firebase/analytics-compat",M9="@firebase/analytics",V9="@firebase/app-check-compat",L9="@firebase/app-check",j9="@firebase/auth",F9="@firebase/auth-compat",U9="@firebase/database",$9="@firebase/data-connect",B9="@firebase/database-compat",z9="@firebase/functions",W9="@firebase/functions-compat",H9="@firebase/installations",q9="@firebase/installations-compat",G9="@firebase/messaging",K9="@firebase/messaging-compat",Y9="@firebase/performance",Q9="@firebase/performance-compat",X9="@firebase/remote-config",Z9="@firebase/remote-config-compat",J9="@firebase/storage",e$="@firebase/storage-compat",t$="@firebase/firestore",n$="@firebase/ai",r$="@firebase/firestore-compat",s$="firebase",i$="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="[DEFAULT]",o$={[Ov]:"fire-core",[D9]:"fire-core-compat",[M9]:"fire-analytics",[O9]:"fire-analytics-compat",[L9]:"fire-app-check",[V9]:"fire-app-check-compat",[j9]:"fire-auth",[F9]:"fire-auth-compat",[U9]:"fire-rtdb",[$9]:"fire-data-connect",[B9]:"fire-rtdb-compat",[z9]:"fire-fn",[W9]:"fire-fn-compat",[H9]:"fire-iid",[q9]:"fire-iid-compat",[G9]:"fire-fcm",[K9]:"fire-fcm-compat",[Y9]:"fire-perf",[Q9]:"fire-perf-compat",[X9]:"fire-rc",[Z9]:"fire-rc-compat",[J9]:"fire-gcs",[e$]:"fire-gcs-compat",[t$]:"fire-fst",[r$]:"fire-fst-compat",[n$]:"fire-vertex","fire-js":"fire-js",[s$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,a$=new Map,Vv=new Map;function TT(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ds(t){const e=t.name;if(Vv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Vv.set(e,t);for(const n of tp.values())TT(n,t);for(const n of a$.values())TT(n,t);return!0}function ga(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new ma("app","Firebase",l$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=i$;function vk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(n||(n=lk()),!n)throw Bi.create("no-options");const i=tp.get(s);if(i){if(Qi(n,i.options)&&Qi(r,i.config))return i;throw Bi.create("duplicate-app",{appName:s})}const o=new g9(s);for(const l of Vv.values())o.addComponent(l);const a=new c$(n,r,o);return tp.set(s,a),a}function Qw(t=Mv){const e=tp.get(t);if(!e&&t===Mv&&lk())return vk();if(!e)throw Bi.create("no-app",{appName:t});return e}function tr(t,e,n){let r=o$[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(o.join(" "));return}ds(new Cr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="firebase-heartbeat-database",d$=1,Xu="firebase-heartbeat-store";let Wg=null;function wk(){return Wg||(Wg=yk(u$,d$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function h$(t){try{const n=(await wk()).transaction(Xu),r=await n.objectStore(Xu).get(_k(t));return await n.done,r}catch(e){if(e instanceof kr)Us.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function ST(t,e){try{const r=(await wk()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(e,_k(t)),await r.done}catch(n){if(n instanceof kr)Us.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function _k(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=1024,p$=30;class m${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>p$){const o=v$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bT(),{heartbeatsToSend:r,unsentEntries:s}=g$(this._heartbeatsCache.heartbeats),i=ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Us.warn(n),""}}}function bT(){return new Date().toISOString().substring(0,10)}function g$(t,e=f$){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),IT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),IT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ST(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ST(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IT(t){return ep(JSON.stringify({version:2,heartbeats:t})).length}function v$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){ds(new Cr("platform-logger",e=>new k9(e),"PRIVATE")),ds(new Cr("heartbeat",e=>new m$(e),"PRIVATE")),tr(Ov,ET,t),tr(Ov,ET,"esm2020"),tr("fire-js","")}w$("");function xk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _$=xk,Ek=new ma("auth","Firebase",xk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new cm("@firebase/auth");function x$(t,...e){np.logLevel<=Te.WARN&&np.warn(`Auth (${lc}): ${t}`,...e)}function rf(t,...e){np.logLevel<=Te.ERROR&&np.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Xw(t,...e)}function es(t,...e){return Xw(t,...e)}function Tk(t,e,n){const r={..._$(),[e]:n};return new ma("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return Tk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ek.create(t,...e)}function ie(t,e,...n){if(!t)throw Xw(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function $s(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function E$(){return CT()==="http:"||CT()==="https:"}function CT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E$()||hk()||"connection"in navigator)?navigator.onLine:!0}function S$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=Y6()||Z6()}get(){return T$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C$=new Pd(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ks(t,e,n,r,s={}){return bk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ad({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return X6()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ac(t.emulatorConfig.host)&&(c.credentials="include"),Sk.fetch()(await Ik(t,t.config.apiHost,n,a),c)})}async function bk(t,e,n){t._canInitEmulator=!1;const r={...b$,...e};try{const s=new P$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ch(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ch(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ch(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Tk(t,d,c);Ar(t,d)}}catch(s){if(s instanceof kr)throw s;Ar(t,"network-request-failed",{message:String(s)})}}async function Rd(t,e,n,r,s={}){const i=await Ks(t,e,n,r,s);return"mfaPendingCredential"in i&&Ar(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ik(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Zw(t.config,s):`${t.config.apiScheme}://${s}`;return I$.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function A$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),C$.get())})}}function Ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=es(t,e,r);return s.customData._tokenResponse=n,s}function AT(t){return t!==void 0&&t.enterprise!==void 0}class R${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k$(t,e){return Ks(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function rp(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D$(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=Jw(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yu(Hg(s.auth_time)),issuedAtTime:yu(Hg(s.iat)),expirationTime:yu(Hg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hg(t){return Number(t)*1e3}function Jw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const s=ok(n);return s?JSON.parse(s):(rf("Failed to decode base64 JWT payload"),null)}catch(s){return rf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PT(t){const e=Jw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&O$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Ml(t,rp(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?Ck(s.providerUserInfo):[],o=L$(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new jv(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function V$(t){const e=ut(t);await sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ck(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e){const n=await bk(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Ik(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ac(t.emulatorConfig.host)&&(l.credentials="include"),Sk.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F$(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=PT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await j$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new cl;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new M$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D$(this,e)}reload(){return V$(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Ml(this,N$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:E,stsTokenManager:y}=n;ie(h&&y,e,"internal-error");const T=cl.fromJSON(this.name,y);ie(typeof h=="string",e,"internal-error"),li(r,e.name),li(s,e.name),ie(typeof f=="boolean",e,"internal-error"),ie(typeof m=="boolean",e,"internal-error"),li(i,e.name),li(o,e.name),li(a,e.name),li(l,e.name),li(c,e.name),li(d,e.name);const v=new xr({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:c,lastLoginAt:d});return E&&Array.isArray(E)&&(v.providerData=E.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new cl;s.updateFromServerResponse(n);const i=new xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ck(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new cl;a.updateFromIdToken(r);const l=new xr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function As(t){$s(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ak.type="NONE";const kT=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class ul{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sf(this.userKey,s.apiKey,i),this.fullPersistenceKey=sf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rp(this.auth,{idToken:e}).catch(()=>{});return n?xr._fromGetAccountInfoResponse(this.auth,n,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ul(As(kT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||As(kT);const o=sf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await rp(e,{idToken:d}).catch(()=>{});if(!f)break;h=await xr._fromGetAccountInfoResponse(e,f,d)}else h=xr._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ul(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ul(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ok(e))return"Blackberry";if(Mk(e))return"Webos";if(Rk(e))return"Safari";if((e.includes("chrome/")||kk(e))&&!e.includes("edge/"))return"Chrome";if(Dk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pk(t=rn()){return/firefox\//i.test(t)}function Rk(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kk(t=rn()){return/crios\//i.test(t)}function Nk(t=rn()){return/iemobile/i.test(t)}function Dk(t=rn()){return/android/i.test(t)}function Ok(t=rn()){return/blackberry/i.test(t)}function Mk(t=rn()){return/webos/i.test(t)}function e_(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U$(t=rn()){var e;return e_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $$(){return J6()&&document.documentMode===10}function Vk(t=rn()){return e_(t)||Dk(t)||Mk(t)||Ok(t)||/windows phone/i.test(t)||Nk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e=[]){let n;switch(t){case"Browser":n=NT(rn());break;case"Worker":n=`${NT(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z$(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=6;class H${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DT(this),this.idTokenSubscription=new DT(this),this.beforeStateQueue=new B$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rp(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Rs(this));const n=e?ut(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z$(this),n=new H$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&x$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ya(t){return ut(t)}class DT{constructor(e){this.auth=e,this.observer=null,this.addObserver=o9(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G$(t){um=t}function jk(t){return um.loadJS(t)}function K$(){return um.recaptchaEnterpriseScript}function Y$(){return um.gapiScript}function Q$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class X${constructor(){this.enterprise=new Z$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Z${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const J$="recaptcha-enterprise",Fk="NO_RECAPTCHA";class eB{constructor(e){this.type=J$,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{k$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new R$(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;AT(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Fk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new X$().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&AT(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=K$();l.length!==0&&(l+=a),jk(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function OT(t,e,n,r=!1,s=!1){const i=new eB(t);let o;if(s)o=Fk;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fv(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await OT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await OT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){const n=ga(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qi(i,e??{}))return s;Ar(s,"already-initialized")}return n.initialize({options:e})}function nB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rB(t,e,n){const r=ya(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Uk(e),{host:o,port:a}=sB(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Qi(c,r.config.emulator)&&Qi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ac(o)?(uk(`${i}//${o}${l}`),dk("Auth",!0)):iB()}function Uk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sB(t){const e=Uk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:MT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:MT(o)}}}function MT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function oB(t,e){return Ks(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aB(t,e){return Rd(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function cB(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends t_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,n,"signInWithPassword",aB);case"emailLink":return lB(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,r,"signUpPassword",oB);case"emailLink":return cB(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e){return Rd(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="http://localhost";class na extends t_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new na(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:uB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hB(t){const e=Xc(Zc(t)).link,n=e?Xc(Zc(e)).deep_link_id:null,r=Xc(Zc(t)).deep_link_id;return(r?Xc(Zc(r)).link:null)||r||n||e||t}class n_{constructor(e){const n=Xc(Zc(e)),r=n.apiKey??null,s=n.oobCode??null,i=dB(n.mode??null);ie(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hB(e);try{return new n_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.providerId=cc.PROVIDER_ID}static credential(e,n){return Zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=n_.parseLink(n);return ie(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}cc.PROVIDER_ID="password";cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends $k{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends kd{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wi.credential(n,r)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends kd{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends kd{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e){return Rd(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await xr._fromIdTokenResponse(e,r,s),o=VT(r);return new ra({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=VT(r);return new ra({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ip(e,n,r,s)}}function Bk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(t,i,e,r):i})}async function pB(t,e,n=!1){const r=await Ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await Ml(t,Bk(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=Jw(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),ra._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e,n=!1){if(Qn(t.app))return Promise.reject(Rs(t));const r="signIn",s=await Bk(t,r,e),i=await ra._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function gB(t,e){return zk(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yB(t,e,n){if(Qn(t.app))return Promise.reject(Rs(t));const r=ya(t),o=await Fv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Wk(t),l}),a=await ra._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function vB(t,e,n){return Qn(t.app)?Promise.reject(Rs(t)):gB(ut(t),cc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(t,e){return Ks(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ut(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ml(r,wB(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function _B(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function xB(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function EB(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function TB(t){return ut(t).signOut()}const op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=1e3,bB=10;class Gk extends qk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gk.type="LOCAL";const IB=Gk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk extends qk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Kk.type="SESSION";const Yk=Kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await CB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=r_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function PB(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function RB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function NB(){return Qk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebaseLocalStorageDb",DB=1,ap="firebaseLocalStorage",Zk="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hm(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function OB(){const t=indexedDB.deleteDatabase(Xk);return new Nd(t).toPromise()}function Uv(){const t=indexedDB.open(Xk,DB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ap,{keyPath:Zk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ap)?e(r):(r.close(),await OB(),e(await Uv()))})})}async function LT(t,e,n){const r=hm(t,!0).put({[Zk]:e,value:n});return new Nd(r).toPromise()}async function MB(t,e){const n=hm(t,!1).get(e),r=await new Nd(n).toPromise();return r===void 0?null:r.value}function jT(t,e){const n=hm(t,!0).delete(e);return new Nd(n).toPromise()}const VB=800,LB=3;class Jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(NB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await RB(),!this.activeServiceWorker)return;this.sender=new AB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uv();return await LT(e,op,"1"),await jT(e,op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hm(s,!1).getAll();return new Nd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jk.type="LOCAL";const jB=Jk;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e){return e?As(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends t_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UB(t){return zk(t.auth,new s_(t),t.bypassAuthState)}function $B(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),mB(n,new s_(t),t.bypassAuthState)}async function BB(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),pB(n,new s_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UB;case"linkViaPopup":case"linkViaRedirect":return BB;case"reauthViaPopup":case"reauthViaRedirect":return $B;default:Ar(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new Pd(2e3,1e4);class Ya extends eN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zB.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="pendingRedirect",of=new Map;class HB extends eN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=of.get(this.auth._key());if(!e){try{const r=await qB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}of.set(this.auth._key(),e)}return this.bypassAuthState||of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qB(t,e){const n=YB(e),r=KB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function GB(t,e){of.set(t._key(),e)}function KB(t){return As(t._redirectPersistence)}function YB(t){return sf(WB,t.config.apiKey,t.name)}async function QB(t,e,n=!1){if(Qn(t.app))return Promise.reject(Rs(t));const r=ya(t),s=FB(r,e),o=await new HB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=10*60*1e3;class ZB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tN(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XB&&this.cachedEventUids.clear(),this.cachedEventUids.has(FT(e))}saveEventToCache(e){this.cachedEventUids.add(FT(e)),this.lastProcessedEventTime=Date.now()}}function FT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nz=/^https?/;async function rz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ez(t);for(const n of e)try{if(sz(n))return}catch{}Ar(t,"unauthorized-domain")}function sz(t){const e=Lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nz.test(n))return!1;if(tz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=new Pd(3e4,6e4);function UT(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oz(t){return new Promise((e,n)=>{var s,i,o;function r(){UT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UT(),n(es(t,"network-request-failed"))},timeout:iz.get()})}if((i=(s=ts().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ts().gapi)!=null&&o.load)r();else{const a=Q$("iframefcb");return ts()[a]=()=>{gapi.load?r():n(es(t,"network-request-failed"))},jk(`${Y$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw af=null,e})}let af=null;function az(t){return af=af||oz(t),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new Pd(5e3,15e3),cz="__/auth/iframe",uz="emulator/auth/iframe",dz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fz(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zw(e,uz):`https://${t.config.authDomain}/${cz}`,r={apiKey:e.apiKey,appName:t.name,v:lc},s=hz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ad(r).slice(1)}`}async function pz(t){const e=await az(t),n=ts().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:fz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=es(t,"network-request-failed"),a=ts().setTimeout(()=>{i(o)},lz.get());function l(){ts().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gz=500,yz=600,vz="_blank",wz="http://localhost";class $T{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _z(t,e,n,r=gz,s=yz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...mz,width:r.toString(),height:s.toString(),top:i,left:o},c=rn().toLowerCase();n&&(a=kk(c)?vz:n),Pk(c)&&(e=e||wz,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,E])=>`${f}${m}=${E},`,"");if(U$(c)&&a!=="_self")return xz(e||"",a),new $T(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new $T(h)}function xz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="__/auth/handler",Tz="emulator/auth/handler",Sz=encodeURIComponent("fac");async function BT(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:s};if(e instanceof $k){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",i9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof kd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Sz}=${encodeURIComponent(l)}`:"";return`${bz(t)}?${Ad(a).slice(1)}${c}`}function bz({config:t}){return t.emulator?Zw(t,Tz):`https://${t.authDomain}/${Ez}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="webStorageSupport";class Iz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yk,this._completeRedirectFn=QB,this._overrideRedirectResult=GB}async _openPopup(e,n,r,s){var o;$s((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await BT(e,n,r,Lv(),s);return _z(e,i,r_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await BT(e,n,r,Lv(),s);return PB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pz(e),r=new ZB(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[qg];i!==void 0&&n(!!i),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vk()||Rk()||e_()}}const Cz=Iz;var zT="@firebase/auth",WT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rz(t){ds(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lk(t)},c=new q$(r,s,i,l);return nB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ds(new Cr("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new Az(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(zT,WT,Pz(t)),tr(zT,WT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=5*60,Nz=ck("authIdTokenMaxAge")||kz;let HT=null;const Dz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nz)return;const s=n==null?void 0:n.token;HT!==s&&(HT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Oz(t=Qw()){const e=ga(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tB(t,{popupRedirectResolver:Cz,persistence:[jB,IB,Yk]}),r=ck("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Dz(i.toString());xB(n,o,()=>o(n.currentUser)),_B(n,a=>o(a))}}const s=ak("auth");return s&&rB(n,`http://${s}`),n}function Mz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}G$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=es("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Mz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rz("Browser");var Vz="firebase",Lz="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(Vz,Lz,"app");const nN="@firebase/installations",i_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1e4,sN=`w:${i_}`,iN="FIS_v2",jz="https://firebaseinstallations.googleapis.com/v1",Fz=60*60*1e3,Uz="installations",$z="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new ma(Uz,$z,Bz);function oN(t){return t instanceof kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN({projectId:t}){return`${jz}/projects/${t}/installations`}function lN(t){return{token:t.token,requestStatus:2,expiresIn:Wz(t.expiresIn),creationTime:Date.now()}}async function cN(t,e){const r=(await e.json()).error;return sa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zz(t,{refreshToken:e}){const n=uN(t);return n.append("Authorization",Hz(e)),n}async function dN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Wz(t){return Number(t.replace("s","000"))}function Hz(t){return`${iN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aN(t),s=uN(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:iN,appId:t.appId,sdkVersion:sN},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dN(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lN(c.authToken)}}else throw await cN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=/^[cdef][\w-]{21}$/,$v="";function Yz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Qz(t);return Kz.test(n)?n:$v}catch{return $v}}function Qz(t){return Gz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Map;function pN(t,e){const n=fm(t);mN(n,e),Xz(n,e)}function mN(t,e){const n=fN.get(t);if(n)for(const r of n)r(e)}function Xz(t,e){const n=Zz();n&&n.postMessage({key:t,fid:e}),Jz()}let Mo=null;function Zz(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{mN(t.data.key,t.data.fid)}),Mo}function Jz(){fN.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="firebase-installations-database",t8=1,ia="firebase-installations-store";let Gg=null;function o_(){return Gg||(Gg=yk(e8,t8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ia)}}})),Gg}async function lp(t,e){const n=fm(t),s=(await o_()).transaction(ia,"readwrite"),i=s.objectStore(ia),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&pN(t,e.fid),e}async function gN(t){const e=fm(t),r=(await o_()).transaction(ia,"readwrite");await r.objectStore(ia).delete(e),await r.done}async function pm(t,e){const n=fm(t),s=(await o_()).transaction(ia,"readwrite"),i=s.objectStore(ia),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&pN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a_(t){let e;const n=await pm(t.appConfig,r=>{const s=n8(r),i=r8(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===$v?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function n8(t){const e=t||{fid:Yz(),registrationStatus:0};return yN(e)}function r8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(sa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=s8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i8(t)}:{installationEntry:e}}async function s8(t,e){try{const n=await qz(t,e);return lp(t.appConfig,n)}catch(n){throw oN(n)&&n.customData.serverCode===409?await gN(t.appConfig):await lp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function i8(t){let e=await qT(t.appConfig);for(;e.registrationStatus===1;)await hN(100),e=await qT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await a_(t);return r||n}return e}function qT(t){return pm(t,e=>{if(!e)throw sa.create("installation-not-found");return yN(e)})}function yN(t){return o8(t)?{fid:t.fid,registrationStatus:0}:t}function o8(t){return t.registrationStatus===1&&t.registrationTime+rN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8({appConfig:t,heartbeatServiceProvider:e},n){const r=l8(t,n),s=zz(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:sN,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dN(()=>fetch(r,a));if(l.ok){const c=await l.json();return lN(c)}else throw await cN("Generate Auth Token",l)}function l8(t,{fid:e}){return`${aN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l_(t,e=!1){let n;const r=await pm(t.appConfig,i=>{if(!vN(i))throw sa.create("not-registered");const o=i.authToken;if(!e&&d8(o))return i;if(o.requestStatus===1)return n=c8(t,e),i;{if(!navigator.onLine)throw sa.create("app-offline");const a=f8(i);return n=u8(t,a),a}});return n?await n:r.authToken}async function c8(t,e){let n=await GT(t.appConfig);for(;n.authToken.requestStatus===1;)await hN(100),n=await GT(t.appConfig);const r=n.authToken;return r.requestStatus===0?l_(t,e):r}function GT(t){return pm(t,e=>{if(!vN(e))throw sa.create("not-registered");const n=e.authToken;return p8(n)?{...e,authToken:{requestStatus:0}}:e})}async function u8(t,e){try{const n=await a8(t,e),r={...e,authToken:n};return await lp(t.appConfig,r),n}catch(n){if(oN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await lp(t.appConfig,r)}throw n}}function vN(t){return t!==void 0&&t.registrationStatus===2}function d8(t){return t.requestStatus===2&&!h8(t)}function h8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Fz}function f8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function p8(t){return t.requestStatus===1&&t.requestTime+rN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t){const e=t,{installationEntry:n,registrationPromise:r}=await a_(e);return r?r.catch(console.error):l_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e=!1){const n=t;return await y8(n),(await l_(n,e)).token}async function y8(t){const{registrationPromise:e}=await a_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){if(!t||!t.options)throw Kg("App Configuration");if(!t.name)throw Kg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kg(t){return sa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="installations",w8="installations-internal",_8=t=>{const e=t.getProvider("app").getImmediate(),n=v8(e),r=ga(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},x8=t=>{const e=t.getProvider("app").getImmediate(),n=ga(e,wN).getImmediate();return{getId:()=>m8(n),getToken:s=>g8(n,s)}};function E8(){ds(new Cr(wN,_8,"PUBLIC")),ds(new Cr(w8,x8,"PRIVATE"))}E8();tr(nN,i_);tr(nN,i_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="analytics",T8="firebase_id",S8="origin",b8=60*1e3,I8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",c_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new cm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new ma("analytics","Analytics",C8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){if(!t.startsWith(c_)){const e=Vn.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function _N(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function R8(t,e){const n=P8("firebase-js-sdk-policy",{createScriptURL:A8}),r=document.createElement("script"),s=`${c_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function k8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function N8(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await _N(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){dn.error(a)}t("config",s,i)}async function D8(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await _N(n);for(const l of o){const c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){dn.error(i)}}function O8(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await D8(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await N8(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){dn.error(a)}}return s}function M8(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=O8(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function V8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(c_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=30,j8=1e3;class F8{constructor(e={},n=j8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xN=new F8;function U8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $8(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:U8(n)},s=I8.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function B8(t,e=xN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Vn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H8;return setTimeout(async()=>{a.abort()},b8),EN({appId:r,apiKey:s,measurementId:i},o,a,e)}async function EN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=xN){var a;const{appId:i,measurementId:o}=t;try{await z8(r,e)}catch(l){if(o)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await $8(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!W8(c)){if(s.deleteThrottleMetadata(i),o)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?vT(n,s.intervalMillis,L8):vT(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),dn.debug(`Calling attemptFetch again in ${d} millis`),EN(t,h,r,s)}}function z8(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W8(t){if(!(t instanceof kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function q8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function G8(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(){if(fk())try{await pk()}catch(t){return dn.warn(Vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Y8(t,e,n,r,s,i,o){const a=B8(t);a.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dn.error(f)),e.push(a);const l=K8().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([a,l]);V8(i)||R8(i,c.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[S8]="firebase",h.update=!0,d!=null&&(h[T8]=d),s("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.app=e}_delete(){return delete hl[this.app.options.appId],Promise.resolve()}}let hl={},KT=[];const YT={};let Yg="dataLayer",X8="gtag",QT,u_,XT=!1;function Z8(){const t=[];if(hk()&&t.push("This is a browser extension environment."),t9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Vn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function J8(t,e,n){Z8();const r=t.options.appId;if(!r)throw Vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(hl[r]!=null)throw Vn.create("already-exists",{id:r});if(!XT){k8(Yg);const{wrappedGtag:i,gtagCore:o}=M8(hl,KT,YT,Yg,X8);u_=i,QT=o,XT=!0}return hl[r]=Y8(t,KT,YT,e,QT,Yg,n),new Q8(t)}function eW(t=Qw()){t=ut(t);const e=ga(t,cp);return e.isInitialized()?e.getImmediate():tW(t)}function tW(t,e={}){const n=ga(t,cp);if(n.isInitialized()){const s=n.getImmediate();if(Qi(e,n.getOptions()))return s;throw Vn.create("already-initialized")}return n.initialize({options:e})}function nW(t,e,n){t=ut(t),G8(u_,hl[t.app.options.appId],e,n).catch(r=>dn.error(r))}function rW(t,e,n,r){t=ut(t),q8(u_,hl[t.app.options.appId],e,n,r).catch(s=>dn.error(s))}const ZT="@firebase/analytics",JT="0.10.19";function sW(){ds(new Cr(cp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return J8(r,s,n)},"PUBLIC")),ds(new Cr("analytics-internal",t,"PRIVATE")),tr(ZT,JT),tr(ZT,JT,"esm2020");function t(e){try{const n=e.getProvider(cp).getImmediate();return{logEvent:(r,s,i)=>rW(n,r,s,i),setUserProperties:(r,s)=>nW(n,r,s)}}catch(n){throw Vn.create("interop-component-reg-failed",{reason:n})}}}sW();var eS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,TN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function P(){}P.prototype=b.prototype,I.F=b.prototype,I.prototype=new P,I.prototype.constructor=I,I.D=function(R,D,O){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return b.prototype[D].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,P){P||(P=0);const R=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)R[D]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(D=0;D<16;++D)R[D]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=I.g[0],P=I.g[1],D=I.g[2];let O=I.g[3],k;k=b+(O^P&(D^O))+R[0]+3614090360&4294967295,b=P+(k<<7&4294967295|k>>>25),k=O+(D^b&(P^D))+R[1]+3905402710&4294967295,O=b+(k<<12&4294967295|k>>>20),k=D+(P^O&(b^P))+R[2]+606105819&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(b^D&(O^b))+R[3]+3250441966&4294967295,P=D+(k<<22&4294967295|k>>>10),k=b+(O^P&(D^O))+R[4]+4118548399&4294967295,b=P+(k<<7&4294967295|k>>>25),k=O+(D^b&(P^D))+R[5]+1200080426&4294967295,O=b+(k<<12&4294967295|k>>>20),k=D+(P^O&(b^P))+R[6]+2821735955&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(b^D&(O^b))+R[7]+4249261313&4294967295,P=D+(k<<22&4294967295|k>>>10),k=b+(O^P&(D^O))+R[8]+1770035416&4294967295,b=P+(k<<7&4294967295|k>>>25),k=O+(D^b&(P^D))+R[9]+2336552879&4294967295,O=b+(k<<12&4294967295|k>>>20),k=D+(P^O&(b^P))+R[10]+4294925233&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(b^D&(O^b))+R[11]+2304563134&4294967295,P=D+(k<<22&4294967295|k>>>10),k=b+(O^P&(D^O))+R[12]+1804603682&4294967295,b=P+(k<<7&4294967295|k>>>25),k=O+(D^b&(P^D))+R[13]+4254626195&4294967295,O=b+(k<<12&4294967295|k>>>20),k=D+(P^O&(b^P))+R[14]+2792965006&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(b^D&(O^b))+R[15]+1236535329&4294967295,P=D+(k<<22&4294967295|k>>>10),k=b+(D^O&(P^D))+R[1]+4129170786&4294967295,b=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(b^P))+R[6]+3225465664&4294967295,O=b+(k<<9&4294967295|k>>>23),k=D+(b^P&(O^b))+R[11]+643717713&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^b&(D^O))+R[0]+3921069994&4294967295,P=D+(k<<20&4294967295|k>>>12),k=b+(D^O&(P^D))+R[5]+3593408605&4294967295,b=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(b^P))+R[10]+38016083&4294967295,O=b+(k<<9&4294967295|k>>>23),k=D+(b^P&(O^b))+R[15]+3634488961&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^b&(D^O))+R[4]+3889429448&4294967295,P=D+(k<<20&4294967295|k>>>12),k=b+(D^O&(P^D))+R[9]+568446438&4294967295,b=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(b^P))+R[14]+3275163606&4294967295,O=b+(k<<9&4294967295|k>>>23),k=D+(b^P&(O^b))+R[3]+4107603335&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^b&(D^O))+R[8]+1163531501&4294967295,P=D+(k<<20&4294967295|k>>>12),k=b+(D^O&(P^D))+R[13]+2850285829&4294967295,b=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(b^P))+R[2]+4243563512&4294967295,O=b+(k<<9&4294967295|k>>>23),k=D+(b^P&(O^b))+R[7]+1735328473&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^b&(D^O))+R[12]+2368359562&4294967295,P=D+(k<<20&4294967295|k>>>12),k=b+(P^D^O)+R[5]+4294588738&4294967295,b=P+(k<<4&4294967295|k>>>28),k=O+(b^P^D)+R[8]+2272392833&4294967295,O=b+(k<<11&4294967295|k>>>21),k=D+(O^b^P)+R[11]+1839030562&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^b)+R[14]+4259657740&4294967295,P=D+(k<<23&4294967295|k>>>9),k=b+(P^D^O)+R[1]+2763975236&4294967295,b=P+(k<<4&4294967295|k>>>28),k=O+(b^P^D)+R[4]+1272893353&4294967295,O=b+(k<<11&4294967295|k>>>21),k=D+(O^b^P)+R[7]+4139469664&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^b)+R[10]+3200236656&4294967295,P=D+(k<<23&4294967295|k>>>9),k=b+(P^D^O)+R[13]+681279174&4294967295,b=P+(k<<4&4294967295|k>>>28),k=O+(b^P^D)+R[0]+3936430074&4294967295,O=b+(k<<11&4294967295|k>>>21),k=D+(O^b^P)+R[3]+3572445317&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^b)+R[6]+76029189&4294967295,P=D+(k<<23&4294967295|k>>>9),k=b+(P^D^O)+R[9]+3654602809&4294967295,b=P+(k<<4&4294967295|k>>>28),k=O+(b^P^D)+R[12]+3873151461&4294967295,O=b+(k<<11&4294967295|k>>>21),k=D+(O^b^P)+R[15]+530742520&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^b)+R[2]+3299628645&4294967295,P=D+(k<<23&4294967295|k>>>9),k=b+(D^(P|~O))+R[0]+4096336452&4294967295,b=P+(k<<6&4294967295|k>>>26),k=O+(P^(b|~D))+R[7]+1126891415&4294967295,O=b+(k<<10&4294967295|k>>>22),k=D+(b^(O|~P))+R[14]+2878612391&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~b))+R[5]+4237533241&4294967295,P=D+(k<<21&4294967295|k>>>11),k=b+(D^(P|~O))+R[12]+1700485571&4294967295,b=P+(k<<6&4294967295|k>>>26),k=O+(P^(b|~D))+R[3]+2399980690&4294967295,O=b+(k<<10&4294967295|k>>>22),k=D+(b^(O|~P))+R[10]+4293915773&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~b))+R[1]+2240044497&4294967295,P=D+(k<<21&4294967295|k>>>11),k=b+(D^(P|~O))+R[8]+1873313359&4294967295,b=P+(k<<6&4294967295|k>>>26),k=O+(P^(b|~D))+R[15]+4264355552&4294967295,O=b+(k<<10&4294967295|k>>>22),k=D+(b^(O|~P))+R[6]+2734768916&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~b))+R[13]+1309151649&4294967295,P=D+(k<<21&4294967295|k>>>11),k=b+(D^(P|~O))+R[4]+4149444226&4294967295,b=P+(k<<6&4294967295|k>>>26),k=O+(P^(b|~D))+R[11]+3174756917&4294967295,O=b+(k<<10&4294967295|k>>>22),k=D+(b^(O|~P))+R[2]+718787259&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~b))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const P=b-this.blockSize,R=this.C;let D=this.h,O=0;for(;O<b;){if(D==0)for(;O<=P;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(R[D++]=I.charCodeAt(O++),D==this.blockSize){s(this,R),D=0;break}}else for(;O<b;)if(R[D++]=I[O++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var P=I.length-8;P<I.length;++P)I[P]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,P=0;P<4;++P)for(let R=0;R<32;R+=8)I[b++]=this.g[P]>>>R&255;return I};function i(I,b){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=b(I)}function o(I,b){this.h=b;const P=[];let R=!0;for(let D=I.length-1;D>=0;D--){const O=I[D]|0;R&&O==b||(P[D]=O,R=!1)}this.g=P}var a={};function l(I){return-128<=I&&I<128?i(I,function(b){return new o([b|0],b<0?-1:0)}):new o([I|0],I<0?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return T(c(-I));const b=[];let P=1;for(let R=0;I>=P;R++)b[R]=I/P|0,P*=4294967296;return new o(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return T(d(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=c(Math.pow(b,8));let R=h;for(let O=0;O<I.length;O+=8){var D=Math.min(8,I.length-O);const k=parseInt(I.substring(O,O+D),b);D<8?(D=c(Math.pow(b,D)),R=R.j(D).add(c(k))):(R=R.j(P),R=R.add(c(k)))}return R}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();let I=0,b=1;for(let P=0;P<this.g.length;P++){const R=this.i(P);I+=(R>=0?R:4294967296+R)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(y(this))return"-"+T(this).toString(I);const b=c(Math.pow(I,6));var P=this;let R="";for(;;){const D=A(P,b).g;P=v(P,D.j(b));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(I);if(P=D,E(P))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=v(this,I),y(I)?-1:E(I)?0:1};function T(I){const b=I.g.length,P=[];for(let R=0;R<b;R++)P[R]=~I.g[R];return new o(P,~I.h).add(f)}t.abs=function(){return y(this)?T(this):this},t.add=function(I){const b=Math.max(this.g.length,I.g.length),P=[];let R=0;for(let D=0;D<=b;D++){let O=R+(this.i(D)&65535)+(I.i(D)&65535),k=(O>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=k>>>16,O&=65535,k&=65535,P[D]=k<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(I,b){return I.add(T(b))}t.j=function(I){if(E(this)||E(I))return h;if(y(this))return y(I)?T(this).j(T(I)):T(T(this).j(I));if(y(I))return T(this.j(T(I)));if(this.l(m)<0&&I.l(m)<0)return c(this.m()*I.m());const b=this.g.length+I.g.length,P=[];for(var R=0;R<2*b;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<I.g.length;D++){const O=this.i(R)>>>16,k=this.i(R)&65535,W=I.i(D)>>>16,ce=I.i(D)&65535;P[2*R+2*D]+=k*ce,w(P,2*R+2*D),P[2*R+2*D+1]+=O*ce,w(P,2*R+2*D+1),P[2*R+2*D+1]+=k*W,w(P,2*R+2*D+1),P[2*R+2*D+2]+=O*W,w(P,2*R+2*D+2)}for(I=0;I<b;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=b;I<2*b;I++)P[I]=0;return new o(P,0)};function w(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function _(I,b){this.g=I,this.h=b}function A(I,b){if(E(b))throw Error("division by zero");if(E(I))return new _(h,h);if(y(I))return b=A(T(I),b),new _(T(b.g),T(b.h));if(y(b))return b=A(I,T(b)),new _(T(b.g),b.h);if(I.g.length>30){if(y(I)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var P=f,R=b;R.l(I)<=0;)P=N(P),R=N(R);var D=M(P,1),O=M(R,1);for(R=M(R,2),P=M(P,2);!E(R);){var k=O.add(R);k.l(I)<=0&&(D=D.add(P),O=k),R=M(R,1),P=M(P,1)}return b=v(I,D.j(b)),new _(D,b)}for(D=h;I.l(b)>=0;){for(P=Math.max(1,Math.floor(I.m()/b.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=c(P),k=O.j(b);y(k)||k.l(I)>0;)P-=R,O=c(P),k=O.j(b);E(O)&&(O=f),D=D.add(O),I=v(I,k)}return new _(D,I)}t.B=function(I){return A(this,I).h},t.and=function(I){const b=Math.max(this.g.length,I.g.length),P=[];for(let R=0;R<b;R++)P[R]=this.i(R)&I.i(R);return new o(P,this.h&I.h)},t.or=function(I){const b=Math.max(this.g.length,I.g.length),P=[];for(let R=0;R<b;R++)P[R]=this.i(R)|I.i(R);return new o(P,this.h|I.h)},t.xor=function(I){const b=Math.max(this.g.length,I.g.length),P=[];for(let R=0;R<b;R++)P[R]=this.i(R)^I.i(R);return new o(P,this.h^I.h)};function N(I){const b=I.g.length+1,P=[];for(let R=0;R<b;R++)P[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(P,I.h)}function M(I,b){const P=b>>5;b%=32;const R=I.g.length-P,D=[];for(let O=0;O<R;O++)D[O]=b>0?I.i(O+P)>>>b|I.i(O+P+1)<<32-b:I.i(O+P);return new o(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,zi=o}).apply(typeof eS<"u"?eS:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SN,Jc,bN,lf,Bv,IN,CN,AN;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var x=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var V=u[C];if(!(V in x))break e;x=x[V]}u=u[u.length-1],C=x[u],g=g(C),g!=C&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var x=[],C;for(C in g)Object.prototype.hasOwnProperty.call(g,C)&&x.push([C,g[C]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,x){return u.call.apply(u.bind,arguments)}function c(u,g,x){return c=l,c.apply(null,arguments)}function d(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var C=x.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function h(u,g){function x(){}x.prototype=g.prototype,u.Z=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(C,V,L){for(var G=Array(arguments.length-2),we=2;we<arguments.length;we++)G[we-2]=arguments[we];return g.prototype[V].apply(C,G)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const g=u.length;if(g>0){const x=Array(g);for(let C=0;C<g;C++)x[C]=u[C];return x}return[]}function E(u,g){for(let C=1;C<arguments.length;C++){const V=arguments[C];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=u.length||0;const L=V.length||0;u.length=x+L;for(let G=0;G<L;G++)u[x+G]=V[G]}else u.push(V)}}class y{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function T(u){o.setTimeout(()=>{throw u},0)}function v(){var u=I;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class w{constructor(){this.h=this.g=null}add(g,x){const C=_.get();C.set(g,x),this.h?this.h.next=C:this.g=C,this.h=C}}var _=new y(()=>new A,u=>u.reset());class A{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let N,M=!1,I=new w,b=()=>{const u=Promise.resolve(void 0);N=()=>{u.then(P)}};function P(){for(var u;u=v();){try{u.h.call(u.g)}catch(x){T(x)}var g=_;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};o.addEventListener("test",x,g),o.removeEventListener("test",x,g)}catch{}return u}();function k(u){return/^[\s\xa0]*$/.test(u)}function W(u,g){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}h(W,D),W.prototype.init=function(u,g){const x=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),ae=0;function J(u,g,x,C,V){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!C,this.ha=V,this.key=++ae,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function F(u,g,x){for(const C in u)g.call(x,u[C],C,u)}function K(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function ue(u){const g={};for(const x in u)g[x]=u[x];return g}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(u,g){let x,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(x in C)u[x]=C[x];for(let L=0;L<ne.length;L++)x=ne[L],Object.prototype.hasOwnProperty.call(C,x)&&(u[x]=C[x])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,g,x,C,V){const L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);const G=gt(u,g,C,V);return G>-1?(g=u[G],x||(g.fa=!1)):(g=new J(g,this.src,L,!!C,V),g.fa=x,u.push(g)),g};function Ke(u,g){const x=g.type;if(x in u.g){var C=u.g[x],V=Array.prototype.indexOf.call(C,g,void 0),L;(L=V>=0)&&Array.prototype.splice.call(C,V,1),L&&(j(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function gt(u,g,x,C){for(let V=0;V<u.length;++V){const L=u[V];if(!L.da&&L.listener==g&&L.capture==!!x&&L.ha==C)return V}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),Or={};function ar(u,g,x,C,V){if(Array.isArray(g)){for(let L=0;L<g.length;L++)ar(u,g[L],x,C,V);return null}return x=Xs(x),u&&u[ce]?u.J(g,x,a(C)?!!C.capture:!!C,V):gs(u,g,x,!1,C,V)}function gs(u,g,x,C,V,L){if(!g)throw Error("Invalid event type");const G=a(V)?!!V.capture:!!V;let we=Qs(u);if(we||(u[Ie]=we=new ge(u)),x=we.add(g,x,C,G,L),x.proxy)return x;if(C=Mr(),x.proxy=C,C.src=u,C.listener=x,u.addEventListener)O||(V=G),V===void 0&&(V=!1),u.addEventListener(g.toString(),C,V);else if(u.attachEvent)u.attachEvent(vo(g.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Mr(){function u(x){return g.call(u.src,u.listener,x)}const g=wc;return u}function ys(u,g,x,C,V){if(Array.isArray(g))for(var L=0;L<g.length;L++)ys(u,g[L],x,C,V);else C=a(C)?!!C.capture:!!C,x=Xs(x),u&&u[ce]?(u=u.i,L=String(g).toString(),L in u.g&&(g=u.g[L],x=gt(g,x,C,V),x>-1&&(j(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete u.g[L],u.h--)))):u&&(u=Qs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=gt(g,x,C,V)),(x=u>-1?g[u]:null)&&zn(x))}function zn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ce])Ke(g.i,u);else{var x=u.type,C=u.proxy;g.removeEventListener?g.removeEventListener(x,C,u.capture):g.detachEvent?g.detachEvent(vo(x),C):g.addListener&&g.removeListener&&g.removeListener(C),(x=Qs(g))?(Ke(x,u),x.h==0&&(x.src=null,g[Ie]=null)):j(u)}}}function vo(u){return u in Or?Or[u]:Or[u]="on"+u}function wc(u,g){if(u.da)u=!0;else{g=new W(g,this);const x=u.listener,C=u.ha||u.src;u.fa&&zn(u),u=x.call(C,g)}return u}function Qs(u){return u=u[Ie],u instanceof ge?u:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xs(u){return typeof u=="function"?u:(u[wo]||(u[wo]=function(g){return u.handleEvent(g)}),u[wo])}function Xe(){R.call(this),this.i=new ge(this),this.M=this,this.G=null}h(Xe,R),Xe.prototype[ce]=!0,Xe.prototype.removeEventListener=function(u,g,x,C){ys(this,u,g,x,C)};function Pt(u,g){var x,C=u.G;if(C)for(x=[];C;C=C.G)x.push(C);if(u=u.M,C=g.type||g,typeof g=="string")g=new D(g,u);else if(g instanceof D)g.target=g.target||u;else{var V=g;g=new D(C,u),ve(g,V)}V=!0;let L,G;if(x)for(G=x.length-1;G>=0;G--)L=g.g=x[G],V=Vr(L,C,!0,g)&&V;if(L=g.g=u,V=Vr(L,C,!0,g)&&V,V=Vr(L,C,!1,g)&&V,x)for(G=0;G<x.length;G++)L=g.g=x[G],V=Vr(L,C,!1,g)&&V}Xe.prototype.N=function(){if(Xe.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const x=u.g[g];for(let C=0;C<x.length;C++)j(x[C]);delete u.g[g],u.h--}}this.G=null},Xe.prototype.J=function(u,g,x,C){return this.i.add(String(u),g,!1,x,C)},Xe.prototype.K=function(u,g,x,C){return this.i.add(String(u),g,!0,x,C)};function Vr(u,g,x,C){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let L=0;L<g.length;++L){const G=g[L];if(G&&!G.da&&G.capture==x){const we=G.listener,bt=G.ha||G.src;G.fa&&Ke(u.i,G),V=we.call(bt,C)!==!1&&V}}return V&&!C.defaultPrevented}function Wd(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function Lr(u){u.g=Wd(()=>{u.g=null,u.i&&(u.i=!1,Lr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Bm extends R{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(u){R.call(this),this.h=u,this.g={}}h(_o,R);var sn=[];function vs(u){F(u.g,function(g,x){this.g.hasOwnProperty(x)&&zn(g)},u),u.g={}}_o.prototype.N=function(){_o.Z.N.call(this),vs(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _c=o.JSON.stringify,zm=o.JSON.parse,xa=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Hd(){}function xc(){}var ws={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jr(){D.call(this,"d")}h(jr,D);function Ea(){D.call(this,"c")}h(Ea,D);var pn={},qd=null;function Ta(){return qd=qd||new Xe}pn.Ia="serverreachability";function Ec(u){D.call(this,pn.Ia,u)}h(Ec,D);function Zs(u){const g=Ta();Pt(g,new Ec(g))}pn.STAT_EVENT="statevent";function Gd(u,g){D.call(this,pn.STAT_EVENT,u),this.stat=g}h(Gd,D);function St(u){const g=Ta();Pt(g,new Gd(g,u))}pn.Ja="timingevent";function lr(u,g){D.call(this,pn.Ja,u),this.size=g}h(lr,D);function xo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function se(){this.g=!0}se.prototype.ua=function(){this.g=!1};function De(u,g,x,C,V,L){u.info(function(){if(u.g)if(L){var G="",we=L.split("&");for(let je=0;je<we.length;je++){var bt=we[je].split("=");if(bt.length>1){const kt=bt[0];bt=bt[1];const $r=kt.split("_");G=$r.length>=2&&$r[1]=="type"?G+(kt+"="+bt+"&"):G+(kt+"=redacted&")}}}else G=null;else G=L;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+g+`
`+x+`
`+G})}function Ue(u,g,x,C,V,L,G){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+g+`
`+x+`
`+L+" "+G})}function Rt(u,g,x,C){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Fr(u,x)+(C?" "+C:"")})}function An(u,g){u.info(function(){return"TIMEOUT: "+g})}se.prototype.info=function(){};function Fr(u,g){if(!u.g)return g;if(!g)return null;try{const L=JSON.parse(g);if(L){for(u=0;u<L.length;u++)if(Array.isArray(L[u])){var x=L[u];if(!(x.length<2)){var C=x[1];if(Array.isArray(C)&&!(C.length<1)){var V=C[0];if(V!="noop"&&V!="stop"&&V!="close")for(let G=1;G<C.length;G++)C[G]=""}}}}return _c(L)}catch{return g}}var Wn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cr;function Wm(){}h(Wm,Hd),Wm.prototype.g=function(){return new XMLHttpRequest},cr=new Wm;function Tc(u){return encodeURIComponent(String(u))}function cV(u){var g=1;u=u.split(":");const x=[];for(;g>0&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function Js(u,g,x,C){this.j=u,this.i=g,this.l=x,this.S=C||1,this.V=new _o(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jx}function jx(){this.i=null,this.g="",this.h=!1}var Fx={},Hm={};function qm(u,g,x){u.M=1,u.A=Yd(Ur(g)),u.u=x,u.R=!0,Ux(u,null)}function Ux(u,g){u.F=Date.now(),Kd(u),u.B=Ur(u.A);var x=u.B,C=u.S;Array.isArray(C)||(C=[String(C)]),Jx(x.i,"t",C),u.C=0,x=u.j.L,u.h=new jx,u.g=y1(u.j,x?g:null,!u.u),u.P>0&&(u.O=new Bm(c(u.Y,u,u.g),u.P)),g=u.V,x=u.g,C=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(sn[0]=V.toString()),V=sn);for(let L=0;L<V.length;L++){const G=ar(x,V[L],C||g.handleEvent,!1,g.h||g);if(!G)break;g.g[G.key]=G}g=u.J?ue(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Zs(),De(u.i,u.v,u.B,u.l,u.S,u.u)}Js.prototype.ba=function(u){u=u.target;const g=this.O;g&&ni(u)==3?g.j():this.Y(u)},Js.prototype.Y=function(u){try{if(u==this.g)e:{const we=ni(this.g),bt=this.g.ya(),je=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||o1(this.g)))){this.K||we!=4||bt==7||(bt==8||je<=0?Zs(3):Zs(2)),Gm(this);var g=this.g.ca();this.X=g;var x=uV(this);if(this.o=g==200,Ue(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var C,V=this.g;if((C=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(C)){var L=C;break t}}L=null}if(u=L)Rt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Km(this,u);else{this.o=!1,this.m=3,St(12),Eo(this),Sc(this);break e}}if(this.R){u=!0;let kt;for(;!this.K&&this.C<x.length;)if(kt=dV(this,x),kt==Hm){we==4&&(this.m=4,St(14),u=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Fx){this.m=4,St(15),Rt(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Rt(this.i,this.l,kt,null),Km(this,kt);if($x(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||x.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)Rt(this.i,this.l,x,"[Invalid Chunked Response]"),Eo(this),Sc(this);else if(x.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ng(G),G.P=!0,St(11))}}else Rt(this.i,this.l,x,null),Km(this,x);we==4&&Eo(this),this.o&&!this.K&&(we==4?f1(this.j,this):(this.o=!1,Kd(this)))}else bV(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Eo(this),Sc(this)}}}catch{}finally{}};function uV(u){if(!$x(u))return u.g.la();const g=o1(u.g);if(g==="")return"";let x="";const C=g.length,V=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Eo(u),Sc(u),"";u.h.i=new o.TextDecoder}for(let L=0;L<C;L++)u.h.h=!0,x+=u.h.i.decode(g[L],{stream:!(V&&L==C-1)});return g.length=0,u.h.g+=x,u.C=0,u.h.g}function $x(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function dV(u,g){var x=u.C,C=g.indexOf(`
`,x);return C==-1?Hm:(x=Number(g.substring(x,C)),isNaN(x)?Fx:(C+=1,C+x>g.length?Hm:(g=g.slice(C,C+x),u.C=C+x,g)))}Js.prototype.cancel=function(){this.K=!0,Eo(this)};function Kd(u){u.T=Date.now()+u.H,Bx(u,u.H)}function Bx(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=xo(c(u.aa,u),g)}function Gm(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Js.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(An(this.i,this.B),this.M!=2&&(Zs(),St(17)),Eo(this),this.m=2,Sc(this)):Bx(this,this.T-u)};function Sc(u){u.j.I==0||u.K||f1(u.j,u)}function Eo(u){Gm(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,vs(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Km(u,g){try{var x=u.j;if(x.I!=0&&(x.g==u||Ym(x.h,u))){if(!u.L&&Ym(x.h,u)&&x.I==3){try{var C=x.Ba.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)eh(x),Zd(x);else break e;tg(x),St(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=xo(c(x.Va,x),6e3));Hx(x.h)<=1&&x.ta&&(x.ta=void 0)}else So(x,11)}else if((u.L||x.g==u)&&eh(x),!k(g))for(V=x.Ba.g.parse(g),g=0;g<V.length;g++){let je=V[g];const kt=je[0];if(!(kt<=x.K))if(x.K=kt,je=je[1],x.I==2)if(je[0]=="c"){x.M=je[1],x.ba=je[2];const $r=je[3];$r!=null&&(x.ka=$r,x.j.info("VER="+x.ka));const bo=je[4];bo!=null&&(x.za=bo,x.j.info("SVER="+x.za));const ri=je[5];ri!=null&&typeof ri=="number"&&ri>0&&(C=1.5*ri,x.O=C,x.j.info("backChannelRequestTimeoutMs_="+C)),C=x;const si=u.g;if(si){const nh=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nh){var L=C.h;L.g||nh.indexOf("spdy")==-1&&nh.indexOf("quic")==-1&&nh.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Qm(L,L.h),L.h=null))}if(C.G){const rg=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(C.wa=rg,ze(C.J,C.G,rg))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),C=x;var G=u;if(C.na=g1(C,C.L?C.ba:null,C.W),G.L){qx(C.h,G);var we=G,bt=C.O;bt&&(we.H=bt),we.D&&(Gm(we),Kd(we)),C.g=G}else d1(C);x.i.length>0&&Jd(x)}else je[0]!="stop"&&je[0]!="close"||So(x,7);else x.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?So(x,7):eg(x):je[0]!="noop"&&x.l&&x.l.qa(je),x.A=0)}}Zs(4)}catch{}}var hV=class{constructor(u,g){this.g=u,this.map=g}};function zx(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hx(u){return u.h?1:u.g?u.g.size:0}function Ym(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Qm(u,g){u.g?u.g.add(g):u.h=g}function qx(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}zx.prototype.cancel=function(){if(this.i=Gx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gx(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.G);return g}return m(u.i)}var Kx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fV(u,g){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const C=u[x].indexOf("=");let V,L=null;C>=0?(V=u[x].substring(0,C),L=u[x].substring(C+1)):V=u[x],g(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ei(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof ei?(this.l=u.l,bc(this,u.j),this.o=u.o,this.g=u.g,Ic(this,u.u),this.h=u.h,Xm(this,e1(u.i)),this.m=u.m):u&&(g=String(u).match(Kx))?(this.l=!1,bc(this,g[1]||"",!0),this.o=Cc(g[2]||""),this.g=Cc(g[3]||"",!0),Ic(this,g[4]),this.h=Cc(g[5]||"",!0),Xm(this,g[6]||"",!0),this.m=Cc(g[7]||"")):(this.l=!1,this.i=new Pc(null,this.l))}ei.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ac(g,Yx,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ac(g,Yx,!0),"@"),u.push(Tc(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ac(x,x.charAt(0)=="/"?gV:mV,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ac(x,vV)),u.join("")},ei.prototype.resolve=function(u){const g=Ur(this);let x=!!u.j;x?bc(g,u.j):x=!!u.o,x?g.o=u.o:x=!!u.g,x?g.g=u.g:x=u.u!=null;var C=u.h;if(x)Ic(g,u.u);else if(x=!!u.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var V=g.h.lastIndexOf("/");V!=-1&&(C=g.h.slice(0,V+1)+C)}if(V=C,V==".."||V==".")C="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){C=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let G=0;G<V.length;){const we=V[G++];we=="."?C&&G==V.length&&L.push(""):we==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),C&&G==V.length&&L.push("")):(L.push(we),C=!0)}C=L.join("/")}else C=V}return x?g.h=C:x=u.i.toString()!=="",x?Xm(g,e1(u.i)):x=!!u.m,x&&(g.m=u.m),g};function Ur(u){return new ei(u)}function bc(u,g,x){u.j=x?Cc(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ic(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Xm(u,g,x){g instanceof Pc?(u.i=g,wV(u.i,u.l)):(x||(g=Ac(g,yV)),u.i=new Pc(g,u.l))}function ze(u,g,x){u.i.set(g,x)}function Yd(u){return ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Cc(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ac(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,pV),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pV(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yx=/[#\/\?@]/g,mV=/[#\?:]/g,gV=/[#\?]/g,yV=/[#\?@]/g,vV=/#/g;function Pc(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function To(u){u.g||(u.g=new Map,u.h=0,u.i&&fV(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=Pc.prototype,t.add=function(u,g){To(this),this.i=null,u=Sa(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function Qx(u,g){To(u),g=Sa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Xx(u,g){return To(u),g=Sa(u,g),u.g.has(g)}t.forEach=function(u,g){To(this),this.g.forEach(function(x,C){x.forEach(function(V){u.call(g,V,C,this)},this)},this)};function Zx(u,g){To(u);let x=[];if(typeof g=="string")Xx(u,g)&&(x=x.concat(u.g.get(Sa(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)x=x.concat(u[g]);return x}t.set=function(u,g){return To(this),this.i=null,u=Sa(this,u),Xx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=Zx(this,u),u.length>0?String(u[0]):g):g};function Jx(u,g,x){Qx(u,g),x.length>0&&(u.i=null,u.g.set(Sa(u,g),m(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let C=0;C<g.length;C++){var x=g[C];const V=Tc(x);x=Zx(this,x);for(let L=0;L<x.length;L++){let G=V;x[L]!==""&&(G+="="+Tc(x[L])),u.push(G)}}return this.i=u.join("&")};function e1(u){const g=new Pc;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Sa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function wV(u,g){g&&!u.j&&(To(u),u.i=null,u.g.forEach(function(x,C){const V=C.toLowerCase();C!=V&&(Qx(this,C),Jx(this,V,x))},u)),u.j=g}function _V(u,g){const x=new se;if(o.Image){const C=new Image;C.onload=d(ti,x,"TestLoadImage: loaded",!0,g,C),C.onerror=d(ti,x,"TestLoadImage: error",!1,g,C),C.onabort=d(ti,x,"TestLoadImage: abort",!1,g,C),C.ontimeout=d(ti,x,"TestLoadImage: timeout",!1,g,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else g(!1)}function xV(u,g){const x=new se,C=new AbortController,V=setTimeout(()=>{C.abort(),ti(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:C.signal}).then(L=>{clearTimeout(V),L.ok?ti(x,"TestPingServer: ok",!0,g):ti(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),ti(x,"TestPingServer: error",!1,g)})}function ti(u,g,x,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(x)}catch{}}function EV(){this.g=new xa}function Zm(u){this.i=u.Sb||null,this.h=u.ab||!1}h(Zm,Hd),Zm.prototype.g=function(){return new Qd(this.i,this.h)};function Qd(u,g){Xe.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Qd,Xe),t=Qd.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,kc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rc(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;t1(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function t1(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Rc(this):kc(this),this.readyState==3&&t1(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Rc(this))},t.Na=function(u){this.g&&(this.response=u,Rc(this))},t.ga=function(){this.g&&Rc(this)};function Rc(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kc(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function kc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function n1(u){let g="";return F(u,function(x,C){g+=C,g+=":",g+=x,g+=`\r
`}),g}function Jm(u,g,x){e:{for(C in x){var C=!1;break e}C=!0}C||(x=n1(x),typeof u=="string"?x!=null&&Tc(x):ze(u,g,x))}function it(u){Xe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(it,Xe);var TV=/^https?$/i,SV=["POST","PUT"];t=it.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,x,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cr.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(L){r1(this,L);return}if(u=x||"",x=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)x.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const L of C.keys())x.set(L,C.get(L));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(x.keys()).find(L=>L.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(SV,g,void 0)>=0)||C||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,G]of x)this.g.setRequestHeader(L,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(L){r1(this,L)}};function r1(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,s1(u),Xd(u)}function s1(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Pt(this,"complete"),Pt(this,"abort"),Xd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xd(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?i1(this):this.Xa())},t.Xa=function(){i1(this)};function i1(u){if(u.h&&typeof i<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(Pt(u,"readystatechange"),ni(u)==4){u.h=!1;try{const L=u.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var C;if(C=L===0){let G=String(u.D).match(Kx)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),C=!TV.test(G?G.toLowerCase():"")}x=C}if(x)Pt(u,"complete"),Pt(u,"success");else{u.o=6;try{var V=ni(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",s1(u)}}finally{Xd(u)}}}}function Xd(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,g||Pt(u,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zm(g)}};function o1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bV(u){const g={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(k(u[C]))continue;var x=cV(u[C]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const L=g[V]||[];g[V]=L,L.push(x)}K(g,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function a1(u){this.za=0,this.i=[],this.j=new se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nc("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nc("baseRetryDelayMs",5e3,u),this.Za=Nc("retryDelaySeedMs",1e4,u),this.Ta=Nc("forwardChannelMaxRetries",2,u),this.va=Nc("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zx(u&&u.concurrentRequestLimit),this.Ba=new EV,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=a1.prototype,t.ka=8,t.I=1,t.connect=function(u,g,x,C){St(0),this.W=u,this.H=g||{},x&&C!==void 0&&(this.H.OSID=x,this.H.OAID=C),this.F=this.X,this.J=g1(this,null,this.W),Jd(this)};function eg(u){if(l1(u),u.I==3){var g=u.V++,x=Ur(u.J);if(ze(x,"SID",u.M),ze(x,"RID",g),ze(x,"TYPE","terminate"),Dc(u,x),g=new Js(u,u.j,g),g.M=2,g.A=Yd(Ur(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=g.A,x=!0),x||(g.g=y1(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Kd(g)}m1(u)}function Zd(u){u.g&&(ng(u),u.g.cancel(),u.g=null)}function l1(u){Zd(u),u.v&&(o.clearTimeout(u.v),u.v=null),eh(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Jd(u){if(!Wx(u.h)&&!u.m){u.m=!0;var g=u.Ea;N||b(),M||(N(),M=!0),I.add(g,u),u.D=0}}function IV(u,g){return Hx(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=xo(c(u.Ea,u,g),p1(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new Js(this,this.j,u);let L=this.o;if(this.U&&(L?(L=ue(L),ve(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var C=this.i[x];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=u1(this,V,g),x=Ur(this.J),ze(x,"RID",u),ze(x,"CVER",22),this.G&&ze(x,"X-HTTP-Session-Id",this.G),Dc(this,x),L&&(this.R?g="headers="+Tc(n1(L))+"&"+g:this.u&&Jm(x,this.u,L)),Qm(this.h,V),this.Ra&&ze(x,"TYPE","init"),this.S?(ze(x,"$req",g),ze(x,"SID","null"),V.U=!0,qm(V,x,null)):qm(V,x,g),this.I=2}}else this.I==3&&(u?c1(this,u):this.i.length==0||Wx(this.h)||c1(this))};function c1(u,g){var x;g?x=g.l:x=u.V++;const C=Ur(u.J);ze(C,"SID",u.M),ze(C,"RID",x),ze(C,"AID",u.K),Dc(u,C),u.u&&u.o&&Jm(C,u.u,u.o),x=new Js(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),g&&(u.i=g.G.concat(u.i)),g=u1(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Qm(u.h,x),qm(x,C,g)}function Dc(u,g){u.H&&F(u.H,function(x,C){ze(g,C,x)}),u.l&&F({},function(x,C){ze(g,C,x)})}function u1(u,g,x){x=Math.min(u.i.length,x);const C=u.l?c(u.l.Ka,u.l,u):null;e:{var V=u.i;let we=-1;for(;;){const bt=["count="+x];we==-1?x>0?(we=V[0].g,bt.push("ofs="+we)):we=0:bt.push("ofs="+we);let je=!0;for(let kt=0;kt<x;kt++){var L=V[kt].g;const $r=V[kt].map;if(L-=we,L<0)we=Math.max(0,V[kt].g-100),je=!1;else try{L="req"+L+"_"||"";try{var G=$r instanceof Map?$r:Object.entries($r);for(const[bo,ri]of G){let si=ri;a(ri)&&(si=_c(ri)),bt.push(L+bo+"="+encodeURIComponent(si))}}catch(bo){throw bt.push(L+"type="+encodeURIComponent("_badmap")),bo}}catch{C&&C($r)}}if(je){G=bt.join("&");break e}}G=void 0}return u=u.i.splice(0,x),g.G=u,G}function d1(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;N||b(),M||(N(),M=!0),I.add(g,u),u.A=0}}function tg(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=xo(c(u.Da,u),p1(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,h1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=xo(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Zd(this),h1(this))};function ng(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function h1(u){u.g=new Js(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ur(u.na);ze(g,"RID","rpc"),ze(g,"SID",u.M),ze(g,"AID",u.K),ze(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&ze(g,"TO",u.ia),ze(g,"TYPE","xmlhttp"),Dc(u,g),u.u&&u.o&&Jm(g,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Yd(Ur(g)),x.u=null,x.R=!0,Ux(x,u)}t.Va=function(){this.C!=null&&(this.C=null,Zd(this),tg(this),St(19))};function eh(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function f1(u,g){var x=null;if(u.g==g){eh(u),ng(u),u.g=null;var C=2}else if(Ym(u.h,g))x=g.G,qx(u.h,g),C=1;else return;if(u.I!=0){if(g.o)if(C==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var V=u.D;C=Ta(),Pt(C,new lr(C,x)),Jd(u)}else d1(u);else if(V=g.m,V==3||V==0&&g.X>0||!(C==1&&IV(u,g)||C==2&&tg(u)))switch(x&&x.length>0&&(g=u.h,g.i=g.i.concat(x)),V){case 1:So(u,5);break;case 4:So(u,10);break;case 3:So(u,6);break;default:So(u,2)}}}function p1(u,g){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*g}function So(u,g){if(u.j.info("Error code "+g),g==2){var x=c(u.bb,u),C=u.Ua;const V=!C;C=new ei(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||bc(C,"https"),Yd(C),V?_V(C.toString(),x):xV(C.toString(),x)}else St(2);u.I=0,u.l&&u.l.pa(g),m1(u),l1(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function m1(u){if(u.I=0,u.ja=[],u.l){const g=Gx(u.h);(g.length!=0||u.i.length!=0)&&(E(u.ja,g),E(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function g1(u,g,x){var C=x instanceof ei?Ur(x):new ei(x);if(C.g!="")g&&(C.g=g+"."+C.g),Ic(C,C.u);else{var V=o.location;C=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const L=new ei(null);C&&bc(L,C),g&&(L.g=g),V&&Ic(L,V),x&&(L.h=x),C=L}return x=u.G,g=u.wa,x&&g&&ze(C,x,g),ze(C,"VER",u.ka),Dc(u,C),C}function y1(u,g,x){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new it(new Zm({ab:x})):new it(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function v1(){}t=v1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function th(){}th.prototype.g=function(u,g){return new Pn(u,g)};function Pn(u,g){Xe.call(this),this.g=new a1(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!k(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!k(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ba(this)}h(Pn,Xe),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){eg(this.g)},Pn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=_c(u),u=x);g.i.push(new hV(g.Ya++,u)),g.I==3&&Jd(g)},Pn.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,Pn.Z.N.call(this)};function w1(u){jr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}h(w1,jr);function _1(){Ea.call(this),this.status=1}h(_1,Ea);function ba(u){this.g=u}h(ba,v1),ba.prototype.ra=function(){Pt(this.g,"a")},ba.prototype.qa=function(u){Pt(this.g,new w1(u))},ba.prototype.pa=function(u){Pt(this.g,new _1)},ba.prototype.oa=function(){Pt(this.g,"b")},th.prototype.createWebChannel=th.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,AN=function(){return new th},CN=function(){return Ta()},IN=pn,Bv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wn.NO_ERROR=0,Wn.TIMEOUT=8,Wn.HTTP_ERROR=6,lf=Wn,mn.COMPLETE="complete",bN=mn,xc.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Xe.prototype.listen=Xe.prototype.J,Jc=xc,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,SN=it}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const tS="@firebase/firestore",nS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new cm("@firebase/firestore");function Na(){return oa.logLevel}function X(t,...e){if(oa.logLevel<=Te.DEBUG){const n=e.map(d_);oa.debug(`Firestore (${uc}): ${t}`,...n)}}function Bs(t,...e){if(oa.logLevel<=Te.ERROR){const n=e.map(d_);oa.error(`Firestore (${uc}): ${t}`,...n)}}function Vl(t,...e){if(oa.logLevel<=Te.WARN){const n=e.map(d_);oa.warn(`Firestore (${uc}): ${t}`,...n)}}function d_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PN(t,r,n)}function PN(t,e,n){let r=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function Oe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||PN(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class oW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aW{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ks,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new RN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class lW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dW(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function zv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Qg(s)===Qg(i)?Se(s,i):Qg(s)?1:-1}return Se(t.length,e.length)}const hW=55296,fW=57343;function Qg(t){const e=t.charCodeAt(0);return e>=hW&&e<=fW}function Ll(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="__name__";class Wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Wr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),s=Wr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):zv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class $e extends Wr{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const pW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Wr{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return pW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sS}static keyField(){return new Ft([sS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re($e.fromString(e))}static fromName(e){return new re($e.fromString(e).popFirst(5))}static empty(){return new re($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mW(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!re.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oS(t){if(re.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dd(t,e){if(!NN(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=-62135596800,lS=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lS);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aS)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lS}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dd(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:Et("string",Le._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Le(0,0))}static max(){return new de(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;function gW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new Xi(s,re.empty(),e)}function yW(t){return new Xi(t.readTime,t.key,Ju)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(de.min(),re.empty(),Ju)}static max(){return new Xi(de.max(),re.empty(),Ju)}}function vW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _W{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==wW)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=-1;function ym(t){return t==null}function up(t){return t===0&&1/t==-1/0}function EW(t){return typeof t=="number"&&Number.isInteger(t)&&!up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="";function TW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cS(e)),e=SW(t.get(n),e);return cS(e)}function SW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case DN:n+="";break;default:n+=i}}return n}function cS(t){return t+DN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ON(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dS(this.data.getIterator())}getIteratorFrom(e){return new dS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class dS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new At(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MN("Invalid base64 string: "+i):i}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const bW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=bW.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="server_timestamp",LN="__type__",jN="__previous_value__",FN="__local_write_time__";function p_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LN])==null?void 0:r.stringValue)===VN}function vm(t){const e=t.mapValue.fields[jN];return p_(e)?vm(e):e}function ed(t){const e=Zi(t.mapValue.fields[FN].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const dp="(default)";class td{constructor(e,n){this.projectId=e,this.database=n||dp}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===dp}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="__type__",$N="__max__",Rh={mapValue:{fields:{__type__:{stringValue:$N}}}},BN="__vector__",hp="value";function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p_(t)?4:AW(t)?9007199254740991:CW(t)?10:11:oe(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ed(t).isEqual(ed(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zi(s.timestampValue),a=Zi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ji(s.bytesValue).isEqual(Ji(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?up(o)===up(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(uS(o)!==uS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hs(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function nd(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function jl(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hS(t.timestampValue,e.timestampValue);case 4:return hS(ed(t),ed(e));case 5:return zv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ji(i),l=Ji(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Se(a[c],l[c]);if(d!==0)return d}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(ht(i.latitude),ht(o.latitude));return a!==0?a:Se(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,m,E,y;const a=i.fields||{},l=o.fields||{},c=(f=a[hp])==null?void 0:f.arrayValue,d=(m=l[hp])==null?void 0:m.arrayValue,h=Se(((E=c==null?void 0:c.values)==null?void 0:E.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:fS(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Rh.mapValue&&o===Rh.mapValue)return 0;if(i===Rh.mapValue)return 1;if(o===Rh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=zv(l[h],d[h]);if(f!==0)return f;const m=jl(a[l[h]],c[d[h]]);if(m!==0)return m}return Se(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function hS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Zi(t),r=Zi(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function fS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=jl(n[s],r[s]);if(i)return i}return Se(n.length,r.length)}function Fl(t){return Wv(t)}function Wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Wv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Wv(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function cf(t){switch(eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vm(t);return e?16+cf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+cf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fo(r.fields,(i,o)=>{s+=i.length+cf(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function pS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hv(t){return!!t&&"integerValue"in t}function m_(t){return!!t&&"arrayValue"in t}function mS(t){return!!t&&"nullValue"in t}function gS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uf(t){return!!t&&"mapValue"in t}function CW(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UN])==null?void 0:r.stringValue)===BN}function vu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return{...t}}function AW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=Ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new wn(vu(this.value))}}function zN(t){const e=[];return fo(t.fields,(n,r)=>{const s=new Ft([n]);if(uf(r)){const i=zN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,de.min(),de.min(),de.min(),wn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,de.min(),de.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,de.min(),de.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.position=e,this.inclusive=n}}function yS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=jl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function vS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n="asc"){this.field=e,this.dir=n}}function PW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{}class _t extends WN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kW(e,n,r):n==="array-contains"?new OW(e,r):n==="in"?new MW(e,r):n==="not-in"?new VW(e,r):n==="array-contains-any"?new LW(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NW(e,r):new DW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jl(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends WN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rr(e,n)}matches(e){return HN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HN(t){return t.op==="and"}function qN(t){return RW(t)&&HN(t)}function RW(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function qv(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(qN(t))return t.filters.map(e=>qv(e)).join(",");{const e=t.filters.map(n=>qv(n)).join(",");return`${t.op}(${e})`}}function GN(t,e){return t instanceof _t?function(r,s){return s instanceof _t&&r.op===s.op&&r.field.isEqual(s.field)&&hs(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&GN(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function KN(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(KN).join(" ,")+"}"}(t):"Filter"}class kW extends _t{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class NW extends _t{constructor(e,n){super(e,"in",n),this.keys=YN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DW extends _t{constructor(e,n){super(e,"not-in",n),this.keys=YN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class OW extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return m_(n)&&nd(n.arrayValue,this.value)}}class MW extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nd(this.value.arrayValue,n)}}class VW extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nd(this.value.arrayValue,n)}}class LW extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!m_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function wS(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jW(t,e,n,r,s,i,o)}function g_(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),e.Te=n}return e.Te}function y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vS(t.startAt,e.startAt)&&vS(t.endAt,e.endAt)}function Gv(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FW(t,e,n,r,s,i,o,a){return new Od(t,e,n,r,s,i,o,a)}function v_(t){return new Od(t)}function _S(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QN(t){return t.collectionGroup!==null}function wu(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new pp(i,r))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new pp(Ft.keyField(),r))}return e.Ie}function ns(t){const e=pe(t);return e.Ee||(e.Ee=UW(e,wu(t))),e.Ee}function UW(t,e){if(t.limitType==="F")return wS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pp(s.field,i)});const n=t.endAt?new fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fp(t.startAt.position,t.startAt.inclusive):null;return wS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kv(t,e){const n=t.filters.concat([e]);return new Od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yv(t,e,n){return new Od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wm(t,e){return y_(ns(t),ns(e))&&t.limitType===e.limitType}function XN(t){return`${g_(ns(t))}|lt:${t.limitType}`}function Da(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>KN(s)).join(", ")}]`),ym(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fl(s)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function _m(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=yS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,wu(r),s)||r.endAt&&!function(o,a,l){const c=yS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,wu(r),s))}(t,e)}function $W(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZN(t){return(e,n)=>{let r=!1;for(const s of wu(t)){const i=BW(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BW(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?jl(l,c):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ON(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new nt(re.comparator);function zs(){return zW}const JN=new nt(re.comparator);function eu(...t){let e=JN;for(const n of t)e=e.insert(n.key,n);return e}function eD(t){let e=JN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vo(){return _u()}function tD(){return _u()}function _u(){return new va(t=>t.toString(),(t,e)=>t.isEqual(e))}const WW=new nt(re.comparator),HW=new At(re.comparator);function be(...t){let e=HW;for(const n of t)e=e.add(n);return e}const qW=new At(Se);function GW(){return qW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function nD(t){return{integerValue:""+t}}function KW(t,e){return EW(e)?nD(e):w_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function YW(t,e,n){return t instanceof rd?function(s,i){const o={fields:{[LN]:{stringValue:VN},[FN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&p_(i)&&(i=vm(i)),i&&(o.fields[jN]=i),{mapValue:o}}(n,e):t instanceof sd?sD(t,e):t instanceof id?iD(t,e):function(s,i){const o=rD(s,i),a=xS(o)+xS(s.Ae);return Hv(o)&&Hv(s.Ae)?nD(a):w_(s.serializer,a)}(t,e)}function QW(t,e,n){return t instanceof sd?sD(t,e):t instanceof id?iD(t,e):n}function rD(t,e){return t instanceof mp?function(r){return Hv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rd extends xm{}class sd extends xm{constructor(e){super(),this.elements=e}}function sD(t,e){const n=oD(e);for(const r of t.elements)n.some(s=>hs(s,r))||n.push(r);return{arrayValue:{values:n}}}class id extends xm{constructor(e){super(),this.elements=e}}function iD(t,e){let n=oD(e);for(const r of t.elements)n=n.filter(s=>!hs(s,r));return{arrayValue:{values:n}}}class mp extends xm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xS(t){return ht(t.integerValue||t.doubleValue)}function oD(t){return m_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,n){this.field=e,this.transform=n}}function ZW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sd&&s instanceof sd||r instanceof id&&s instanceof id?Ll(r.elements,s.elements,hs):r instanceof mp&&s instanceof mp?hs(r.Ae,s.Ae):r instanceof rd&&s instanceof rd}(t.transform,e.transform)}class JW{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Em{}function aD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __(t.key,nr.none()):new Md(t.key,t.data,nr.none());{const n=t.data,r=wn.empty();let s=new At(Ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new po(t.key,r,new Dn(s.toArray()),nr.none())}}function e7(t,e,n){t instanceof Md?function(s,i,o){const a=s.value.clone(),l=TS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(s,i,o){if(!df(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=TS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lD(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xu(t,e,n,r){return t instanceof Md?function(i,o,a,l){if(!df(i.precondition,o))return a;const c=i.value.clone(),d=SS(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(i,o,a,l){if(!df(i.precondition,o))return a;const c=SS(i.fieldTransforms,l,o),d=o.data;return d.setAll(lD(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return df(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function t7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rD(r.transform,s||null);i!=null&&(n===null&&(n=wn.empty()),n.set(r.field,i))}return n||null}function ES(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ll(r,s,(i,o)=>ZW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Md extends Em{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class po extends Em{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TS(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,QW(o,a,n[s]))}return r}function SS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,YW(i,o,e))}return r}class __ extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n7 extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&e7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tD();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=aD(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(n,r)=>ES(n,r))&&Ll(this.baseMutations,e.baseMutations,(n,r)=>ES(n,r))}}class x_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return WW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new x_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ce;function o7(t){switch(t){case $.OK:return oe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function cD(t){if(t===void 0)return Bs("GRPC error has no .code"),$.UNKNOWN;switch(t){case yt.OK:return $.OK;case yt.CANCELLED:return $.CANCELLED;case yt.UNKNOWN:return $.UNKNOWN;case yt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case yt.INTERNAL:return $.INTERNAL;case yt.UNAVAILABLE:return $.UNAVAILABLE;case yt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case yt.NOT_FOUND:return $.NOT_FOUND;case yt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case yt.ABORTED:return $.ABORTED;case yt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case yt.DATA_LOSS:return $.DATA_LOSS;default:return oe(39323,{code:t})}}(Ce=yt||(yt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=new zi([4294967295,4294967295],0);function bS(t){const e=a7().encode(t),n=new TN;return n.update(e),new Uint8Array(n.digest())}function IS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zi([n,r],0),new zi([s,i],0)]}class E_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zi.fromNumber(r)));return s.compare(l7)===1&&(s=new zi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bS(e),[r,s]=IS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new E_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=bS(e),[r,s]=IS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tm(de.min(),s,new nt(Se),zs(),be())}}class Vd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vd(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class uD{constructor(e,n){this.targetId=e,this.Ce=n}}class dD{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class CS{constructor(){this.ve=0,this.Fe=AS(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new Vd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=AS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c7{constructor(e){this.Ge=e,this.ze=new Map,this.je=zs(),this.Je=kh(),this.He=kh(),this.Ye=new nt(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Gv(i))if(r===0){const o=new re(i.path);this.et(n,o,Zt.newNoDocument(o,de.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ji(r).toUint8Array()}catch(l){if(l instanceof MN)return Vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new E_(o,s,i)}catch(l){return Vl(l instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Gv(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Zt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=be();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Tm(e,n,this.Ye,this.je,r);return this.je=zs(),this.Je=kh(),this.He=kh(),this.Ye=new nt(Se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kh(){return new nt(re.comparator)}function AS(){return new nt(re.comparator)}const u7={asc:"ASCENDING",desc:"DESCENDING"},d7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h7={and:"AND",or:"OR"};class f7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qv(t,e){return t.useProto3Json||ym(e)?e:{value:e}}function gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p7(t,e){return gp(t,e.toTimestamp())}function rs(t){return Oe(!!t,49232),de.fromTimestamp(function(n){const r=Zi(n);return new Le(r.seconds,r.nanos)}(t))}function T_(t,e){return Xv(t,e).canonicalString()}function Xv(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fD(t){const e=$e.fromString(t);return Oe(vD(e),10190,{key:e.toString()}),e}function Zv(t,e){return T_(t.databaseId,e.path)}function Xg(t,e){const n=fD(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(mD(n))}function pD(t,e){return T_(t.databaseId,e)}function m7(t){const e=fD(t);return e.length===4?$e.emptyPath():mD(e)}function Jv(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mD(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PS(t,e,n){return{name:Zv(t,e),fields:n.value.mapValue.fields}}function g7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Oe(d===void 0||typeof d=="string",58123),Wt.fromBase64String(d||"")):(Oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:cD(c.code);return new Y(d,c.message||"")}(o);n=new dD(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xg(t,r.document.name),i=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):de.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new hf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xg(t,r.document),i=r.readTime?rs(r.readTime):de.min(),o=Zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new hf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xg(t,r.document),i=r.removedTargetIds||[];n=new hf([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new i7(s,i),a=r.targetId;n=new uD(a,o)}}return n}function y7(t,e){let n;if(e instanceof Md)n={update:PS(t,e.key,e.value)};else if(e instanceof __)n={delete:Zv(t,e.key)};else if(e instanceof po)n={update:PS(t,e.key,e.data),updateMask:I7(e.fieldMask)};else{if(!(e instanceof n7))return oe(16599,{Vt:e.type});n={verify:Zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof rd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof id)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:p7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function v7(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?rs(s.updateTime):rs(i);return o.isEqual(de.min())&&(o=rs(i)),new JW(o,s.transformResults||[])}(n,e))):[]}function w7(t,e){return{documents:[pD(t,e.path)]}}function _7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pD(t,s);const i=function(c){if(c.length!==0)return yD(Rr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Oa(f.field),direction:T7(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Qv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function x7(t){let e=m7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=gD(h);return f instanceof Rr&&qN(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new pp(Ma(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ym(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new fp(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new fp(m,f)}(n.endAt)),FW(e,s,o,i,a,"F",l,c)}function E7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ma(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ma(n.unaryFilter.field);return _t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ma(n.unaryFilter.field);return _t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ma(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return _t.create(Ma(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>gD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function T7(t){return u7[t]}function S7(t){return d7[t]}function b7(t){return h7[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function Ma(t){return Ft.fromServerFormat(t.fieldPath)}function yD(t){return t instanceof _t?function(n){if(n.op==="=="){if(gS(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(mS(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gS(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(mS(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:S7(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>yD(s));return r.length===1?r[0]:{compositeFilter:{op:b7(n.op),filters:r}}}(t):oe(54877,{filter:t})}function I7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r,s,i=de.min(),o=de.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.yt=e}}function A7(t){const e=x7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.Cn=new R7}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Xi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class R7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wD=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(wD,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="LruGarbageCollector",k7=1048576;function NS([t,e],[n,r]){const s=Se(t,n);return s===0?Se(e,r):s}class N7{constructor(e){this.Ir=e,this.buffer=new At(NS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(kS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hc(n)?X(kS,"Ignoring IndexedDB error during garbage collection: ",n):await dc(n)}await this.Vr(3e5)})}}class O7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(gm.ce);const r=new N7(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(RS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Na()<=Te.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function M7(t,e){return new O7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.changes=new va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xu(r.mutation,s,Dn.empty(),Le.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=Vo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=eu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=zs();const o=_u(),a=function(){return _u()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof po)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),xu(d.mutation,c,d.mutation.getFieldMask(),Le.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new L7(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=_u();let s=new nt((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Dn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||be()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=tD();d.forEach(f=>{if(!i.has(f)){const m=aD(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Vo());let a=Ju,l=i;return o.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,be())).next(d=>({batchId:a,changes:eD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=eu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=eu();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(h,f){return new Od(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Zt.newInvalidDocument(d)))});let a=eu();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&xu(d.mutation,c,Dn.empty(),Le.now()),_m(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rs(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:A7(s.bundledQuery),readTime:rs(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.overlays=new nt(re.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Vo(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Vo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Vo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s7(n,r));let i=this.qr.get(n);i===void 0&&(i=be(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.Qr=new At(Nt.$r),this.Ur=new At(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new $e([])),r=new Nt(n,e),s=new Nt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new $e([])),r=new Nt(n,e),s=new Nt(n,e+1);let i=be();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Nt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new r7(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?f_:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Se);return n.forEach(s=>{const i=new Nt(s,0),o=new Nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new Nt(new re(i),0);let a=new At(Se);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new Nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Nt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.ri=e,this.docs=function(){return new nt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=zs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Zt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zs();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vW(yW(d),r)<=0||(s.has(d.key)||_m(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W7(this)}getSize(e){return B.resolve(this.size)}}class W7 extends V7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.persistence=e,this.si=new va(n=>g_(n),y_),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new S_,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.ui={},this.overlays={},this.ci=new gm(0),this.li=!1,this.li=!0,this.hi=new $7,this.referenceDelegate=e(this),this.Pi=new H7(this),this.indexManager=new P7,this.remoteDocumentCache=function(s){return new z7(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new C7(n),this.Ii=new F7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new B7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new q7(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class q7 extends _W{constructor(e){super(),this.currentSequenceNumber=e}}class b_{constructor(e){this.persistence=e,this.Ri=new S_,this.Vi=null}static mi(e){return new b_(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=re.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yp{constructor(e,n){this.persistence=e,this.pi=new va(r=>TW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=M7(this,n)}static mi(e,n){return new yp(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cf(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new I_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return e9()?8:xW(rn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new G7;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Na()<=Te.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Na()<=Te.DEBUG&&X("QueryEngine","Query:",Da(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Na()<=Te.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):B.resolve())}ys(e,n){if(_S(n))return B.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yv(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=be(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Yv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return _S(n)||s.isEqual(de.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Na()<=Te.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Da(n)),this.vs(e,o,n,gW(s,Ju)).next(a=>a))})}Ds(e,n){let r=new At(ZN(e));return n.forEach((s,i)=>{_m(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Na()<=Te.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Da(n)),this.ps.getDocumentsMatchingQuery(e,n,Xi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LocalStore",Y7=3e8;class Q7{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new nt(Se),this.xs=new va(i=>g_(i),y_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function X7(t,e,n,r){return new Q7(t,e,n,r)}async function xD(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=be();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Z7(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=B.resolve();return f.forEach(E=>{m=m.next(()=>d.getEntry(l,E)).next(y=>{const T=c.docVersions.get(E);Oe(T!==null,48541),y.version.compareTo(T)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ED(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function J7(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Wt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,T,v){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Y7?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=zs(),c=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(eH(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(de.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function eH(t,e,n){let r=be(),s=be();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=zs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X(C_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function tH(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=f_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nH(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function e0(t,e,n){const r=pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hc(o))throw o;X(C_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function DS(t,e,n){const r=pe(t);let s=de.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=pe(l),f=h.xs.get(d);return f!==void 0?B.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,d)}(r,o,ns(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:be())).next(a=>(rH(r,$W(e),a),{documents:a,Qs:i})))}function rH(t,e,n){let r=t.Os.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class OS{constructor(){this.activeTargetIds=GW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sH{constructor(){this.Mo=new OS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new OS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="ConnectivityMonitor";class VS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(MS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(MS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function t0(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",oH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===dp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=t0(),a=this.zo(e,n.toUriEncodedString());X(Zg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=ac(c);return this.Jo(e,a,l,r,d).then(h=>(X(Zg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Vl(Zg,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=oH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class cH extends aH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=t0();return new Promise((a,l)=>{const c=new SN;c.setWithCredentials(!0),c.listenOnce(bN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lf.NO_ERROR:const h=c.getResponseJson();X(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case lf.TIMEOUT:X(Kt,`RPC '${e}' ${o} timed out`),l(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const f=c.getStatus();if(X(Kt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const y=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(E.status);l(new Y(y,E.message))}else l(new Y($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y($.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{X(Kt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);X(Kt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=t0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AN(),a=CN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");X(Kt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let f=!1,m=!1;const E=new lH({Yo:T=>{m?X(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(X(Kt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),X(Kt,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},Zo:()=>h.close()}),y=(T,v,w)=>{T.listen(v,_=>{try{w(_)}catch(A){setTimeout(()=>{throw A},0)}})};return y(h,Jc.EventType.OPEN,()=>{m||(X(Kt,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),y(h,Jc.EventType.CLOSE,()=>{m||(m=!0,X(Kt,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(h))}),y(h,Jc.EventType.ERROR,T=>{m||(m=!0,Vl(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),y(h,Jc.EventType.MESSAGE,T=>{var v;if(!m){const w=T.data[0];Oe(!!w,16349);const _=w,A=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(A){X(Kt,`RPC '${e}' stream ${s} received error:`,A);const N=A.status;let M=function(P){const R=yt[P];if(R!==void 0)return cD(R)}(N),I=A.message;M===void 0&&(M=$.INTERNAL,I="Unknown error status: "+N+" with message "+A.message),m=!0,E.a_(new Y(M,I)),h.close()}else X(Kt,`RPC '${e}' stream ${s} received:`,w),E.u_(w)}}),y(a,IN.STAT_EVENT,T=>{T.stat===Bv.PROXY?X(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Bv.NOPROXY&&X(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){return new f7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="PersistentStream";class SD{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(LS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(LS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uH extends SD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=g7(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?rs(o.readTime):de.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Jv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Gv(l)?{documents:w7(i,l)}:{query:_7(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hD(i,o.resumeToken);const c=Qv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=gp(i,o.snapshotVersion.toTimestamp());const c=Qv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=E7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Jv(this.serializer),n.removeTarget=e,this.q_(n)}}class dH extends SD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=v7(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Jv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>y7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{}class fH extends hH{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Xv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Xv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class mH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{wa(this)&&(X(aa,"Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.Ea.add(4),await Ld(c),c.Ra.set("Unknown"),c.Ea.delete(4),await bm(c)}(this))})}),this.Ra=new pH(r,s)}}async function bm(t){if(wa(t))for(const e of t.da)await e(!0)}async function Ld(t){for(const e of t.da)await e(!1)}function bD(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),k_(n)?R_(n):fc(n).O_()&&P_(n,e))}function A_(t,e){const n=pe(t),r=fc(n);n.Ia.delete(e),r.O_()&&ID(n,e),n.Ia.size===0&&(r.O_()?r.L_():wa(n)&&n.Ra.set("Unknown"))}function P_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).Y_(e)}function ID(t,e){t.Va.Ue(e),fc(t).Z_(e)}function R_(t){t.Va=new c7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.Ra.ua()}function k_(t){return wa(t)&&!fc(t).x_()&&t.Ia.size>0}function wa(t){return pe(t).Ea.size===0}function CD(t){t.Va=void 0}async function gH(t){t.Ra.set("Online")}async function yH(t){t.Ia.forEach((e,n)=>{P_(t,e)})}async function vH(t,e){CD(t),k_(t)?(t.Ra.ha(e),R_(t)):t.Ra.set("Unknown")}async function wH(t,e,n){if(t.Ra.set("Online"),e instanceof dD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){X(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vp(t,r)}else if(e instanceof hf?t.Va.Ze(e):e instanceof uD?t.Va.st(e):t.Va.tt(e),!n.isEqual(de.min()))try{const r=await ED(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Wt.EMPTY_BYTE_STRING,d.snapshotVersion)),ID(i,l);const h=new Ri(d.target,l,c,d.sequenceNumber);P_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(aa,"Failed to raise snapshot:",r),await vp(t,r)}}async function vp(t,e,n){if(!hc(e))throw e;t.Ea.add(1),await Ld(t),t.Ra.set("Offline"),n||(n=()=>ED(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(aa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bm(t)})}function AD(t,e){return e().catch(n=>vp(t,n,e))}async function Im(t){const e=pe(t),n=to(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:f_;for(;_H(e);)try{const s=await tH(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,xH(e,s)}catch(s){await vp(e,s)}PD(e)&&RD(e)}function _H(t){return wa(t)&&t.Ta.length<10}function xH(t,e){t.Ta.push(e);const n=to(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PD(t){return wa(t)&&!to(t).x_()&&t.Ta.length>0}function RD(t){to(t).start()}async function EH(t){to(t).ra()}async function TH(t){const e=to(t);for(const n of t.Ta)e.ea(n.mutations)}async function SH(t,e,n){const r=t.Ta.shift(),s=x_.from(r,e,n);await AD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Im(t)}async function bH(t,e){e&&to(t).X_&&await async function(r,s){if(function(o){return o7(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();to(r).B_(),await AD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Im(r)}}(t,e),PD(t)&&RD(t)}async function jS(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),X(aa,"RemoteStore received new credentials");const r=wa(n);n.Ea.add(3),await Ld(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bm(n)}async function IH(t,e){const n=pe(t);e?(n.Ea.delete(2),await bm(n)):e||(n.Ea.add(2),await Ld(n),n.Ra.set("Unknown"))}function fc(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new uH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:gH.bind(null,t),t_:yH.bind(null,t),r_:vH.bind(null,t),H_:wH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),k_(t)?R_(t):t.Ra.set("Unknown")):(await t.ma.stop(),CD(t))})),t.ma}function to(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new dH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:EH.bind(null,t),r_:bH.bind(null,t),ta:TH.bind(null,t),na:SH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Im(t)):(await t.fa.stop(),t.Ta.length>0&&(X(aa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new N_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D_(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),hc(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.ga=new nt(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $l(e,n,fl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AH{constructor(){this.queries=US(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=US(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function US(){return new va(t=>XN(t),wm)}async function kD(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new CH,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=D_(o,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&O_(n)}async function ND(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PH(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&O_(n)}function RH(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function O_(t){t.Ca.forEach(e=>{e.next()})}var n0,$S;($S=n0||(n0={})).Ma="default",$S.Cache="cache";class DD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==n0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.key=e}}class MD{constructor(e){this.key=e}}class kH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=ZN(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new FS,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=_m(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?E!==y&&(r.track({type:3,doc:m}),T=!0):this.su(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,E){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:T})}};return y(m)-y(E)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new $l(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new MD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new OD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M_="SyncEngine";class NH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DH{constructor(e){this.key=e,this.hu=!1}}class OH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new va(a=>XN(a),wm),this.Iu=new Map,this.Eu=new Set,this.du=new nt(re.comparator),this.Au=new Map,this.Ru=new S_,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MH(t,e,n=!0){const r=$D(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await VD(r,e,n,!0),s}async function VH(t,e){const n=$D(t);await VD(n,e,!0,!1)}async function VD(t,e,n,r){const s=await nH(t.localStore,ns(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await LH(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bD(t.remoteStore,s),a}async function LH(t,e,n,r,s){t.pu=(h,f,m)=>async function(y,T,v,w){let _=T.view.ru(v);_.Cs&&(_=await DS(y.localStore,T.query,!1).then(({documents:I})=>T.view.ru(I,_)));const A=w&&w.targetChanges.get(T.targetId),N=w&&w.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(_,y.isPrimaryClient,A,N);return zS(y,T.targetId,M.au),M.snapshot}(t,h,f,m);const i=await DS(t.localStore,e,!0),o=new kH(e,i.Qs),a=o.ru(i.documents),l=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);zS(t,n,c.au);const d=new NH(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function jH(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!wm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await e0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&A_(r.remoteStore,s.targetId),r0(r,s.targetId)}).catch(dc)):(r0(r,s.targetId),await e0(r.localStore,s.targetId,!0))}async function FH(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),A_(n.remoteStore,r.targetId))}async function UH(t,e,n){const r=GH(t);try{const s=await function(o,a){const l=pe(o),c=Le.now(),d=a.reduce((m,E)=>m.add(E.key),be());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=zs(),y=be();return l.Ns.getEntries(m,d).next(T=>{E=T,E.forEach((v,w)=>{w.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,E)).next(T=>{h=T;const v=[];for(const w of a){const _=t7(w,h.get(w.key).overlayedDocument);_!=null&&v.push(new po(w.key,_,zN(_.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,v,a)}).next(T=>{f=T;const v=T.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,T.batchId,v)})}).then(()=>({batchId:f.batchId,changes:eD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new nt(Se)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await jd(r,s.changes),await Im(r.remoteStore)}catch(s){const i=D_(s,"Failed to persist write");n.reject(i)}}async function LD(t,e){const n=pe(t);try{const r=await J7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Oe(o.hu,14607):s.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await jd(n,r,e)}catch(r){await dc(r)}}function BS(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(a)&&(c=!0)}),c&&O_(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $H(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new nt(re.comparator);o=o.insert(i,Zt.newNoDocument(i,de.min()));const a=be().add(i),l=new Tm(de.min(),new Map,new nt(Se),o,a);await LD(r,l),r.du=r.du.remove(i),r.Au.delete(e),V_(r)}else await e0(r.localStore,e,!1).then(()=>r0(r,e,n)).catch(dc)}async function BH(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await Z7(n.localStore,e);FD(n,r,null),jD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jd(n,s)}catch(s){await dc(s)}}async function zH(t,e,n){const r=pe(t);try{const s=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Oe(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);FD(r,e,n),jD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jd(r,s)}catch(s){await dc(s)}}function jD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function FD(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function r0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UD(t,r)})}function UD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(A_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),V_(t))}function zS(t,e,n){for(const r of n)r instanceof OD?(t.Ru.addReference(r.key,e),WH(t,r)):r instanceof MD?(X(M_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UD(t,r.key)):oe(19791,{wu:r})}function WH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(M_,"New document in limbo: "+n),t.Eu.add(r),V_(t))}function V_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re($e.fromString(e)),r=t.fu.next();t.Au.set(r,new DH(n)),t.du=t.du.insert(n,r),bD(t.remoteStore,new Ri(ns(v_(n.path)),r,"TargetPurposeLimboResolution",gm.ce))}}async function jd(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=I_.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>B.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!hc(h))throw h;X(C_,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),E=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(f,y)}}}(r.localStore,i))}async function HH(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){X(M_,"User change. New user:",e.toKey());const r=await xD(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jd(n,r.Ls)}}function qH(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let s=be();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function $D(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$H.bind(null,e),e.Pu.H_=PH.bind(null,e.eventManager),e.Pu.yu=RH.bind(null,e.eventManager),e}function GH(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zH.bind(null,e),e}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X7(this.persistence,new K7,e.initialUser,this.serializer)}Cu(e){return new _D(b_.mi,this.serializer)}Du(e){return new sH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class KH extends wp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof yp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new _D(r=>yp.mi(r,n),this.serializer)}}class s0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HH.bind(null,this.syncEngine),await IH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AH}()}createDatastore(e){const n=Sm(e.databaseInfo.databaseId),r=function(i){return new cH(i)}(e.databaseInfo);return function(i,o,a,l){return new fH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>BS(this.syncEngine,n,0),function(){return VS.v()?new VS:new iH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new OH(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);X(aa,"RemoteStore shutting down."),i.Ea.add(5),await Ld(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}s0.provider={build:()=>new s0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class YH{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X(no,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(no,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ey(t,e){t.asyncQueue.verifyOperationInProgress(),X(no,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QH(t);X(no,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jS(e.remoteStore,s)),t._onlineComponents=e}async function QH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(no,"Using user provided OfflineComponentProvider");try{await ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await ey(t,new wp)}}else X(no,"Using default OfflineComponentProvider"),await ey(t,new KH(void 0));return t._offlineComponents}async function zD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(no,"Using user provided OnlineComponentProvider"),await WS(t,t._uninitializedComponentsProvider._online)):(X(no,"Using default OnlineComponentProvider"),await WS(t,new s0))),t._onlineComponents}function XH(t){return zD(t).then(e=>e.syncEngine)}async function WD(t){const e=await zD(t),n=e.eventManager;return n.onListen=MH.bind(null,e.syncEngine),n.onUnlisten=jH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FH.bind(null,e.syncEngine),n}function ZH(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new BD({next:f=>{d.Nu(),o.enqueueAndForget(()=>ND(i,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new DD(v_(a.path),d,{includeMetadataChanges:!0,qa:!0});return kD(i,h)}(await WD(t),t.asyncQueue,e,n,r)),r.promise}function JH(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new BD({next:f=>{d.Nu(),o.enqueueAndForget(()=>ND(i,h)),f.fromCache&&l.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new DD(a,d,{includeMetadataChanges:!0,qa:!0});return kD(i,h)}(await WD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firestore.googleapis.com",qS=!0;class GS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qD,this.ssl=qS}else this.host=e.host,this.ssl=e.ssl??qS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k7)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iW;switch(r.type){case"firstParty":return new cW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HS.get(n);r&&(X("ComponentProvider","Removing Datastore"),HS.delete(n),r.terminate())}(this),Promise.resolve()}}function eq(t,e,n,r={}){var c;t=Pr(t,Cm);const s=ac(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(uk(`https://${a}`),dk("Firestore",!0)),i.host!==qD&&i.host!==a&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Qi(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Qt.MOCK_USER;else{d=q6(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qt(f)}t._authCredentials=new oW(new RN(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dd(n,mt._jsonSchema))return new mt(e,r||null,new re($e.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Et("string",mt._jsonSchemaVersion),referencePath:Et("string")};class Wi extends pc{constructor(e,n,r){super(e,n,v_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new re(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function Ns(t,e,...n){if(t=ut(t),kN("collection","path",e),t instanceof Cm){const r=$e.fromString(e,...n);return oS(r),new Wi(t,null,r)}{if(!(t instanceof mt||t instanceof Wi))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return oS(r),new Wi(t.firestore,null,r)}}function Ln(t,e,...n){if(t=ut(t),arguments.length===1&&(e=h_.newId()),kN("doc","path",e),t instanceof Cm){const r=$e.fromString(e,...n);return iS(r),new mt(t,null,new re(r))}{if(!(t instanceof mt||t instanceof Wi))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return iS(r),new mt(t.firestore,t instanceof Wi?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="AsyncQueue";class YS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TD(this,"async_queue_retry"),this._c=()=>{const r=Jg();r&&X(KS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hc(e))throw e;X(KS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",QS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=N_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:QS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _a extends Cm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YS(e),this._firestoreClient=void 0,await e}}}function tq(t,e){const n=typeof t=="object"?t:Qw(),r=typeof t=="string"?t:dp,s=ga(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=W6("firestore");i&&eq(s,...i)}return s}function L_(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nq(t),t._firestoreClient}function nq(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new IW(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Wt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dd(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Et("string",Xn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(Dd(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Et("string",ss._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dd(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new is(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Et("string",is._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=/^__.*__$/;class sq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Md(e,this.data,n,this.fieldTransforms)}}class GD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class j_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new j_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _p(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KD(this.Ac)&&rq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sm(e)}Cc(e,n,r,s=!1){return new j_({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rm(t){const e=t._freezeSettings(),n=Sm(t._databaseId);return new iq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YD(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);U_("Data must be an object, but it was:",o,r);const a=QD(r,o);let l,c;if(i.merge)l=new Dn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=i0(e,h,n);if(!o.contains(f))throw new Y($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZD(d,f)||d.push(f)}l=new Dn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new sq(new wn(a),l,c)}class km extends Pm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}class F_ extends Pm{_toFieldTransform(e){return new XW(e.path,new rd)}isEqual(e){return e instanceof F_}}function oq(t,e,n,r){const s=t.Cc(1,e,n);U_("Data must be an object, but it was:",s,r);const i=[],o=wn.empty();fo(r,(l,c)=>{const d=$_(e,l,n);c=ut(c);const h=s.yc(d);if(c instanceof km)i.push(d);else{const f=Fd(c,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new Dn(i);return new GD(o,a,s.fieldTransforms)}function aq(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[i0(e,r,n)],l=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(i0(e,i[f])),l.push(i[f+1]);const c=[],d=wn.empty();for(let f=a.length-1;f>=0;--f)if(!ZD(c,a[f])){const m=a[f];let E=l[f];E=ut(E);const y=o.yc(m);if(E instanceof km)c.push(m);else{const T=Fd(E,y);T!=null&&(c.push(m),d.set(m,T))}}const h=new Dn(c);return new GD(d,h,o.fieldTransforms)}function lq(t,e,n,r=!1){return Fd(n,t.Cc(r?4:3,e))}function Fd(t,e){if(XD(t=ut(t)))return U_("Unsupported field value:",e,t),QD(t,e);if(t instanceof Pm)return function(r,s){if(!KD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Fd(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KW(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:gp(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gp(s.serializer,i)}}if(r instanceof ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:hD(s.serializer,r._byteString)};if(r instanceof mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:T_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof is)return function(o,a){return{mapValue:{fields:{[UN]:{stringValue:BN},[hp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return w_(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${mm(r)}`)}(t,e)}function QD(t,e){const n={};return ON(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,(r,s)=>{const i=Fd(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function XD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof ss||t instanceof Xn||t instanceof mt||t instanceof Pm||t instanceof is)}function U_(t,e,n){if(!XD(n)||!NN(n)){const r=mm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function i0(t,e,n){if((e=ut(e))instanceof Am)return e._internalPath;if(typeof e=="string")return $_(t,e);throw _p("Field path arguments must be of type string or ",t,!1,void 0,n)}const cq=new RegExp("[~\\*/\\[\\]]");function $_(t,e,n){if(e.search(cq)>=0)throw _p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Am(...e.split("."))._internalPath}catch{throw _p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _p(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}function ZD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uq extends JD{data(){return super.data()}}function B_(t,e){return typeof e=="string"?$_(t,e):e instanceof Am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z_{}class hq extends z_{}function Bl(t,e,...n){let r=[];e instanceof z_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof W_).length,a=i.filter(l=>l instanceof Nm).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Nm extends hq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nm(e,n,r)}_apply(e){const n=this._parse(e);return e2(e._query,n),new pc(e.firestore,e.converter,Kv(e._query,n))}_parse(e){const n=Rm(e.firestore);return function(i,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ZS(h,d);const E=[];for(const y of h)E.push(XS(l,i,y));f={arrayValue:{values:E}}}else f=XS(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ZS(h,d),f=lq(a,o,h,d==="in"||d==="not-in");return _t.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zl(t,e,n){const r=e,s=B_("where",t);return Nm._create(s,r,n)}class W_ extends z_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new W_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)e2(o,l),o=Kv(o,l)}(e._query,n),new pc(e.firestore,e.converter,Kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XS(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QN(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!re.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pS(t,new re(r))}if(n instanceof mt)return pS(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(n)}.`)}function ZS(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fq{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[hp].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ht(o.doubleValue));return new is(n)}convertGeoPoint(e){return new ss(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Oe(vD(r),9688,{name:e});const s=new td(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Bs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends JD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:Et("string",Go._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class ff extends Go{data(e={}){return super.data(e)}}class pl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ff(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ff(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:pq(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=h_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){t=Pr(t,mt);const e=Pr(t.firestore,_a);return ZH(L_(e),t._key).then(n=>mq(e,t,n))}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Et("string",pl._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class n2 extends fq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Wl(t){t=Pr(t,pc);const e=Pr(t.firestore,_a),n=L_(e),r=new n2(e);return dq(t._query),JH(n,t._query).then(s=>new pl(e,r,t,s))}function o0(t,e,n){t=Pr(t,mt);const r=Pr(t.firestore,_a),s=t2(t.converter,e,n);return Om(r,[YD(Rm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,nr.none())])}function H_(t,e,n,...r){t=Pr(t,mt);const s=Pr(t.firestore,_a),i=Rm(s);let o;return o=typeof(e=ut(e))=="string"||e instanceof Am?aq(i,"updateDoc",t._key,e,n,r):oq(i,"updateDoc",t._key,e),Om(s,[o.toMutation(t._key,nr.exists(!0))])}function r2(t){return Om(Pr(t.firestore,_a),[new __(t._key,nr.none())])}function s2(t,e){const n=Pr(t.firestore,_a),r=Ln(t),s=t2(t.converter,e);return Om(n,[YD(Rm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Om(t,e){return function(r,s){const i=new ks;return r.asyncQueue.enqueueAndForget(async()=>UH(await XH(r),s,i)),i.promise}(L_(t),e)}function mq(t,e,n){const r=n.docs.get(e._key),s=new n2(t);return new Go(t,s,e._key,r,new nu(n.hasPendingWrites,n.fromCache),e.converter)}function od(){return new F_("serverTimestamp")}(function(e,n=!0){(function(s){uc=s})(lc),ds(new Cr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _a(new aW(r.getProvider("auth-internal")),new uW(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),tr(tS,nS,e),tr(tS,nS,"esm2020")})();const gq={apiKey:"AIzaSyDlSKS75KIiDlZZHJkpzCaqVdbfKcmyN-I",authDomain:"divinetrails-c10d5.firebaseapp.com",projectId:"divinetrails-c10d5",storageBucket:"divinetrails-c10d5.firebasestorage.app",messagingSenderId:"736102553875",appId:"1:736102553875:web:f57877dfc4b45fd7dde2e6",measurementId:"G-EVERQXPJPX"},q_=vk(gq);eW(q_);const Dh=Oz(q_),xt=tq(q_),i2=S.createContext(void 0),yq=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(null),[i,o]=S.useState(!0),a=ps();S.useEffect(()=>{const h=EB(Dh,async f=>{if(n(f),f)try{const m=Ln(xt,"users",f.uid),E=await Dm(m);E.exists()&&s(E.data())}catch(m){console.error("Error fetching user data:",m)}else s(null);o(!1)});return()=>h()},[]);const l=async(h,f)=>{try{return await vB(Dh,h,f),{error:null}}catch(m){return{error:m}}},c=async(h,f,m)=>{try{const y=(await yB(Dh,h,f)).user;return await Hk(y,{displayName:m}),await o0(Ln(xt,"users",y.uid),{uid:y.uid,email:y.email,displayName:m,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),{error:null}}catch(E){return{error:E}}},d=async()=>{try{await TB(Dh),a("/login")}catch(h){console.error("Error signing out:",h)}};return p.jsx(i2.Provider,{value:{user:e,signIn:l,signUp:c,signOut:d,loading:i,userData:r},children:t})},ms=()=>{const t=S.useContext(i2);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t},G_=Dw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:opacity-90 shadow-lg hover:shadow-xl transform hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?l4:"button";return p.jsx(o,{className:Ne(G_({variant:e,size:n,className:t})),ref:i,...s})});_e.displayName="Button";const o2=S.createContext({});function vq(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const K_=typeof window<"u",wq=K_?S.useLayoutEffect:S.useEffect,Y_=S.createContext(null);function Q_(t,e){t.indexOf(e)===-1&&t.push(e)}function X_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ws=(t,e,n)=>n>e?e:n<t?t:n;let xp=()=>{};const Hs={},a2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function l2(t){return typeof t=="object"&&t!==null}const c2=t=>/^0[^.\s]+$/u.test(t);function Z_(t){let e;return()=>(e===void 0&&(e=t()),e)}const rr=t=>t,_q=(t,e)=>n=>e(t(n)),Ud=(...t)=>t.reduce(_q),ad=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class J_{constructor(){this.subscriptions=[]}add(e){return Q_(this.subscriptions,e),()=>X_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=t=>t*1e3,Jn=t=>t/1e3;function u2(t,e){return e?t*(1e3/e):0}const d2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xq=1e-7,Eq=12;function Tq(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=d2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>xq&&++a<Eq);return o}function $d(t,e,n,r){if(t===e&&n===r)return rr;const s=i=>Tq(i,0,1,t,n);return i=>i===0||i===1?i:d2(s(i),e,r)}const h2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,f2=t=>e=>1-t(1-e),p2=$d(.33,1.53,.69,.99),ex=f2(p2),m2=h2(ex),g2=t=>(t*=2)<1?.5*ex(t):.5*(2-Math.pow(2,-10*(t-1))),tx=t=>1-Math.sin(Math.acos(t)),y2=f2(tx),v2=h2(tx),Sq=$d(.42,0,1,1),bq=$d(0,0,.58,1),w2=$d(.42,0,.58,1),Iq=t=>Array.isArray(t)&&typeof t[0]!="number",_2=t=>Array.isArray(t)&&typeof t[0]=="number",JS={linear:rr,easeIn:Sq,easeInOut:w2,easeOut:bq,circIn:tx,circInOut:v2,circOut:y2,backIn:ex,backInOut:m2,backOut:p2,anticipate:g2},Cq=t=>typeof t=="string",eb=t=>{if(_2(t)){xp(t.length===4);const[e,n,r,s]=t;return $d(e,n,r,s)}else if(Cq(t))return xp(JS[t]!==void 0),JS[t];return t},Oh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],tb={value:null,addProjectionMetrics:null};function Aq(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const y=m&&s?n:r;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&tb.value&&tb.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const Pq=40;function x2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Oh.reduce((_,A)=>(_[A]=Aq(i,e?A:void 0),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:E}=o,y=()=>{const _=Hs.useManualTiming?s.timestamp:performance.now();n=!1,Hs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,Pq),1)),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},T=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Oh.reduce((_,A)=>{const N=o[A];return _[A]=(M,I=!1,b=!1)=>(n||T(),N.schedule(M,I,b)),_},{}),cancel:_=>{for(let A=0;A<Oh.length;A++)o[Oh[A]].cancel(_)},state:s,steps:o}}const{schedule:Qe,cancel:ro,state:Lt,steps:ty}=x2(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0);let pf;function Rq(){pf=void 0}const Tn={now:()=>(pf===void 0&&Tn.set(Lt.isProcessing||Hs.useManualTiming?Lt.timestamp:performance.now()),pf),set:t=>{pf=t,queueMicrotask(Rq)}},E2=t=>e=>typeof e=="string"&&e.startsWith(t),nx=E2("--"),kq=E2("var(--"),rx=t=>kq(t)?Nq.test(t.split("/*")[0].trim()):!1,Nq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ld={...mc,transform:t=>Ws(0,1,t)},Mh={...mc,default:1},Eu=t=>Math.round(t*1e5)/1e5,sx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Dq(t){return t==null}const Oq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ix=(t,e)=>n=>!!(typeof n=="string"&&Oq.test(n)&&n.startsWith(t)||e&&!Dq(n)&&Object.prototype.hasOwnProperty.call(n,e)),T2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(sx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Mq=t=>Ws(0,255,t),ny={...mc,transform:t=>Math.round(Mq(t))},Lo={test:ix("rgb","red"),parse:T2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ny.transform(t)+", "+ny.transform(e)+", "+ny.transform(n)+", "+Eu(ld.transform(r))+")"};function Vq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const a0={test:ix("#"),parse:Vq,transform:Lo.transform},Bd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Bd("deg"),as=Bd("%"),le=Bd("px"),Lq=Bd("vh"),jq=Bd("vw"),nb={...as,parse:t=>as.parse(t)/100,transform:t=>as.transform(t*100)},Qa={test:ix("hsl","hue"),parse:T2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+as.transform(Eu(e))+", "+as.transform(Eu(n))+", "+Eu(ld.transform(r))+")"},vt={test:t=>Lo.test(t)||a0.test(t)||Qa.test(t),parse:t=>Lo.test(t)?Lo.parse(t):Qa.test(t)?Qa.parse(t):a0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lo.transform(t):Qa.transform(t),getAnimatableNone:t=>{const e=vt.parse(t);return e.alpha=0,vt.transform(e)}},Fq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Uq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sx))==null?void 0:e.length)||0)+(((n=t.match(Fq))==null?void 0:n.length)||0)>0}const S2="number",b2="color",$q="var",Bq="var(",rb="${}",zq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(zq,l=>(vt.test(l)?(r.color.push(i),s.push(b2),n.push(vt.parse(l))):l.startsWith(Bq)?(r.var.push(i),s.push($q),n.push(l)):(r.number.push(i),s.push(S2),n.push(parseFloat(l))),++i,rb)).split(rb);return{values:n,split:a,indexes:r,types:s}}function I2(t){return cd(t).values}function C2(t){const{split:e,types:n}=cd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===S2?i+=Eu(s[o]):a===b2?i+=vt.transform(s[o]):i+=s[o]}return i}}const Wq=t=>typeof t=="number"?0:vt.test(t)?vt.getAnimatableNone(t):t;function Hq(t){const e=I2(t);return C2(t)(e.map(Wq))}const so={test:Uq,parse:I2,createTransformer:C2,getAnimatableNone:Hq};function ry(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=ry(l,a,t+1/3),i=ry(l,a,t),o=ry(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ep(t,e){return n=>n>0?e:t}const Je=(t,e,n)=>t+(e-t)*n,sy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Gq=[a0,Lo,Qa],Kq=t=>Gq.find(e=>e.test(t));function sb(t){const e=Kq(t);if(!e)return!1;let n=e.parse(t);return e===Qa&&(n=qq(n)),n}const ib=(t,e)=>{const n=sb(t),r=sb(e);if(!n||!r)return Ep(t,e);const s={...n};return i=>(s.red=sy(n.red,r.red,i),s.green=sy(n.green,r.green,i),s.blue=sy(n.blue,r.blue,i),s.alpha=Je(n.alpha,r.alpha,i),Lo.transform(s))},l0=new Set(["none","hidden"]);function Yq(t,e){return l0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Qq(t,e){return n=>Je(t,e,n)}function ox(t){return typeof t=="number"?Qq:typeof t=="string"?rx(t)?Ep:vt.test(t)?ib:Jq:Array.isArray(t)?A2:typeof t=="object"?vt.test(t)?ib:Xq:Ep}function A2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>ox(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Xq(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ox(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Zq(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const Jq=(t,e)=>{const n=so.createTransformer(e),r=cd(t),s=cd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?l0.has(t)&&!s.values.length||l0.has(e)&&!r.values.length?Yq(t,e):Ud(A2(Zq(r,s),s.values),n):Ep(t,e)};function P2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):ox(t)(t,e)}const eG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>ro(e),now:()=>Lt.isProcessing?Lt.timestamp:Tn.now()}},R2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Tp=2e4;function ax(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tp;)e+=n,r=t.next(e);return e>=Tp?1/0:e}function tG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ax(r),Tp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Jn(s)}}const nG=5;function k2(t,e,n){const r=Math.max(e-nG,0);return u2(n-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iy=.001;function rG({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:r=at.mass}){let s,i,o=1-e;o=Ws(at.minDamping,at.maxDamping,o),t=Ws(at.minDuration,at.maxDuration,Jn(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,m=c0(c,o),E=Math.exp(-h);return iy-f/m*E},i=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-h),y=c0(Math.pow(c,2),o);return(-s(c)+iy>0?-1:1)*((f-m)*E)/y}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-iy+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=iG(s,i,a);if(t=os(t),isNaN(l))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const sG=12;function iG(t,e,n){let r=n;for(let s=1;s<sG;s++)r=r-t(r)/e(r);return r}function c0(t,e){return t*Math.sqrt(1-e*e)}const oG=["duration","bounce"],aG=["stiffness","damping","mass"];function ob(t,e){return e.some(n=>t[n]!==void 0)}function lG(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!ob(t,aG)&&ob(t,oG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:at.mass,stiffness:s,damping:i}}else{const n=rG(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function Sp(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=lG({...n,velocity:-Jn(n.velocity||0)}),E=f||0,y=c/(2*Math.sqrt(l*d)),T=o-i,v=Jn(Math.sqrt(l/d)),w=Math.abs(T)<5;r||(r=w?at.restSpeed.granular:at.restSpeed.default),s||(s=w?at.restDelta.granular:at.restDelta.default);let _;if(y<1){const N=c0(v,y);_=M=>{const I=Math.exp(-y*v*M);return o-I*((E+y*v*T)/N*Math.sin(N*M)+T*Math.cos(N*M))}}else if(y===1)_=N=>o-Math.exp(-v*N)*(T+(E+v*T)*N);else{const N=v*Math.sqrt(y*y-1);_=M=>{const I=Math.exp(-y*v*M),b=Math.min(N*M,300);return o-I*((E+y*v*T)*Math.sinh(b)+N*T*Math.cosh(b))/N}}const A={calculatedDuration:m&&h||null,next:N=>{const M=_(N);if(m)a.done=N>=h;else{let I=N===0?E:0;y<1&&(I=N===0?os(E):k2(_,N,M));const b=Math.abs(I)<=r,P=Math.abs(o-M)<=s;a.done=b&&P}return a.value=a.done?o:M,a},toString:()=>{const N=Math.min(ax(A),Tp),M=R2(I=>A.next(N*I).value,N,30);return N+"ms "+M},toTransition:()=>{}};return A}Sp.applyToOptions=t=>{const e=tG(t,100,Sp);return t.ease=e.ease,t.duration=os(e.duration),t.type="keyframes",t};function u0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,E=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let y=n*e;const T=h+y,v=o===void 0?T:o(T);v!==T&&(y=v-h);const w=b=>-y*Math.exp(-b/r),_=b=>v+w(b),A=b=>{const P=w(b),R=_(b);f.done=Math.abs(P)<=c,f.value=f.done?v:R};let N,M;const I=b=>{m(f.value)&&(N=b,M=Sp({keyframes:[f.value,E(f.value)],velocity:k2(_,b,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:b=>{let P=!1;return!M&&N===void 0&&(P=!0,A(b),I(b)),N!==void 0&&b>=N?M.next(b-N):(!P&&A(b),f)}}}function cG(t,e,n){const r=[],s=n||Hs.mix||P2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||rr:e;a=Ud(l,a)}r.push(a)}return r}function uG(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(xp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=cG(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=ad(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Ws(t[0],t[i-1],d)):c}function dG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ad(0,e,r);t.push(Je(n,1,s))}}function hG(t){const e=[0];return dG(e,t.length-1),e}function fG(t,e){return t.map(n=>n*e)}function pG(t,e){return t.map(()=>e||w2).splice(0,t.length-1)}function Tu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Iq(r)?r.map(eb):eb(r),i={done:!1,value:e[0]},o=fG(n&&n.length===e.length?n:hG(e),t),a=uG(o,e,{ease:Array.isArray(s)?s:pG(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const mG=t=>t!==null;function lx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(mG),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const gG={decay:u0,inertia:u0,tween:Tu,keyframes:Tu,spring:Sp};function N2(t){typeof t.type=="string"&&(t.type=gG[t.type])}class cx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yG=t=>t/100;class ux extends cx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N2(e);const{type:n=Tu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Tu;l!==Tu&&typeof a[0]!="number"&&(this.mixKeyframes=Ud(yG,P2(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=ax(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:E,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let _=this.currentTime,A=r;if(h){const b=Math.min(this.currentTime,s)/a;let P=Math.floor(b),R=b%1;!R&&b>=1&&(R=1),R===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(A=o)),_=Ws(0,1,R)*a}const N=w?{done:!1,value:d[0]}:A.next(_);i&&(N.value=i(N.value));let{done:M}=N;!w&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return I&&E!==u0&&(N.value=lx(d,this.options,T,this.speed)),y&&y(N.value),I&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(this.currentTime)}set time(e){var n;e=os(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=eG,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function vG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jo=t=>t*180/Math.PI,d0=t=>{const e=jo(Math.atan2(t[1],t[0]));return h0(e)},wG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:d0,rotateZ:d0,skewX:t=>jo(Math.atan(t[1])),skewY:t=>jo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},h0=t=>(t=t%360,t<0&&(t+=360),t),ab=d0,lb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_G={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lb,scaleY:cb,scale:t=>(lb(t)+cb(t))/2,rotateX:t=>h0(jo(Math.atan2(t[6],t[5]))),rotateY:t=>h0(jo(Math.atan2(-t[2],t[0]))),rotateZ:ab,rotate:ab,skewX:t=>jo(Math.atan(t[4])),skewY:t=>jo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function f0(t){return t.includes("scale")?1:0}function p0(t,e){if(!t||t==="none")return f0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=_G,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wG,s=a}if(!s)return f0(e);const i=r[e],o=s[1].split(",").map(EG);return typeof i=="function"?i(o):o[i]}const xG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return p0(n,e)};function EG(t){return parseFloat(t.trim())}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(gc),ub=t=>t===mc||t===le,TG=new Set(["x","y","z"]),SG=gc.filter(t=>!TG.has(t));function bG(t){const e=[];return SG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ko={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>p0(e,"x"),y:(t,{transform:e})=>p0(e,"y")};Ko.translateX=Ko.x;Ko.translateY=Ko.y;const Yo=new Set;let m0=!1,g0=!1,y0=!1;function D2(){if(g0){const t=Array.from(Yo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=bG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}g0=!1,m0=!1,Yo.forEach(t=>t.complete(y0)),Yo.clear()}function O2(){Yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(g0=!0)})}function IG(){y0=!0,O2(),D2(),y0=!1}class dx{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Yo.add(this),m0||(m0=!0,Qe.read(O2),Qe.resolveKeyframes(D2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}vG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yo.delete(this)}cancel(){this.state==="scheduled"&&(Yo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CG=t=>t.startsWith("--");function AG(t,e,n){CG(e)?t.style.setProperty(e,n):t.style[e]=n}const PG=Z_(()=>window.ScrollTimeline!==void 0),RG={};function kG(t,e){const n=Z_(t);return()=>RG[e]??n()}const M2=kG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function V2(t,e){if(t)return typeof t=="function"?M2()?R2(t,e):"ease-out":_2(t)?ru(t):Array.isArray(t)?t.map(n=>V2(n,e)||db.easeOut):db[t]}function NG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=V2(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function L2(t){return typeof t=="function"&&"applyToOptions"in t}function DG({type:t,...e}){return L2(t)&&M2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OG extends cx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,xp(typeof e.type!="string");const c=DG(e);this.animation=NG(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=lx(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):AG(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=os(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&PG()?(this.animation.timeline=e,rr):n(this)}}const j2={anticipate:g2,backInOut:m2,circInOut:v2};function MG(t){return t in j2}function VG(t){typeof t.ease=="string"&&MG(t.ease)&&(t.ease=j2[t.ease])}const hb=10;class LG extends OG{constructor(e){VG(e),N2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new ux({...o,autoplay:!1}),l=os(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-hb).value,a.sample(l).value,hb),a.stop()}}const fb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(so.test(t)||t==="0")&&!t.startsWith("url("));function jG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fb(s,e),a=fb(i,e);return!o||!a?!1:jG(t)||(n==="spring"||L2(n))&&r}function v0(t){t.duration=0,t.type="keyframes"}const UG=new Set(["opacity","clipPath","filter","transform"]),$G=Z_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BG(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return $G()&&n&&UG.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const zG=40;class WG extends cx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var E;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Tn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||dx;this.keyframeResolver=new m(a,(y,T,v)=>this.onKeyframesResolved(y,T,f,!v),l,c,d),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Tn.now(),FG(e,i,o,a)||((Hs.instantAnimations||!l)&&(d==null||d(lx(e,r,n))),e[0]=e[e.length-1],v0(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>zG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&BG(f)?new LG({...f,element:f.motionValue.owner.current}):new ux(f);m.finished.then(()=>this.notifyFinished()).catch(rr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),IG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const HG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qG(t){const e=HG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function F2(t,e,n=1){const[r,s]=qG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return a2(o)?parseFloat(o):o}return rx(s)?F2(s,e,n+1):s}function hx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const U2=new Set(["width","height","top","left","right","bottom",...gc]),GG={test:t=>t==="auto",parse:t=>t},$2=t=>e=>e.test(t),B2=[mc,le,as,di,jq,Lq,GG],pb=t=>B2.find($2(t));function KG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||c2(t):!0}const YG=new Set(["brightness","contrast","saturate","opacity"]);function QG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sx)||[];if(!r)return t;const s=n.replace(r,"");let i=YG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const XG=/\b([a-z-]*)\(.*?\)/gu,w0={...so,getAnimatableNone:t=>{const e=t.match(XG);return e?e.map(QG).join(" "):t}},mb={...mc,transform:Math.round},ZG={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Mh,scaleX:Mh,scaleY:Mh,scaleZ:Mh,skew:di,skewX:di,skewY:di,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:ld,originX:nb,originY:nb,originZ:le},fx={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...ZG,zIndex:mb,fillOpacity:ld,strokeOpacity:ld,numOctaves:mb},JG={...fx,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:w0,WebkitFilter:w0},z2=t=>JG[t];function W2(t,e){let n=z2(t);return n!==w0&&(n=so),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eK=new Set(["auto","none","0"]);function tK(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!eK.has(i)&&cd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=W2(n,s)}class nK extends dx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),rx(c))){const d=F2(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!U2.has(r)||e.length!==2)return;const[s,i]=e,o=pb(s),a=pb(i);if(o!==a)if(ub(o)&&ub(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ko[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||KG(e[s]))&&r.push(s);r.length&&tK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ko[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ko[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function rK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const H2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sK(t){return l2(t)&&"offsetHeight"in t}const gb=30,iK=t=>!isNaN(parseFloat(t));class oK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Tn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gb);return u2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hl(t,e){return new oK(t,e)}const{schedule:px,cancel:Fee}=x2(queueMicrotask,!1),pr={x:!1,y:!1};function q2(){return pr.x||pr.y}function aK(t){return t==="x"||t==="y"?pr[t]?null:(pr[t]=!0,()=>{pr[t]=!1}):pr.x||pr.y?null:(pr.x=pr.y=!0,()=>{pr.x=pr.y=!1})}function G2(t,e){const n=rK(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function yb(t){return!(t.pointerType==="touch"||q2())}function lK(t,e,n={}){const[r,s,i]=G2(t,n),o=a=>{if(!yb(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{yb(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const K2=(t,e)=>e?t===e?!0:K2(t,e.parentElement):!1,mx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uK(t){return cK.has(t.tagName)||t.tabIndex!==-1}const mf=new WeakSet;function vb(t){return e=>{e.key==="Enter"&&t(e)}}function oy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=vb(()=>{if(mf.has(n))return;oy(n,"down");const s=vb(()=>{oy(n,"up")}),i=()=>oy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function wb(t){return mx(t)&&!q2()}function hK(t,e,n={}){const[r,s,i]=G2(t,n),o=a=>{const l=a.currentTarget;if(!wb(a))return;mf.add(l);const c=e(l,a),d=(m,E)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),mf.has(l)&&mf.delete(l),wb(m)&&typeof c=="function"&&c(m,{success:E})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||K2(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),sK(a)&&(a.addEventListener("focus",c=>dK(c,s)),!uK(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Y2(t){return l2(t)&&"ownerSVGElement"in t}function fK(t){return Y2(t)&&t.tagName==="svg"}const tn=t=>!!(t&&t.getVelocity),pK=[...B2,vt,so],mK=t=>pK.find($2(t)),Q2=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gK(t=!0){const e=S.useContext(Y_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{if(t)return s(i)},[t]);const o=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const X2=S.createContext({strict:!1}),_b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ql={};for(const t in _b)ql[t]={isEnabled:e=>_b[t].some(n=>!!e[n])};function yK(t){for(const e in t)ql[e]={...ql[e],...t[e]}}const vK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vK.has(t)}let Z2=t=>!bp(t);function wK(t){typeof t=="function"&&(Z2=e=>e.startsWith("on")?!bp(e):t(e))}try{wK(require("@emotion/is-prop-valid").default)}catch{}function _K(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Z2(s)||n===!0&&bp(s)||!e&&!bp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Mm=S.createContext({});function Vm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ud(t){return typeof t=="string"||Array.isArray(t)}const gx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yx=["initial",...gx];function Lm(t){return Vm(t.animate)||yx.some(e=>ud(t[e]))}function J2(t){return!!(Lm(t)||t.variants)}function xK(t,e){if(Lm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ud(n)?n:void 0,animate:ud(r)?r:void 0}}return t.inherit!==!1?e:{}}function EK(t){const{initial:e,animate:n}=xK(t,S.useContext(Mm));return S.useMemo(()=>({initial:e,animate:n}),[xb(e),xb(n)])}function xb(t){return Array.isArray(t)?t.join(" "):t}const dd={};function TK(t){for(const e in t)dd[e]=t[e],nx(e)&&(dd[e].isCSSVariable=!0)}function eO(t,{layout:e,layoutId:n}){return yc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dd[t]||t==="opacity")}const SK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bK=gc.length;function IK(t,e,n){let r="",s=!0;for(let i=0;i<bK;i++){const o=gc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=H2(a,fx[o]);if(!l){s=!1;const d=SK[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function vx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(yc.has(l)){o=!0;continue}else if(nx(l)){s[l]=c;continue}else{const d=H2(c,fx[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=IK(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const wx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tO(t,e,n){for(const r in e)!tn(e[r])&&!eO(r,n)&&(t[r]=e[r])}function CK({transformTemplate:t},e){return S.useMemo(()=>{const n=wx();return vx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function AK(t,e){const n=t.style||{},r={};return tO(r,n,t),Object.assign(r,CK(t,e)),r}function PK(t,e){const n={},r=AK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const RK={offset:"stroke-dashoffset",array:"stroke-dasharray"},kK={offset:"strokeDashoffset",array:"strokeDasharray"};function NK(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?RK:kK;t[i.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[i.array]=`${o} ${a}`}function nO(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(vx(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&NK(h,s,i,o,!1)}const rO=()=>({...wx(),attrs:{}}),sO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DK(t,e,n,r){const s=S.useMemo(()=>{const i=rO();return nO(i,e,sO(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};tO(i,t.style,t),s.style={...i,...s.style}}return s}const OK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _x(t){return typeof t!="string"||t.includes("-")?!1:!!(OK.indexOf(t)>-1||/[A-Z]/u.test(t))}function MK(t,e,n,{latestValues:r},s,i=!1){const a=(_x(t)?DK:PK)(e,r,s,t),l=_K(e,typeof t=="string",i),c=t!==S.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=S.useMemo(()=>tn(d)?d.get():d,[d]);return S.createElement(t,{...c,children:h})}function Eb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function xx(t,e,n,r){if(typeof e=="function"){const[s,i]=Eb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Eb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function gf(t){return tn(t)?t.get():t}function VK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:LK(n,r,s,t),renderState:e()}}function LK(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=gf(i[f]);let{initial:o,animate:a}=t;const l=Lm(t),c=J2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Vm(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const E=xx(t,f[m]);if(E){const{transitionEnd:y,transition:T,...v}=E;for(const w in v){let _=v[w];if(Array.isArray(_)){const A=d?_.length-1:0;_=_[A]}_!==null&&(s[w]=_)}for(const w in y)s[w]=y[w]}}}return s}const iO=t=>(e,n)=>{const r=S.useContext(Mm),s=S.useContext(Y_),i=()=>VK(t,e,r,s);return n?i():vq(i)};function Ex(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(tn(r[o])||e.style&&tn(e.style[o])||eO(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const jK=iO({scrapeMotionValuesFromProps:Ex,createRenderState:wx});function oO(t,e,n){const r=Ex(t,e,n);for(const s in t)if(tn(t[s])||tn(e[s])){const i=gc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const FK=iO({scrapeMotionValuesFromProps:oO,createRenderState:rO}),UK=Symbol.for("motionComponentSymbol");function Xa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $K(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xa(n)&&(n.current=r))},[e])}const Tx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BK="framerAppearId",aO="data-"+Tx(BK),lO=S.createContext({});function zK(t,e,n,r,s){var y,T;const{visualElement:i}=S.useContext(Mm),o=S.useContext(X2),a=S.useContext(Y_),l=S.useContext(Q2).reducedMotion,c=S.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=S.useContext(lO);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&WK(c.current,n,s,h);const f=S.useRef(!1);S.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[aO],E=S.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,m)));return wq(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),E.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!E.current&&d.animationState&&d.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),E.current=!1),d.enteringChildren=void 0)}),d}function WK(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Xa(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function cO(t){if(t)return t.options.allowProjection!==!1?t.projection:cO(t.parent)}function ay(t,{forwardMotionProps:e=!1}={},n,r){n&&yK(n);const s=_x(t)?FK:jK;function i(a,l){let c;const d={...S.useContext(Q2),...a,layoutId:HK(a)},{isStatic:h}=d,f=EK(a),m=s(a,h);if(!h&&K_){qK();const E=GK(d);c=E.MeasureLayout,f.visualElement=zK(t,m,d,r,E.ProjectionNode)}return p.jsxs(Mm.Provider,{value:f,children:[c&&f.visualElement?p.jsx(c,{visualElement:f.visualElement,...d}):null,MK(t,a,$K(m,f.visualElement,l),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(i);return o[UK]=t,o}function HK({layoutId:t}){const e=S.useContext(o2).id;return e&&t!==void 0?e+"-"+t:t}function qK(t,e){S.useContext(X2).strict}function GK(t){const{drag:e,layout:n}=ql;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function KK(t,e){if(typeof Proxy>"u")return ay;const n=new Map,r=(i,o)=>ay(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,ay(o,void 0,t,e)),n.get(o))})}function uO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function YK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ly(t){return t===void 0||t===1}function _0({scale:t,scaleX:e,scaleY:n}){return!ly(t)||!ly(e)||!ly(n)}function Ro(t){return _0(t)||dO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dO(t){return Tb(t.x)||Tb(t.y)}function Tb(t){return t&&t!=="0%"}function Ip(t,e,n){const r=t-n,s=e*r;return n+s}function Sb(t,e,n,r,s){return s!==void 0&&(t=Ip(t,s,r)),Ip(t,n,r)+e}function x0(t,e=0,n=1,r,s){t.min=Sb(t.min,e,n,r,s),t.max=Sb(t.max,e,n,r,s)}function hO(t,{x:e,y:n}){x0(t.x,e.translate,e.scale,e.originPoint),x0(t.y,n.translate,n.scale,n.originPoint)}const bb=.999999999999,Ib=1.0000000000001;function XK(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ja(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hO(t,o)),r&&Ro(i.latestValues)&&Ja(t,i.latestValues))}e.x<Ib&&e.x>bb&&(e.x=1),e.y<Ib&&e.y>bb&&(e.y=1)}function Za(t,e){t.min=t.min+e,t.max=t.max+e}function Cb(t,e,n,r,s=.5){const i=Je(t.min,t.max,s);x0(t,e,n,i,r)}function Ja(t,e){Cb(t.x,e.x,e.scaleX,e.scale,e.originX),Cb(t.y,e.y,e.scaleY,e.scale,e.originY)}function fO(t,e){return uO(QK(t.getBoundingClientRect(),e))}function ZK(t,e,n){const r=fO(t,n),{scroll:s}=e;return s&&(Za(r.x,s.offset.x),Za(r.y,s.offset.y)),r}const Ab=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:Ab(),y:Ab()}),Pb=()=>({min:0,max:0}),dt=()=>({x:Pb(),y:Pb()}),E0={current:null},pO={current:!1};function JK(){if(pO.current=!0,!!K_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>E0.current=t.matches;t.addEventListener("change",e),e()}else E0.current=!1}const eY=new WeakMap;function tY(t,e,n){for(const r in e){const s=e[r],i=n[r];if(tn(s))t.addValue(r,s);else if(tn(i))t.addValue(r,Hl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Hl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Rb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Tn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Qe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Lm(n),this.isVariantNode=J2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&tn(m)&&m.set(l[f])}}mount(e){var n;this.current=e,eY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),pO.current||JK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=yc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ql){const n=ql[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rb.length;r++){const s=Rb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=tY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(a2(r)||c2(r))?r=parseFloat(r):!mK(r)&&so.test(n)&&(r=W2(e,n)),this.setBaseTarget(e,tn(r)?r.get():r)),tn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=xx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!tn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){px.render(this.render)}}class mO extends nY{constructor(){super(...arguments),this.KeyframeResolver=nK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gO(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function rY(t){return window.getComputedStyle(t)}class sY extends mO{constructor(){super(...arguments),this.type="html",this.renderInstance=gO}readValueFromInstance(e,n){var r;if(yc.has(n))return(r=this.projection)!=null&&r.isProjecting?f0(n):xG(e,n);{const s=rY(e),i=(nx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fO(e,n)}build(e,n,r){vx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ex(e,n,r)}}const yO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iY(t,e,n,r){gO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(yO.has(s)?s:Tx(s),e.attrs[s])}class oY extends mO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yc.has(n)){const r=z2(n);return r&&r.default||0}return n=yO.has(n)?n:Tx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return oO(e,n,r)}build(e,n,r){nO(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){iY(e,n,r,s)}mount(e){this.isSVGTag=sO(e.tagName),super.mount(e)}}const aY=(t,e)=>_x(t)?new oY(e):new sY(e,{allowProjection:t!==S.Fragment});function ml(t,e,n){const r=t.getProps();return xx(r,e,n!==void 0?n:r.custom,t)}const T0=t=>Array.isArray(t);function lY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hl(n))}function cY(t){return T0(t)?t[t.length-1]||0:t}function uY(t,e){const n=ml(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=cY(i[o]);lY(t,o,a)}}function dY(t){return!!(tn(t)&&t.add)}function S0(t,e){const n=t.getValue("willChange");if(dY(n))return n.add(e);if(!n&&Hs.WillChange){const r=new Hs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vO(t){return t.props[aO]}const hY=t=>t!==null;function fY(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(hY),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const pY={type:"spring",stiffness:500,damping:25,restSpeed:10},mY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gY={type:"keyframes",duration:.8},yY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vY=(t,{keyframes:e})=>e.length>2?gY:yc.has(t)?t.startsWith("scale")?mY(e[1]):pY:yY;function wY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Sx=(t,e,n,r={},s,i)=>o=>{const a=hx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-os(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};wY(a)||Object.assign(d,vY(t,d)),d.duration&&(d.duration=os(d.duration)),d.repeatDelay&&(d.repeatDelay=os(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(v0(d),d.delay===0&&(h=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(h=!0,v0(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=fY(d.keyframes,a);if(f!==void 0){Qe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new ux(d):new WG(d)};function _Y({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&_Y(c,d))continue;const m={delay:n,...hx(i||{},d)},E=h.get();if(E!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===E&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const v=vO(t);if(v){const w=window.MotionHandoffAnimation(v,d,Qe);w!==null&&(m.startTime=w,y=!0)}}S0(t,d),h.start(Sx(d,h,f,t.shouldReduceMotion&&U2.has(d)?{type:!1}:m,t,y));const T=h.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{Qe.update(()=>{o&&uY(t,o)})}),l}function _O(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function b0(t,e,n={}){var l;const r=ml(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(wO(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return xY(t,e,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function xY(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(b0(l,e,{...o,delay:n+(typeof r=="function"?0:r)+_O(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function EY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>b0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=b0(t,e,n);else{const s=typeof e=="function"?ml(t,e,n.custom):e;r=Promise.all(wO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function xO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const TY=yx.length;function EO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?EO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<TY;n++){const r=yx[n],s=t.props[r];(ud(s)||s===!1)&&(e[r]=s)}return e}const SY=[...gx].reverse(),bY=gx.length;function IY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EY(t,n,r)))}function CY(t){let e=IY(t),n=kb(),r=!0;const s=l=>(c,d)=>{var f;const h=ml(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:E,...y}=h;c={...c,...y,...E}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=EO(t.parent)||{},h=[],f=new Set;let m={},E=1/0;for(let T=0;T<bY;T++){const v=SY[T],w=n[v],_=c[v]!==void 0?c[v]:d[v],A=ud(_),N=v===l?w.isActive:null;N===!1&&(E=T);let M=_===d[v]&&_!==c[v]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...m},!w.isActive&&N===null||!_&&!w.prevProp||Vm(_)||typeof _=="boolean")continue;const I=AY(w.prevProp,_);let b=I||v===l&&w.isActive&&!M&&A||T>E&&A,P=!1;const R=Array.isArray(_)?_:[_];let D=R.reduce(s(v),{});N===!1&&(D={});const{prevResolvedValues:O={}}=w,k={...O,...D},W=J=>{b=!0,f.has(J)&&(P=!0,f.delete(J)),w.needsAnimating[J]=!0;const j=t.getValue(J);j&&(j.liveStyle=!1)};for(const J in k){const j=D[J],F=O[J];if(m.hasOwnProperty(J))continue;let K=!1;T0(j)&&T0(F)?K=!xO(j,F):K=j!==F,K?j!=null?W(J):f.add(J):j!==void 0&&f.has(J)?W(J):w.protectedKeys[J]=!0}w.prevProp=_,w.prevResolvedValues=D,w.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(b=!1);const ce=M&&I;b&&(!ce||P)&&h.push(...R.map(J=>{const j={type:v};if(typeof J=="string"&&r&&!ce&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,K=ml(F,J);if(F.enteringChildren&&K){const{delayChildren:ue}=K.transition||{};j.delay=_O(F.enteringChildren,t,ue)}}return{animation:J,options:j}}))}if(f.size){const T={};if(typeof c.initial!="boolean"){const v=ml(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(T.transition=v.transition)}f.forEach(v=>{const w=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),T[v]=w??null}),h.push({animation:T})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=kb()}}}function AY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xO(e,t):!1}function Io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kb(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PY extends mo{constructor(e){super(e),e.animationState||(e.animationState=CY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let RY=0;class kY extends mo{constructor(){super(...arguments),this.id=RY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NY={animation:{Feature:PY},exit:{Feature:kY}};function hd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zd(t){return{point:{x:t.pageX,y:t.pageY}}}const DY=t=>e=>mx(e)&&t(e,zd(e));function Su(t,e,n,r){return hd(t,e,DY(n),r)}const TO=1e-4,OY=1-TO,MY=1+TO,SO=.01,VY=0-SO,LY=0+SO;function cn(t){return t.max-t.min}function jY(t,e,n){return Math.abs(t-e)<=n}function Nb(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=cn(n)/cn(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OY&&t.scale<=MY||isNaN(t.scale))&&(t.scale=1),(t.translate>=VY&&t.translate<=LY||isNaN(t.translate))&&(t.translate=0)}function bu(t,e,n,r){Nb(t.x,e.x,n.x,r?r.originX:void 0),Nb(t.y,e.y,n.y,r?r.originY:void 0)}function Db(t,e,n){t.min=n.min+e.min,t.max=t.min+cn(e)}function FY(t,e,n){Db(t.x,e.x,n.x),Db(t.y,e.y,n.y)}function Ob(t,e,n){t.min=e.min-n.min,t.max=t.min+cn(e)}function Iu(t,e,n){Ob(t.x,e.x,n.x),Ob(t.y,e.y,n.y)}function qn(t){return[t("x"),t("y")]}const bO=({current:t})=>t?t.ownerDocument.defaultView:null,Mb=(t,e)=>Math.abs(t-e);function UY(t,e){const n=Mb(t.x,e.x),r=Mb(t.y,e.y);return Math.sqrt(n**2+r**2)}class IO{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=uy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,E=UY(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!E)return;const{point:y}=f,{timestamp:T}=Lt;this.history.push({...y,timestamp:T});const{onStart:v,onMove:w}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=cy(m,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:E,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=uy(f.type==="pointercancel"?this.lastMoveEventInfo:cy(m,this.transformPagePoint),this.history);this.startEvent&&E&&E(f,v),y&&y(f,v)},!mx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=zd(e),l=cy(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Lt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,uy(l,this.history)),this.removeListeners=Ud(Su(this.contextWindow,"pointermove",this.handlePointerMove),Su(this.contextWindow,"pointerup",this.handlePointerUp),Su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ro(this.updatePoint)}}function cy(t,e){return e?{point:e(t.point)}:t}function Vb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uy({point:t},e){return{point:t,delta:Vb(t,CO(e)),offset:Vb(t,$Y(e)),velocity:BY(e,.1)}}function $Y(t){return t[0]}function CO(t){return t[t.length-1]}function BY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=CO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>os(e)));)n--;if(!r)return{x:0,y:0};const i=Jn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function Lb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WY(t,{top:e,left:n,bottom:r,right:s}){return{x:Lb(t.x,n,s),y:Lb(t.y,e,r)}}function jb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function HY(t,e){return{x:jb(t.x,e.x),y:jb(t.y,e.y)}}function qY(t,e){let n=.5;const r=cn(t),s=cn(e);return s>r?n=ad(e.min,e.max-r,t.min):r>s&&(n=ad(t.min,t.max-s,e.min)),Ws(0,1,n)}function GY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const I0=.35;function KY(t=I0){return t===!1?t=0:t===!0&&(t=I0),{x:Fb(t,"left","right"),y:Fb(t,"top","bottom")}}function Fb(t,e,n){return{min:Ub(t,e),max:Ub(t,n)}}function Ub(t,e){return typeof t=="number"?t:t[e]||0}const YY=new WeakMap;class QY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zd(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:E,onDragStart:y}=this.getProps();if(m&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aK(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(v=>{let w=this.getAxisMotionValue(v).get()||0;if(as.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[v];A&&(w=cn(A)*(parseFloat(w)/100))}}this.originPoint[v]=w}),y&&Qe.postRender(()=>y(h,f)),S0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:E,onDirectionLock:y,onDrag:T}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(E&&this.currentDirection===null){this.currentDirection=XY(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),T&&T(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>qn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new IO(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:bO(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=zY(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Xa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=WY(r.layoutBox,e):this.constraints=!1,this.elastic=KY(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GY(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ZK(r,s.root,this.visualElement.getTransformPagePoint());let o=HY(s.layout.layoutBox,i);if(n){const a=n(YK(o));this.hasMutatedConstraints=!!a,a&&(o=uO(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=qn(d=>{if(!Vh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return S0(this.visualElement,e),r.start(Sx(e,r,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!Vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};qn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=qY({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(o=>{if(!Vh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Je(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;YY.set(this.visualElement,this);const e=this.visualElement.current,n=Su(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qe.read(r);const o=hd(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(qn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=I0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZY extends mo{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new QY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const $b=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class JY extends mo{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new IO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$b(e),onStart:$b(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Qe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=Bb(t,e.target.x),r=Bb(t,e.target.y);return`${n}% ${r}%`}},eQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=so.parse(t);if(s.length>5)return r;const i=so.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Je(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let dy=!1;class tQ extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;TK(nQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),dy&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,dy=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),px.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;dy=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AO(t){const[e,n]=gK(),r=S.useContext(o2);return p.jsx(tQ,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(lO),isPresent:e,safeToRemove:n})}const nQ={borderRadius:{...Wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wc,borderTopRightRadius:Wc,borderBottomLeftRadius:Wc,borderBottomRightRadius:Wc,boxShadow:eQ};function rQ(t,e,n){const r=tn(t)?t:Hl(t);return r.start(Sx("",r,e,n)),r.animation}const sQ=(t,e)=>t.depth-e.depth;class iQ{constructor(){this.children=[],this.isDirty=!1}add(e){Q_(this.children,e),this.isDirty=!0}remove(e){X_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sQ),this.isDirty=!1,this.children.forEach(e)}}function oQ(t,e){const n=Tn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ro(r),t(i-e))};return Qe.setup(r,!0),()=>ro(r)}const PO=["TopLeft","TopRight","BottomLeft","BottomRight"],aQ=PO.length,zb=t=>typeof t=="string"?parseFloat(t):t,Wb=t=>typeof t=="number"||le.test(t);function lQ(t,e,n,r,s,i){s?(t.opacity=Je(0,n.opacity??1,cQ(r)),t.opacityExit=Je(e.opacity??1,0,uQ(r))):i&&(t.opacity=Je(e.opacity??1,n.opacity??1,r));for(let o=0;o<aQ;o++){const a=`border${PO[o]}Radius`;let l=Hb(e,a),c=Hb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Wb(l)===Wb(c)?(t[a]=Math.max(Je(zb(l),zb(c),r),0),(as.test(c)||as.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function Hb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cQ=RO(0,.5,y2),uQ=RO(.5,.95,rr);function RO(t,e,n){return r=>r<t?0:r>e?1:n(ad(t,e,r))}function qb(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){qb(t.x,e.x),qb(t.y,e.y)}function Gb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Kb(t,e,n,r,s){return t-=e,t=Ip(t,1/n,r),s!==void 0&&(t=Ip(t,1/s,r)),t}function dQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(as.test(e)&&(e=parseFloat(e),e=Je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Je(i.min,i.max,r);t===i&&(a-=e),t.min=Kb(t.min,e,n,a,s),t.max=Kb(t.max,e,n,a,s)}function Yb(t,e,[n,r,s],i,o){dQ(t,e[n],e[r],e[s],e.scale,i,o)}const hQ=["x","scaleX","originX"],fQ=["y","scaleY","originY"];function Qb(t,e,n,r){Yb(t.x,e,hQ,n?n.x:void 0,r?r.x:void 0),Yb(t.y,e,fQ,n?n.y:void 0,r?r.y:void 0)}function Xb(t){return t.translate===0&&t.scale===1}function kO(t){return Xb(t.x)&&Xb(t.y)}function Zb(t,e){return t.min===e.min&&t.max===e.max}function pQ(t,e){return Zb(t.x,e.x)&&Zb(t.y,e.y)}function Jb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function NO(t,e){return Jb(t.x,e.x)&&Jb(t.y,e.y)}function eI(t){return cn(t.x)/cn(t.y)}function tI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mQ{constructor(){this.members=[]}add(e){Q_(this.members,e),e.scheduleRender()}remove(e){if(X_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gQ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hy=["","X","Y","Z"],yQ=1e3;let vQ=0;function fy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DO(r)}function OO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xQ),this.nodes.forEach(bQ),this.nodes.forEach(IQ),this.nodes.forEach(EQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new J_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Y2(o)&&!fK(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=oQ(f,250),yf.hasAnimatedSinceResize&&(yf.hasAnimatedSinceResize=!1,this.nodes.forEach(sI)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||c.getDefaultTransition()||kQ,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=c.getProps(),v=!this.targetLayout||!NO(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...hx(E,"layout"),onPlay:y,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,w)}else h||sI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(SQ),this.nodes.forEach(wQ),this.nodes.forEach(_Q)):this.nodes.forEach(rI),this.clearAllSnapshots();const a=Tn.now();Lt.delta=Ws(0,1e3/60,a-Lt.timestamp),Lt.timestamp=a,Lt.isProcessing=!0,ty.update.process(Lt),ty.preRender.process(Lt),ty.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,px.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TQ),this.sharedNodes.forEach(AQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!kO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ro(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),NQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return dt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(DQ))){const{scroll:d}=this.root;d&&(Za(a.x,d.offset.x),Za(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=dt();if(Hn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Hn(a,o),Za(a.x,h.offset.x),Za(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=dt();Hn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ja(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ro(d.latestValues)&&Ja(l,d.latestValues)}return Ro(this.latestValues)&&Ja(l,this.latestValues),l}removeTransform(o){const a=dt();Hn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ro(c.latestValues))continue;_0(c.latestValues)&&c.updateSnapshot();const d=dt(),h=c.measurePageBox();Hn(d,h),Qb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ro(this.latestValues)&&Qb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Iu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),hO(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Iu(this.relativeTargetOrigin,this.target,m.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_0(this.parent.latestValues)||dO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Hn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;XK(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=dt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gb(this.prevProjectionDelta.x,this.projectionDelta.x),Gb(this.prevProjectionDelta.y,this.projectionDelta.y)),bu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!tI(this.projectionDelta.x,this.prevProjectionDelta.x)||!tI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=dt(),m=l?l.source:void 0,E=this.layout?this.layout.source:void 0,y=m!==E,T=this.getStack(),v=!T||T.members.length<=1,w=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(RQ));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const N=A/1e3;iI(h.x,o.x,N),iI(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PQ(this.relativeTarget,this.relativeTargetOrigin,f,N),_&&pQ(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=dt()),Hn(_,this.relativeTarget)),y&&(this.animationValues=d,lQ(d,c,this.latestValues,N,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hl(0)),this.currentAnimation=rQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&MO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||dt();const h=cn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=cn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Hn(a,l),Ja(a,d),bu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&fy("z",o,c,this.animationValues);for(let d=0;d<hy.length;d++)fy(`rotate${hy[d]}`,o,c,this.animationValues),fy(`skew${hy[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=gf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=gf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ro(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=gQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const E in dd){if(d[E]===void 0)continue;const{correct:y,applyTo:T,isCSSVariable:v}=dd[E],w=h==="none"?d[E]:y(d[E],c);if(T){const _=T.length;for(let A=0;A<_;A++)o[T[A]]=w}else v?this.options.visualElement.renderState.vars[E]=w:o[E]=w}this.options.layoutId&&(o.pointerEvents=c===this?gf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(nI),this.root.sharedNodes.clear()}}}function wQ(t){t.updateLayout()}function _Q(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?qn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=cn(f);f.min=r[h].min,f.max=f.min+m}):MO(i,e.layoutBox,r)&&qn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=cn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=el();bu(a,r,e.layoutBox);const l=el();o?bu(l,t.applyTransform(s,!0),e.measuredBox):bu(l,r,e.layoutBox);const c=!kO(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const E=dt();Iu(E,e.layoutBox,f.layoutBox);const y=dt();Iu(y,r,m.layoutBox),NO(E,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function EQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TQ(t){t.clearSnapshot()}function nI(t){t.clearMeasurements()}function rI(t){t.isLayoutDirty=!1}function SQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bQ(t){t.resolveTargetDelta()}function IQ(t){t.calcProjection()}function CQ(t){t.resetSkewAndRotation()}function AQ(t){t.removeLeadSnapshot()}function iI(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oI(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function PQ(t,e,n,r){oI(t.x,e.x,n.x,r),oI(t.y,e.y,n.y,r)}function RQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kQ={duration:.45,ease:[.4,0,.1,1]},aI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lI=aI("applewebkit/")&&!aI("chrome/")?Math.round:rr;function cI(t){t.min=lI(t.min),t.max=lI(t.max)}function NQ(t){cI(t.x),cI(t.y)}function MO(t,e,n){return t==="position"||t==="preserve-aspect"&&!jY(eI(e),eI(n),.2)}function DQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const OQ=OO({attachResizeListener:(t,e)=>hd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),py={current:void 0},VO=OO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!py.current){const t=new OQ({});t.mount(window),t.setOptions({layoutScroll:!0}),py.current=t}return py.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MQ={pan:{Feature:JY},drag:{Feature:ZY,ProjectionNode:VO,MeasureLayout:AO}};function uI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Qe.postRender(()=>i(e,zd(e)))}class VQ extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=lK(e,(n,r)=>(uI(this.node,r,"Start"),s=>uI(this.node,s,"End"))))}unmount(){}}class LQ extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ud(hd(this.node.current,"focus",()=>this.onFocus()),hd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Qe.postRender(()=>i(e,zd(e)))}class jQ extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=hK(e,(n,r)=>(dI(this.node,r,"Start"),(s,{success:i})=>dI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const C0=new WeakMap,my=new WeakMap,FQ=t=>{const e=C0.get(t.target);e&&e(t)},UQ=t=>{t.forEach(FQ)};function $Q({root:t,...e}){const n=t||document;my.has(n)||my.set(n,{});const r=my.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(UQ,{root:t,...e})),r[s]}function BQ(t,e,n){const r=$Q(e);return C0.set(t,n),r.observe(t),()=>{C0.delete(t),r.unobserve(t)}}const zQ={some:0,all:1};class WQ extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:zQ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return BQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HQ(e,n))&&this.startObserver()}unmount(){}}function HQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qQ={inView:{Feature:WQ},tap:{Feature:jQ},focus:{Feature:LQ},hover:{Feature:VQ}},GQ={layout:{ProjectionNode:VO,MeasureLayout:AO}},KQ={...NY,...qQ,...MQ,...GQ},Fe=KK(KQ,aY),go=()=>{const{user:t,signOut:e}=ms(),n=oc(),r=t?[{to:"/dashboard",label:"Dashboard",icon:Hf},{to:"/stories",label:"Stories",icon:Wf},{to:"/savings",label:"Savings",icon:mu},{to:"/profile",label:"Profile",icon:ZP}]:[];return p.jsx(Fe.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"fixed top-0 left-0 right-0 z-50 bg-background/70 backdrop-blur-xl border-b border-border/80",children:p.jsx("div",{className:"container mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(Ot,{to:"/",className:"flex items-center gap-2 group",children:[p.jsx(Hf,{className:"h-6 w-6 text-primary group-hover:rotate-12 transition-transform duration-300"}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"TravelDiary"})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[r.map(s=>{const i=s.icon,o=n.pathname===s.to;return p.jsxs(Ot,{to:s.to,className:`relative flex items-center gap-2 text-sm font-medium transition-colors hover:text-primary ${o?"text-primary":"text-muted-foreground"}`,children:[p.jsx(i,{className:"h-4 w-4"}),s.label,o&&p.jsx(Fe.span,{layoutId:"nav-underline",className:"absolute -bottom-2 left-0 h-0.5 w-full rounded-full bg-gradient-to-r from-primary to-secondary"})]},s.to)}),t?p.jsxs(_e,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[p.jsx(sF,{className:"h-4 w-4"}),"Logout"]}):p.jsx(Ot,{to:"/login",children:p.jsx(_e,{size:"sm",children:"Get Started"})})]})]})})})},yo=()=>p.jsxs("footer",{className:"relative bg-muted/50 mt-20",children:[p.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Hf,{className:"h-5 w-5 text-primary"}),p.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" 2025 TravelDiary. Capture your journeys."})]}),p.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[p.jsx("a",{href:"#",className:"transition-colors hover:text-primary",children:"Privacy"}),p.jsx("a",{href:"#",className:"transition-colors hover:text-primary",children:"Terms"}),p.jsx("a",{href:"#",className:"transition-colors hover:text-primary",children:"Contact"})]})]})})]}),YQ="/assets/hero-travel-ClybW361.jpg",QQ=()=>{const t=[{icon:tF,title:"Capture Your Journeys",description:"Upload photos and create beautiful travel stories that last forever."},{icon:Wf,title:"Build Your Travel Diary",description:"Organize your adventures with dates, locations, and personal notes."},{icon:mu,title:"Save for Your Dreams",description:"Set daily saving goals and watch your next adventure fund grow."},{icon:qf,title:"Track Your Progress",description:"Visualize your savings journey with beautiful progress charts."}];return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10"}),p.jsx("div",{className:"container mx-auto px-4 relative z-10",children:p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[p.jsxs(Fe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[p.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:["Capture Your Journeys,"," ",p.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Build Your Dreams"})]}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Create your personal travel diary and save money for your next adventure. Every journey starts with a story and a goal."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(Ot,{to:"/login",children:p.jsx(_e,{variant:"hero",size:"lg",children:"Start Your Journey"})}),p.jsx(Ot,{to:"/stories",children:p.jsx(_e,{variant:"outline",size:"lg",children:"View Stories"})})]})]}),p.jsxs(Fe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:[p.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl",children:p.jsx("img",{src:YQ,alt:"Traveler exploring mountains at golden hour",className:"w-full h-auto object-cover"})}),p.jsx("div",{className:"absolute -bottom-6 -left-6 bg-card p-4 rounded-xl shadow-lg border border-border",children:p.jsx("p",{className:"text-sm font-semibold text-secondary",children:" 350+ Adventures"})}),p.jsx("div",{className:"absolute -top-6 -right-6 bg-card p-4 rounded-xl shadow-lg border border-border",children:p.jsx("p",{className:"text-sm font-semibold text-primary",children:" $10K+ Saved"})})]})]})})]}),p.jsx("section",{className:"py-20 bg-muted/30",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Everything You Need"}),p.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"A complete platform to document your travels and save for future adventures"})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,n)=>p.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},className:"bg-card p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-border group hover:border-primary/50",children:[p.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 w-12 h-12 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:p.jsx(e.icon,{className:"h-6 w-6 text-primary"})}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.title}),p.jsx("p",{className:"text-muted-foreground",children:e.description})]},e.title))})]})}),p.jsx("section",{className:"py-20",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs(Fe.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},className:"bg-gradient-to-r from-primary to-secondary rounded-2xl p-12 text-center text-white shadow-2xl",children:[p.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Start Your Journey?"}),p.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of travelers capturing memories and saving for their dreams"}),p.jsx(Ot,{to:"/login",children:p.jsx(_e,{size:"lg",className:"bg-white text-primary hover:bg-white/90 shadow-lg",children:"Get Started Free"})})]})})}),p.jsx(yo,{})]})},Ut=S.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ut.displayName="Input";var XQ="Label",LO=S.forwardRef((t,e)=>p.jsx(rt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LO.displayName=XQ;var jO=LO;const ZQ=Dw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=S.forwardRef(({className:t,...e},n)=>p.jsx(jO,{ref:n,className:Ne(ZQ(),t),...e}));pt.displayName=jO.displayName;const Jt=S.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Jt.displayName="Card";const _n=S.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ne("flex flex-col space-y-1.5 p-6",t),...e}));_n.displayName="CardHeader";const xn=S.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));xn.displayName="CardTitle";const FO=S.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));FO.displayName="CardDescription";const en=S.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ne("p-6 pt-0",t),...e}));en.displayName="CardContent";const JQ=S.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ne("flex items-center p-6 pt-0",t),...e}));JQ.displayName="CardFooter";var ke;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ke||(ke={}));var hI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(hI||(hI={}));const ee=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mi=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return Number.isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},H=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof Fn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Fn.create=t=>new Fn(t);const A0=(t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ke.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${ke.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ke.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${ke.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,ke.assertNever(t)}return{message:n}};let eX=A0;function tX(){return eX}const nX=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function Q(t,e){const n=tX(),r=nX({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===A0?void 0:A0].filter(s=>!!s)});t.common.issues.push(r)}class Un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return he;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Un.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return he;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const he=Object.freeze({status:"aborted"}),su=t=>({status:"dirty",value:t}),or=t=>({status:"valid",value:t}),fI=t=>t.status==="aborted",pI=t=>t.status==="dirty",Gl=t=>t.status==="valid",Cp=t=>typeof Promise<"u"&&t instanceof Promise;var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(te||(te={}));class io{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mI=(t,e)=>{if(Gl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fn(t.common.issues);return this._error=n,this._error}}};function xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Pe{get description(){return this._def.description}_getType(e){return mi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Un,ctx:{common:e.parent.common,data:e.data,parsedType:mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Cp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mi(e)},s=this._parseSync({data:e,path:r.path,parent:r});return mI(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Gl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Gl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Cp(s)?s:Promise.resolve(s));return mI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:H.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ql({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hi.create(this,this._def)}nullable(){return Xl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ls.create(this)}promise(){return kp.create(this,this._def)}or(e){return Pp.create([this,e],this._def)}and(e){return Rp.create(this,e,this._def)}transform(e){return new Ql({...xe(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new R0({...xe(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new bX({typeName:fe.ZodBranded,type:this,...xe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new k0({...xe(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return bx.create(this,e)}readonly(){return N0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rX=/^c[^\s-]{8,}$/i,sX=/^[0-9a-z]+$/,iX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aX=/^[a-z0-9_-]{21}$/i,lX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gy;const hX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,UO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vX=new RegExp(`^${UO}$`);function $O(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function wX(t){return new RegExp(`^${$O(t)}$`)}function _X(t){let e=`${UO}T${$O(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function xX(t,e){return!!((e==="v4"||!e)&&hX.test(t)||(e==="v6"||!e)&&pX.test(t))}function EX(t,e){if(!lX.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function TX(t,e){return!!((e==="v4"||!e)&&fX.test(t)||(e==="v6"||!e)&&mX.test(t))}class ki extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_type,expected:ee.string,received:i.parsedType}),he}const r=new Un;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Q(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Q(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")uX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"email",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")gy||(gy=new RegExp(dX,"u")),gy.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"emoji",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")oX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"uuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")aX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")rX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")sX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")iX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ulid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Q(s,{validation:"url",code:H.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"regex",code:H.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?_X(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?vX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?wX(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?cX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"duration",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?xX(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ip",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?EX(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"jwt",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?TX(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cidr",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?gX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?yX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64url",code:H.invalid_string,message:i.message}),r.dirty()):ke.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:H.invalid_string,...te.errToObj(r)})}_addCheck(e){return new ki({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...te.errToObj(n)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new ki({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ki.create=t=>new ki({checks:[],typeName:fe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});function SX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Kl extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_type,expected:ee.number,received:i.parsedType}),he}let r;const s=new Un;for(const i of this._def.checks)i.kind==="int"?ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?SX(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:H.not_finite,message:i.message}),s.dirty()):ke.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,te.toString(n))}setLimit(e,n,r,s){return new Kl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:te.toString(s)}]})}_addCheck(e){return new Kl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Kl.create=t=>new Kl({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class fd extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ee.bigint)return this._getInvalidInput(e);let r;const s=new Un;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ke.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Q(n,{code:H.invalid_type,expected:ee.bigint,received:n.parsedType}),he}gte(e,n){return this.setLimit("min",e,!0,te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,te.toString(n))}setLimit(e,n,r,s){return new fd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:te.toString(s)}]})}_addCheck(e){return new fd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fd.create=t=>new fd({checks:[],typeName:fe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});class gI extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:ee.boolean,received:r.parsedType}),he}return or(e.data)}}gI.create=t=>new gI({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class Ap extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_type,expected:ee.date,received:i.parsedType}),he}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_date}),he}const r=new Un;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ke.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ap({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ap.create=t=>new Ap({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...xe(t)});class yI extends Pe{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:ee.symbol,received:r.parsedType}),he}return or(e.data)}}yI.create=t=>new yI({typeName:fe.ZodSymbol,...xe(t)});class vI extends Pe{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:ee.undefined,received:r.parsedType}),he}return or(e.data)}}vI.create=t=>new vI({typeName:fe.ZodUndefined,...xe(t)});class wI extends Pe{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:ee.null,received:r.parsedType}),he}return or(e.data)}}wI.create=t=>new wI({typeName:fe.ZodNull,...xe(t)});class _I extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return or(e.data)}}_I.create=t=>new _I({typeName:fe.ZodAny,...xe(t)});class xI extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return or(e.data)}}xI.create=t=>new xI({typeName:fe.ZodUnknown,...xe(t)});class oo extends Pe{_parse(e){const n=this._getOrReturnCtx(e);return Q(n,{code:H.invalid_type,expected:ee.never,received:n.parsedType}),he}}oo.create=t=>new oo({typeName:fe.ZodNever,...xe(t)});class EI extends Pe{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:ee.void,received:r.parsedType}),he}return or(e.data)}}EI.create=t=>new EI({typeName:fe.ZodVoid,...xe(t)});class ls extends Pe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ee.array)return Q(n,{code:H.invalid_type,expected:ee.array,received:n.parsedType}),he;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Q(n,{code:o?H.too_big:H.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Q(n,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Q(n,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new io(n,o,n.path,a)))).then(o=>Un.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new io(n,o,n.path,a)));return Un.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ls({...this._def,minLength:{value:e,message:te.toString(n)}})}max(e,n){return new ls({...this._def,maxLength:{value:e,message:te.toString(n)}})}length(e,n){return new ls({...this._def,exactLength:{value:e,message:te.toString(n)}})}nonempty(e){return this.min(1,e)}}ls.create=(t,e)=>new ls({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...xe(e)});function Va(t){if(t instanceof lt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hi.create(Va(r))}return new lt({...t._def,shape:()=>e})}else return t instanceof ls?new ls({...t._def,type:Va(t.element)}):t instanceof Hi?Hi.create(Va(t.unwrap())):t instanceof Xl?Xl.create(Va(t.unwrap())):t instanceof la?la.create(t.items.map(e=>Va(e))):t}class lt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ke.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ee.object){const c=this._getOrReturnCtx(e);return Q(c,{code:H.invalid_type,expected:ee.object,received:c.parsedType}),he}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof oo&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new io(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof oo){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(Q(s,{code:H.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new io(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>Un.mergeObjectSync(r,c)):Un.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:te.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new lt({...this._def,catchall:e})}pick(e){const n={};for(const r of ke.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new lt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ke.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new lt({...this._def,shape:()=>n})}deepPartial(){return Va(this)}partial(e){const n={};for(const r of ke.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new lt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ke.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Hi;)i=i._def.innerType;n[r]=i}return new lt({...this._def,shape:()=>n})}keyof(){return BO(ke.objectKeys(this.shape))}}lt.create=(t,e)=>new lt({shape:()=>t,unknownKeys:"strip",catchall:oo.create(),typeName:fe.ZodObject,...xe(e)});lt.strictCreate=(t,e)=>new lt({shape:()=>t,unknownKeys:"strict",catchall:oo.create(),typeName:fe.ZodObject,...xe(e)});lt.lazycreate=(t,e)=>new lt({shape:t,unknownKeys:"strip",catchall:oo.create(),typeName:fe.ZodObject,...xe(e)});class Pp extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Fn(a.ctx.common.issues));return Q(n,{code:H.invalid_union,unionErrors:o}),he}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Fn(l));return Q(n,{code:H.invalid_union,unionErrors:a}),he}}get options(){return this._def.options}}Pp.create=(t,e)=>new Pp({options:t,typeName:fe.ZodUnion,...xe(e)});function P0(t,e){const n=mi(t),r=mi(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const s=ke.objectKeys(e),i=ke.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=P0(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=P0(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Rp extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(fI(i)||fI(o))return he;const a=P0(i.value,o.value);return a.valid?((pI(i)||pI(o))&&n.dirty(),{status:n.value,value:a.data}):(Q(r,{code:H.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rp.create=(t,e,n)=>new Rp({left:t,right:e,typeName:fe.ZodIntersection,...xe(n)});class la extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return Q(r,{code:H.invalid_type,expected:ee.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return Q(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new io(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Un.mergeArray(n,o)):Un.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new la({...this._def,rest:e})}}la.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new la({items:t,typeName:fe.ZodTuple,rest:null,...xe(e)})};class TI extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return Q(r,{code:H.invalid_type,expected:ee.map,received:r.parsedType}),he;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new io(r,a,r.path,[c,"key"])),value:i._parse(new io(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return he;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return he;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}TI.create=(t,e,n)=>new TI({valueType:e,keyType:t,typeName:fe.ZodMap,...xe(n)});class pd extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return Q(r,{code:H.invalid_type,expected:ee.set,received:r.parsedType}),he;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Q(r,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Q(r,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return he;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new io(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new pd({...this._def,minSize:{value:e,message:te.toString(n)}})}max(e,n){return new pd({...this._def,maxSize:{value:e,message:te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}pd.create=(t,e)=>new pd({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...xe(e)});class SI extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}SI.create=(t,e)=>new SI({getter:t,typeName:fe.ZodLazy,...xe(e)});class bI extends Pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Q(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}bI.create=(t,e)=>new bI({value:t,typeName:fe.ZodLiteral,...xe(e)});function BO(t,e){return new Yl({values:t,typeName:fe.ZodEnum,...xe(e)})}class Yl extends Pe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{expected:ke.joinValues(r),received:n.parsedType,code:H.invalid_type}),he}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{received:n.data,code:H.invalid_enum_value,options:r}),he}return or(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Yl.create=BO;class II extends Pe{_parse(e){const n=ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const s=ke.objectValues(n);return Q(r,{expected:ke.joinValues(s),received:r.parsedType,code:H.invalid_type}),he}if(this._cache||(this._cache=new Set(ke.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ke.objectValues(n);return Q(r,{received:r.data,code:H.invalid_enum_value,options:s}),he}return or(e.data)}get enum(){return this._def.values}}II.create=(t,e)=>new II({values:t,typeName:fe.ZodNativeEnum,...xe(e)});class kp extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return Q(n,{code:H.invalid_type,expected:ee.promise,received:n.parsedType}),he;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return or(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kp.create=(t,e)=>new kp({type:t,typeName:fe.ZodPromise,...xe(e)});class Ql extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return he;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?he:l.status==="dirty"||n.value==="dirty"?su(l.value):l});{if(n.value==="aborted")return he;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?he:a.status==="dirty"||n.value==="dirty"?su(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?he:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?he:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Gl(o))return he;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Gl(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):he);ke.assertNever(s)}}Ql.create=(t,e,n)=>new Ql({schema:t,typeName:fe.ZodEffects,effect:e,...xe(n)});Ql.createWithPreprocess=(t,e,n)=>new Ql({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...xe(n)});class Hi extends Pe{_parse(e){return this._getType(e)===ee.undefined?or(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hi.create=(t,e)=>new Hi({innerType:t,typeName:fe.ZodOptional,...xe(e)});class Xl extends Pe{_parse(e){return this._getType(e)===ee.null?or(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xl.create=(t,e)=>new Xl({innerType:t,typeName:fe.ZodNullable,...xe(e)});class R0 extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}R0.create=(t,e)=>new R0({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xe(e)});class k0 extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Cp(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}k0.create=(t,e)=>new k0({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xe(e)});class CI extends Pe{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:ee.nan,received:r.parsedType}),he}return{status:"valid",value:e.data}}}CI.create=t=>new CI({typeName:fe.ZodNaN,...xe(t)});class bX extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bx extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?he:i.status==="dirty"?(n.dirty(),su(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new bx({in:e,out:n,typeName:fe.ZodPipeline})}}class N0 extends Pe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Gl(s)&&(s.value=Object.freeze(s.value)),s);return Cp(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}N0.create=(t,e)=>new N0({innerType:t,typeName:fe.ZodReadonly,...xe(e)});lt.lazycreate;var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fe||(fe={}));const Sn=ki.create,AI=Kl.create;oo.create;ls.create;const jm=lt.create;lt.strictCreate;Pp.create;Rp.create;la.create;Yl.create;kp.create;Hi.create;Xl.create;class IX{constructor(){rh(this,"rpId");rh(this,"rpName");this.rpId=window.location.hostname==="localhost"?"localhost":window.location.hostname,this.rpName="DivineTrails"}isSupported(){return!!(navigator.credentials&&navigator.credentials.create&&navigator.credentials.get)}generateChallenge(){return crypto.getRandomValues(new Uint8Array(32))}stringToUint8Array(e){return new TextEncoder().encode(e)}arrayBufferToBase64(e){const n=new Uint8Array(e);let r="";for(let s=0;s<n.byteLength;s++)r+=String.fromCharCode(n[s]);return btoa(r)}async registerPasskey(e,n,r){try{if(!this.isSupported())throw new Error("Passkeys are not supported on this device");const i={publicKey:{challenge:this.generateChallenge(),rp:{id:this.rpId,name:this.rpName},user:{id:this.stringToUint8Array(e),name:n,displayName:r},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",requireResidentKey:!0},timeout:6e4,attestation:"direct"}},o=await navigator.credentials.create(i);if(!o)throw new Error("Failed to create credential");const a=o.response;return{id:o.id,rawId:this.arrayBufferToBase64(o.rawId),response:{clientDataJSON:this.arrayBufferToBase64(a.clientDataJSON),attestationObject:this.arrayBufferToBase64(a.attestationObject)},type:o.type}}catch(s){throw console.error("Passkey registration failed:",s),s.name==="NotSupportedError"?new Error("Passkeys are not supported on this device or browser"):s.name==="SecurityError"?new Error("Security error: Please ensure you're on a secure connection (HTTPS)"):s.name==="NotAllowedError"?new Error("Passkey creation was cancelled or not allowed"):new Error("Failed to create passkey: "+s.message)}}async authenticateWithPasskey(){try{if(!this.isSupported())throw new Error("Passkeys are not supported on this device");const n={publicKey:{challenge:this.generateChallenge(),timeout:6e4,userVerification:"required",rpId:this.rpId}},r=await navigator.credentials.get(n);if(!r)throw new Error("Authentication failed");const s=r.response;return{id:r.id,rawId:this.arrayBufferToBase64(r.rawId),response:{clientDataJSON:this.arrayBufferToBase64(s.clientDataJSON),authenticatorData:this.arrayBufferToBase64(s.authenticatorData),signature:this.arrayBufferToBase64(s.signature),userHandle:s.userHandle?this.arrayBufferToBase64(s.userHandle):null},type:r.type}}catch(e){throw console.error("Passkey authentication failed:",e),e.name==="NotSupportedError"?new Error("Passkeys are not supported on this device or browser"):e.name==="SecurityError"?new Error("Security error: Please ensure you're on a secure connection (HTTPS)"):e.name==="NotAllowedError"?new Error("Authentication was cancelled or no passkey was found"):new Error("Authentication failed: "+e.message)}}getDeviceInfo(){const e=navigator.userAgent;return e.includes("iPhone")||e.includes("iPad")?"iOS Device":e.includes("Android")?"Android Device":e.includes("Windows")?"Windows Device":e.includes("Mac")?"Mac Device":"Unknown Device"}}const Lh=new IX;class CX{constructor(){rh(this,"collectionName","passkeys")}async storePasskey(e,n,r,s){try{const i=Ln(Ns(xt,this.collectionName)),o={userId:e,credentialId:n,publicKey:r,counter:0,deviceName:s||"Unknown Device",createdAt:od()};await o0(i,o),console.log("Passkey stored successfully")}catch(i){throw console.error("Error storing passkey:",i),i}}async getPasskeyByCredentialId(e){try{const n=Bl(Ns(xt,this.collectionName),zl("credentialId","==",e)),r=await Wl(n);if(r.empty)return null;const s=r.docs[0];return{id:s.id,...s.data()}}catch(n){throw console.error("Error getting passkey:",n),n}}async getUserPasskeys(e){try{const n=Bl(Ns(xt,this.collectionName),zl("userId","==",e));return(await Wl(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting user passkeys:",n),n}}async updatePasskeyCounter(e,n){try{const r=Ln(xt,this.collectionName,e);await o0(r,{counter:n,lastUsed:od()},{merge:!0})}catch(r){throw console.error("Error updating passkey counter:",r),r}}async deletePasskey(e){try{await r2(Ln(xt,this.collectionName,e)),console.log("Passkey deleted successfully")}catch(n){throw console.error("Error deleting passkey:",n),n}}async userHasPasskeys(e){try{return(await this.getUserPasskeys(e)).length>0}catch(n){return console.error("Error checking user passkeys:",n),!1}}}const Ca=new CX,AX=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(Lh.isSupported()),{user:s}=ms(),{toast:i}=Gs();return{isLoading:t,isSupported:n,registerPasskey:async h=>{if(!s)throw new Error("User must be logged in to register a passkey");e(!0);try{const f=await Lh.registerPasskey(s.uid,s.email||"user@example.com",s.displayName||"User");return await Ca.storePasskey(s.uid,f.id,f.response.attestationObject,h||Lh.getDeviceInfo()),i({title:"Passkey Created!",description:"You can now use your passkey to sign in quickly and securely."}),f}catch(f){throw console.error("Passkey registration failed:",f),i({variant:"destructive",title:"Passkey Registration Failed",description:f.message||"Failed to create passkey. Please try again."}),f}finally{e(!1)}},authenticateWithPasskey:async()=>{e(!0);try{const h=await Lh.authenticateWithPasskey(),f=await Ca.getPasskeyByCredentialId(h.id);if(!f)throw new Error("Passkey not found. Please register a passkey first.");return await Ca.updatePasskeyCounter(f.id,f.counter+1),i({title:"Welcome back!",description:"Successfully authenticated with your passkey."}),{userId:f.userId,credentialId:h.id}}catch(h){throw console.error("Passkey authentication failed:",h),i({variant:"destructive",title:"Authentication Failed",description:h.message||"Failed to authenticate with passkey. Please try again."}),h}finally{e(!1)}},getUserPasskeys:async()=>{if(!s)return[];try{return await Ca.getUserPasskeys(s.uid)}catch(h){return console.error("Failed to get user passkeys:",h),[]}},deletePasskey:async h=>{try{await Ca.deletePasskey(h),i({title:"Passkey Deleted",description:"The passkey has been removed from your account."})}catch(f){throw i({variant:"destructive",title:"Delete Failed",description:f.message||"Failed to delete passkey."}),f}},checkUserHasPasskeys:async h=>{try{return await Ca.userHasPasskeys(h)}catch(f){return console.error("Failed to check user passkeys:",f),!1}}}},zO=jm({email:Sn().trim().email({message:"Invalid email address"}),password:Sn().min(6,{message:"Password must be at least 6 characters"})}),PX=zO.extend({fullName:Sn().trim().min(2,{message:"Name must be at least 2 characters"}).max(100)}),RX=()=>{const[t,e]=S.useState(!0),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(""),[l,c]=S.useState(!1),[d,h]=S.useState(!1),{signIn:f,signUp:m,user:E}=ms(),{toast:y}=Gs(),T=ps(),{isSupported:v,authenticateWithPasskey:w,registerPasskey:_}=AX();S.useEffect(()=>{E&&T("/dashboard")},[E,T]);const A=async M=>{M.preventDefault(),c(!0);try{if(t){const I=zO.parse({email:n,password:s}),{error:b}=await f(I.email,I.password);b?b.code==="auth/invalid-credential"||b.code==="auth/user-not-found"||b.code==="auth/wrong-password"?y({variant:"destructive",title:"Login failed",description:"Invalid email or password. Please try again."}):y({variant:"destructive",title:"Login failed",description:b.message}):(y({title:"Welcome back!",description:"You've successfully logged in."}),T("/dashboard"))}else{const I=PX.parse({email:n,password:s,fullName:o}),{error:b}=await m(I.email,I.password,I.fullName);b?b.code==="auth/email-already-in-use"?y({variant:"destructive",title:"Signup failed",description:"This email is already registered. Please login instead."}):y({variant:"destructive",title:"Signup failed",description:b.message}):(y({title:"Account created!",description:"Welcome to TravelDiary. Start capturing your journeys!"}),T("/dashboard"))}}catch(I){I instanceof Fn&&y({variant:"destructive",title:"Validation error",description:I.errors[0].message})}finally{c(!1)}},N=async()=>{if(!v){y({variant:"destructive",title:"Passkeys Not Supported",description:"Your device or browser doesn't support passkeys."});return}h(!0);try{const M=await w();y({title:"Welcome back!",description:"Successfully signed in with your passkey."}),T("/dashboard")}catch(M){console.error("Passkey login failed:",M)}finally{h(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10 p-4",children:p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs(Jt,{className:"w-full max-w-md shadow-xl",children:[p.jsxs(_n,{className:"space-y-1 text-center",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary p-3 rounded-full",children:p.jsx(Hf,{className:"h-8 w-8 text-white"})})}),p.jsx(xn,{className:"text-2xl font-bold",children:t?"Welcome Back":"Start Your Journey"}),p.jsx(FO,{children:t?"Enter your credentials to access your travel diary":"Create an account to start capturing your adventures"})]}),p.jsxs(en,{children:[p.jsxs("form",{onSubmit:A,className:"space-y-4",children:[!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"fullName",children:"Full Name"}),p.jsx(Ut,{id:"fullName",type:"text",placeholder:"John Doe",value:o,onChange:M=>a(M.target.value),required:!0,maxLength:100})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"email",children:"Email"}),p.jsx(Ut,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:M=>r(M.target.value),required:!0,maxLength:255})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"password",children:"Password"}),p.jsx(Ut,{id:"password",type:"password",placeholder:"",value:s,onChange:M=>i(M.target.value),required:!0,minLength:6})]}),p.jsx(_e,{type:"submit",className:"w-full",variant:"hero",disabled:l,children:l?"Processing...":t?"Sign In":"Create Account"})]}),t&&v&&p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("span",{className:"w-full border-t"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),p.jsx(_e,{type:"button",variant:"outline",className:"w-full mt-4 border-2 border-dashed border-primary/20 hover:border-primary/40 hover:bg-primary/5",onClick:N,disabled:d,children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx(rF,{className:"h-4 w-4 text-primary"}),p.jsx("span",{children:d?"Authenticating...":"Sign in with Passkey"}),p.jsx(aF,{className:"h-3 w-3 text-muted-foreground"})]})}),p.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Use your fingerprint, face, or device PIN for secure access"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})})};var Ix="Progress",Cx=100,[kX,$ee]=fa(Ix),[NX,DX]=kX(Ix),WO=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=OX,...o}=t;(s||s===0)&&!PI(s)&&console.error(MX(`${s}`,"Progress"));const a=PI(s)?s:Cx;r!==null&&!RI(r,a)&&console.error(VX(`${r}`,"Progress"));const l=RI(r,a)?r:null,c=Np(l)?i(l,a):void 0;return p.jsx(NX,{scope:n,value:l,max:a,children:p.jsx(rt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Np(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":GO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});WO.displayName=Ix;var HO="ProgressIndicator",qO=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=DX(HO,n);return p.jsx(rt.div,{"data-state":GO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});qO.displayName=HO;function OX(t,e){return`${Math.round(t/e*100)}%`}function GO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Np(t){return typeof t=="number"}function PI(t){return Np(t)&&!isNaN(t)&&t>0}function RI(t,e){return Np(t)&&!isNaN(t)&&t<=e&&t>=0}function MX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Cx}\`.`}function VX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Cx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KO=WO,LX=qO;const Ax=S.forwardRef(({className:t,value:e,...n},r)=>p.jsx(KO,{ref:r,className:Ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(LX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ax.displayName=KO.displayName;const vc=()=>p.jsxs("div",{className:"flex items-center justify-center gap-3",children:[p.jsx(Fe.span,{className:"relative block h-6 w-6",initial:{rotate:0},animate:{rotate:360},transition:{repeat:1/0,duration:1.2,ease:"linear"},children:p.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-primary/30 border-t-primary"})}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]});var yy="focusScope.autoFocusOnMount",vy="focusScope.autoFocusOnUnmount",kI={bubbles:!1,cancelable:!0},jX="FocusScope",YO=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=S.useState(null),c=cs(s),d=cs(i),h=S.useRef(null),f=zt(e,y=>l(y)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let y=function(_){if(m.paused||!a)return;const A=_.target;a.contains(A)?h.current=A:hi(h.current,{select:!0})},T=function(_){if(m.paused||!a)return;const A=_.relatedTarget;A!==null&&(a.contains(A)||hi(h.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&hi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),w.disconnect()}}},[r,a,m.paused]),S.useEffect(()=>{if(a){DI.add(m);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(yy,kI);a.addEventListener(yy,c),a.dispatchEvent(v),v.defaultPrevented||(FX(WX(QO(a)),{select:!0}),document.activeElement===y&&hi(a))}return()=>{a.removeEventListener(yy,c),setTimeout(()=>{const v=new CustomEvent(vy,kI);a.addEventListener(vy,d),a.dispatchEvent(v),v.defaultPrevented||hi(y??document.body,{select:!0}),a.removeEventListener(vy,d),DI.remove(m)},0)}}},[a,c,d,m]);const E=S.useCallback(y=>{if(!n&&!r||m.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(T&&v){const w=y.currentTarget,[_,A]=UX(w);_&&A?!y.shiftKey&&v===A?(y.preventDefault(),n&&hi(_,{select:!0})):y.shiftKey&&v===_&&(y.preventDefault(),n&&hi(A,{select:!0})):v===w&&y.preventDefault()}},[n,r,m.paused]);return p.jsx(rt.div,{tabIndex:-1,...o,ref:f,onKeyDown:E})});YO.displayName=jX;function FX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(hi(r,{select:e}),document.activeElement!==n)return}function UX(t){const e=QO(t),n=NI(e,t),r=NI(e.reverse(),t);return[n,r]}function QO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function NI(t,e){for(const n of t)if(!$X(n,{upTo:e}))return n}function $X(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BX(t){return t instanceof HTMLInputElement&&"select"in t}function hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&BX(t)&&e&&t.select()}}var DI=zX();function zX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=OI(t,e),t.unshift(e)},remove(e){var n;t=OI(t,e),(n=t[0])==null||n.resume()}}}function OI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function WX(t){return t.filter(e=>e.tagName!=="A")}var wy=0;function HX(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MI()),document.body.insertAdjacentElement("beforeend",t[1]??MI()),wy++,()=>{wy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wy--}},[])}function MI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yr=function(){return Yr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yr.apply(this,arguments)};function XO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qX(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var vf="right-scroll-bar-position",wf="width-before-scroll-bar",GX="with-scroll-bars-hidden",KX="--removed-body-scroll-bar-size";function _y(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YX(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var QX=typeof window<"u"?S.useLayoutEffect:S.useEffect,VI=new WeakMap;function XX(t,e){var n=YX(null,function(r){return t.forEach(function(s){return _y(s,r)})});return QX(function(){var r=VI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||_y(a,null)}),i.forEach(function(a){s.has(a)||_y(a,o)})}VI.set(n,t)},[t]),n}function ZX(t){return t}function JX(t,e){e===void 0&&(e=ZX);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function eZ(t){t===void 0&&(t={});var e=JX(null);return e.options=Yr({async:!0,ssr:!1},t),e}var ZO=function(t){var e=t.sideCar,n=XO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Yr({},n))};ZO.isSideCarExport=!0;function tZ(t,e){return t.useMedium(e),ZO}var JO=eZ(),xy=function(){},Fm=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:xy,onWheelCapture:xy,onTouchMoveCapture:xy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,E=t.noIsolation,y=t.inert,T=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,_=t.gapMode,A=XO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,M=XX([n,e]),I=Yr(Yr({},A),s);return S.createElement(S.Fragment,null,d&&S.createElement(N,{sideCar:JO,removeScrollBar:c,shards:h,noRelative:m,noIsolation:E,inert:y,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:_}),o?S.cloneElement(S.Children.only(a),Yr(Yr({},I),{ref:M})):S.createElement(w,Yr({},I,{className:l,ref:M}),a))});Fm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fm.classNames={fullWidth:wf,zeroRight:vf};var nZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nZ();return e&&t.setAttribute("nonce",e),t}function sZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rZ())&&(sZ(e,n),iZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aZ=function(){var t=oZ();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},eM=function(){var t=aZ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},lZ={left:0,top:0,right:0,gap:0},Ey=function(t){return parseInt(t||"",10)||0},cZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ey(n),Ey(r),Ey(s)]},uZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lZ;var e=cZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dZ=eM(),gl="data-scroll-locked",hZ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(GX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(KX,": ").concat(a,`px;
  }
`)},LI=function(){var t=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(t)?t:0},fZ=function(){S.useEffect(function(){return document.body.setAttribute(gl,(LI()+1).toString()),function(){var t=LI()-1;t<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,t.toString())}},[])},pZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;fZ();var i=S.useMemo(function(){return uZ(s)},[s]);return S.createElement(dZ,{styles:hZ(i,!e,s,n?"":"!important")})},D0=!1;if(typeof window<"u")try{var jh=Object.defineProperty({},"passive",{get:function(){return D0=!0,!0}});window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{D0=!1}var Aa=D0?{passive:!1}:!1,mZ=function(t){return t.tagName==="TEXTAREA"},tM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mZ(t)&&n[e]==="visible")},gZ=function(t){return tM(t,"overflowY")},yZ=function(t){return tM(t,"overflowX")},jI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nM(t,r);if(s){var i=rM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},wZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nM=function(t,e){return t==="v"?gZ(e):yZ(e)},rM=function(t,e){return t==="v"?vZ(e):wZ(e)},_Z=function(t,e){return t==="h"&&e==="rtl"?-1:1},xZ=function(t,e,n,r,s){var i=_Z(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=rM(t,a),E=m[0],y=m[1],T=m[2],v=y-T-i*E;(E||v)&&nM(t,a)&&(h+=v,f+=E);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},Fh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FI=function(t){return[t.deltaX,t.deltaY]},UI=function(t){return t&&"current"in t?t.current:t},EZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},TZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SZ=0,Pa=[];function bZ(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(SZ++)[0],i=S.useState(eM)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=qX([t.lockRef.current],(t.shards||[]).map(UI),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=Fh(y),w=n.current,_="deltaX"in y?y.deltaX:w[0]-v[0],A="deltaY"in y?y.deltaY:w[1]-v[1],N,M=y.target,I=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in y&&I==="h"&&M.type==="range")return!1;var b=jI(I,M);if(!b)return!0;if(b?N=I:(N=I==="v"?"h":"v",b=jI(I,M)),!b)return!1;if(!r.current&&"changedTouches"in y&&(_||A)&&(r.current=N),!N)return!0;var P=r.current||N;return xZ(P,T,y,P==="h"?_:A,!0)},[]),l=S.useCallback(function(y){var T=y;if(!(!Pa.length||Pa[Pa.length-1]!==i)){var v="deltaY"in T?FI(T):Fh(T),w=e.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&EZ(N.delta,v)})[0];if(w&&w.should){T.cancelable&&T.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(UI).filter(Boolean).filter(function(N){return N.contains(T.target)}),A=_.length>0?a(T,_[0]):!o.current.noIsolation;A&&T.cancelable&&T.preventDefault()}}},[]),c=S.useCallback(function(y,T,v,w){var _={name:y,delta:T,target:v,should:w,shadowParent:IZ(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),d=S.useCallback(function(y){n.current=Fh(y),r.current=void 0},[]),h=S.useCallback(function(y){c(y.type,FI(y),y.target,a(y,t.lockRef.current))},[]),f=S.useCallback(function(y){c(y.type,Fh(y),y.target,a(y,t.lockRef.current))},[]);S.useEffect(function(){return Pa.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Aa),document.addEventListener("touchmove",l,Aa),document.addEventListener("touchstart",d,Aa),function(){Pa=Pa.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Aa),document.removeEventListener("touchmove",l,Aa),document.removeEventListener("touchstart",d,Aa)}},[]);var m=t.removeScrollBar,E=t.inert;return S.createElement(S.Fragment,null,E?S.createElement(i,{styles:TZ(s)}):null,m?S.createElement(pZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CZ=tZ(JO,bZ);var sM=S.forwardRef(function(t,e){return S.createElement(Fm,Yr({},t,{ref:e,sideCar:CZ}))});sM.classNames=Fm.classNames;var AZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ra=new WeakMap,Uh=new WeakMap,$h={},Ty=0,iM=function(t){return t&&(t.host||iM(t.parentNode))},PZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},RZ=function(t,e,n,r){var s=PZ(e,Array.isArray(t)?t:[t]);$h[n]||($h[n]=new WeakMap);var i=$h[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),E=m!==null&&m!=="false",y=(Ra.get(f)||0)+1,T=(i.get(f)||0)+1;Ra.set(f,y),i.set(f,T),o.push(f),y===1&&E&&Uh.set(f,!0),T===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),a.clear(),Ty++,function(){o.forEach(function(h){var f=Ra.get(h)-1,m=i.get(h)-1;Ra.set(h,f),i.set(h,m),f||(Uh.has(h)||h.removeAttribute(r),Uh.delete(h)),m||h.removeAttribute(n)}),Ty--,Ty||(Ra=new WeakMap,Ra=new WeakMap,Uh=new WeakMap,$h={})}},kZ=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=AZ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),RZ(r,s,n,"aria-hidden")):function(){return null}},Um="Dialog",[oM,aM]=fa(Um),[NZ,Nr]=oM(Um),lM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=S.useRef(null),l=S.useRef(null),[c,d]=TP({prop:r,defaultProp:s??!1,onChange:i,caller:Um});return p.jsx(NZ,{scope:e,triggerRef:a,contentRef:l,contentId:Mg(),titleId:Mg(),descriptionId:Mg(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};lM.displayName=Um;var cM="DialogTrigger",uM=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(cM,n),i=zt(e,s.triggerRef);return p.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kx(s.open),...r,ref:i,onClick:qe(t.onClick,s.onOpenToggle)})});uM.displayName=cM;var Px="DialogPortal",[DZ,dM]=oM(Px,{forceMount:void 0}),hM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Nr(Px,e);return p.jsx(DZ,{scope:e,forceMount:n,children:S.Children.map(r,o=>p.jsx(tc,{present:n||i.open,children:p.jsx(Pw,{asChild:!0,container:s,children:o})}))})};hM.displayName=Px;var Dp="DialogOverlay",fM=S.forwardRef((t,e)=>{const n=dM(Dp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nr(Dp,t.__scopeDialog);return i.modal?p.jsx(tc,{present:r||i.open,children:p.jsx(MZ,{...s,ref:e})}):null});fM.displayName=Dp;var OZ=Wu("DialogOverlay.RemoveScroll"),MZ=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(Dp,n);return p.jsx(sM,{as:OZ,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(rt.div,{"data-state":kx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ca="DialogContent",pM=S.forwardRef((t,e)=>{const n=dM(ca,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nr(ca,t.__scopeDialog);return p.jsx(tc,{present:r||i.open,children:i.modal?p.jsx(VZ,{...s,ref:e}):p.jsx(LZ,{...s,ref:e})})});pM.displayName=ca;var VZ=S.forwardRef((t,e)=>{const n=Nr(ca,t.__scopeDialog),r=S.useRef(null),s=zt(e,n.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return kZ(i)},[]),p.jsx(mM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,i=>i.preventDefault())})}),LZ=S.forwardRef((t,e)=>{const n=Nr(ca,t.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return p.jsx(mM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),mM=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Nr(ca,n),l=S.useRef(null),c=zt(e,l);return HX(),p.jsxs(p.Fragment,{children:[p.jsx(YO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(Xp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":kx(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(FZ,{titleId:a.titleId}),p.jsx($Z,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Rx="DialogTitle",gM=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(Rx,n);return p.jsx(rt.h2,{id:s.titleId,...r,ref:e})});gM.displayName=Rx;var yM="DialogDescription",vM=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(yM,n);return p.jsx(rt.p,{id:s.descriptionId,...r,ref:e})});vM.displayName=yM;var wM="DialogClose",_M=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(wM,n);return p.jsx(rt.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,()=>s.onOpenChange(!1))})});_M.displayName=wM;function kx(t){return t?"open":"closed"}var xM="DialogTitleWarning",[jZ,EM]=o4(xM,{contentName:ca,titleName:Rx,docsSlug:"dialog"}),FZ=({titleId:t})=>{const e=EM(xM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},UZ="DialogDescriptionWarning",$Z=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EM(UZ).contentName}}.`;return S.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},TM=lM,BZ=uM,SM=hM,Nx=fM,Dx=pM,Ox=gM,Mx=vM,Vx=_M;const zZ=TM,WZ=SM,bM=S.forwardRef(({className:t,...e},n)=>p.jsx(Nx,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));bM.displayName=Nx.displayName;const IM=S.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(WZ,{children:[p.jsx(bM,{}),p.jsxs(Dx,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(Vx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(bd,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));IM.displayName=Dx.displayName;const CM=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});CM.displayName="DialogHeader";const AM=S.forwardRef(({className:t,...e},n)=>p.jsx(Ox,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));AM.displayName=Ox.displayName;const HZ=S.forwardRef(({className:t,...e},n)=>p.jsx(Mx,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));HZ.displayName=Mx.displayName;const hr={UPI_ID:"palash.borgave@ybl",MERCHANT_NAME:"DivineTrails Savings",CURRENCY:"INR"},PM=({isOpen:t,onClose:e,amount:n,onPaymentSuccess:r,goalName:s})=>{const[i,o]=S.useState(!1),{toast:a}=Gs(),l=v=>{const w=hr.UPI_ID,_=hr.MERCHANT_NAME,A=`Savings for ${s}`;return`phonepe://pay?pa=${w}&pn=${encodeURIComponent(_)}&am=${v}&cu=${hr.CURRENCY}&tn=${encodeURIComponent(A)}`},c=v=>{const w=hr.UPI_ID,_=hr.MERCHANT_NAME,A=`Savings for ${s}`;return`https://mercury.phonepe.com/transact?pa=${w}&pn=${encodeURIComponent(_)}&am=${v}&cu=${hr.CURRENCY}&tn=${encodeURIComponent(A)}`},d=v=>{const w=hr.UPI_ID,_=hr.MERCHANT_NAME,A=`Savings for ${s}`;return`upi://pay?pa=${w}&pn=${encodeURIComponent(_)}&am=${v}&cu=${hr.CURRENCY}&tn=${encodeURIComponent(A)}`},h=l(n),f=c(n),m=d(n),E=()=>{navigator.clipboard.writeText(m),a({title:"UPI Link Copied!",description:"You can paste this in any UPI app to make the payment."})},y=()=>{console.log("Attempting to open PhonePe..."),console.log("PhonePe URL:",h),console.log("PhonePe Web URL:",f),console.log("Generic UPI URL:",m);try{window.open(m,"_blank"),/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)&&setTimeout(()=>{try{window.location.href=h}catch(v){console.log("PhonePe app link failed:",v)}},500),a({title:"Opening Payment Gateway...",description:"UPI payment link opened. Choose PhonePe or any UPI app to complete payment of "+n.toFixed(2),duration:5e3})}catch(v){console.error("Error opening payment gateway:",v),navigator.clipboard.writeText(m),a({variant:"destructive",title:"Payment Link Copied",description:"Couldn't open payment app automatically. UPI link copied to clipboard - paste it in any UPI app.",duration:6e3})}},T=()=>{o(!0),r(),a({title:"Payment Confirmed!",description:`${n.toFixed(2)} has been added to your ${s} savings.`}),setTimeout(()=>{e(),o(!1)},2e3)};return p.jsx(zZ,{open:t,onOpenChange:e,children:p.jsxs(IM,{className:"sm:max-w-md max-h-[90vh] h-[90vh] sm:h-auto flex flex-col",children:[p.jsx(CM,{className:"flex-shrink-0",children:p.jsxs(AM,{className:"flex items-center justify-between",children:[p.jsxs("span",{children:["Pay ",n.toFixed(2)," for ",s]}),p.jsx(_e,{variant:"ghost",size:"sm",onClick:e,children:p.jsx(bd,{className:"h-4 w-4"})})]})}),i?p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsxs("div",{className:"text-center py-8",children:[p.jsx(jE,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payment Confirmed!"}),p.jsxs("p",{className:"text-muted-foreground",children:["",n.toFixed(2)," has been added to your savings."]})]})}):p.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:p.jsxs("div",{className:"space-y-6 px-1 pb-4",children:[p.jsx(Jt,{children:p.jsx(en,{className:"pt-6",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"bg-white p-4 rounded-lg",children:p.jsx("img",{src:"/Phonepe.jpg",alt:"PhonePe QR Code",className:"w-40 h-40 sm:w-48 sm:h-48 object-contain rounded-lg"})}),p.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Scan this PhonePe QR code to pay ",n.toFixed(2)," to palash.borgave@ybl"]}),p.jsx("div",{className:"text-xs text-gray-400 text-center mt-2",children:p.jsx("button",{onClick:()=>{console.log("=== DEBUG INFO ==="),console.log("Amount:",n),console.log("UPI ID:",hr.UPI_ID),console.log("PhonePe URL:",h),console.log("PhonePe Web URL:",f),console.log("Generic UPI:",m),alert("Check console for debug info")},className:"underline hover:text-gray-600",children:"Debug URLs"})})]})})}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(_e,{onClick:y,className:"w-full bg-purple-600 hover:bg-purple-700",size:"lg",children:"Open UPI Payment"}),p.jsx(_e,{onClick:()=>{const v=`upi://pay?pa=${hr.UPI_ID}&am=${n}&tn=Savings for ${s}`;console.log("Simple UPI Link:",v),window.location.href=v,a({title:"Opening UPI Apps...",description:"Choose PhonePe or any UPI app from the list that appears."})},variant:"outline",className:"w-full border-purple-200 text-purple-600",size:"lg",children:"Try Direct UPI Link"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx(_e,{onClick:()=>{console.log("Opening PhonePe Web URL:",f),window.open(f,"_blank"),a({title:"Opening PhonePe Web...",description:"PhonePe web gateway should open in a new tab."})},variant:"outline",className:"border-purple-200 text-purple-600 hover:bg-purple-50",size:"sm",children:"PhonePe Web"}),p.jsxs(_e,{onClick:E,variant:"outline",size:"sm",children:[p.jsx(nF,{className:"h-4 w-4 mr-1"}),"Copy UPI"]})]})]}),p.jsxs(Jt,{children:[p.jsx(_n,{children:p.jsx(xn,{className:"text-sm",children:"Payment Instructions"})}),p.jsxs(en,{className:"text-sm text-muted-foreground space-y-2",children:[p.jsx("p",{children:'1. Click "Open PhonePe Gateway" for automatic UPI ID filling'}),p.jsx("p",{children:"2. Or scan the QR code with any UPI app"}),p.jsxs("p",{children:["3. Complete the payment of ",n.toFixed(2)]}),p.jsx("p",{children:`4. Click "I've Paid" below after successful payment`})]})]}),p.jsxs(_e,{onClick:T,variant:"hero",className:"w-full",size:"lg",children:[p.jsx(jE,{className:"h-4 w-4 mr-2"}),"I've Paid ",n.toFixed(2)]})]})})]})})},qZ=()=>{const{user:t,loading:e}=ms(),n=ps(),[r,s]=S.useState({storiesCount:0,savingsGoalsCount:0,totalSaved:0}),[i,o]=S.useState([]),[a,l]=S.useState({isOpen:!1,goalId:"",amount:0,goalName:""});S.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]),S.useEffect(()=>{t&&c()},[t]);const c=async()=>{if(t)try{console.log("Fetching dashboard stats for user:",t.uid);const y=Bl(Ns(xt,"savingsGoals"),zl("userId","==",t.uid)),T=Bl(Ns(xt,"stories"),zl("userId","==",t.uid)),[v,w]=await Promise.all([Wl(y),Wl(T)]);console.log("Dashboard - Savings docs:",v.docs.length),console.log("Dashboard - Stories docs:",w.docs.length);const _=v.docs.map(N=>({id:N.id,...N.data()})),A=_.reduce((N,M)=>N+(Number(M.savedAmount)||0),0);o(_),s({storiesCount:w.docs.length,savingsGoalsCount:_.length,totalSaved:A}),console.log("Dashboard stats updated:",{storiesCount:w.docs.length,savingsGoalsCount:_.length,totalSaved:A})}catch(y){console.error("Error fetching dashboard stats:",y)}},d=(y,T,v)=>{l({isOpen:!0,goalId:y,amount:T,goalName:v})},h=async()=>{const{goalId:y,amount:T}=a,v=i.find(w=>w.id===y);if(v)try{const w=v.savedAmount+T;await H_(Ln(xt,"savingsGoals",y),{savedAmount:w}),await c()}catch(w){console.error("Error updating savings:",w)}},f=()=>{l({isOpen:!1,goalId:"",amount:0,goalName:""})},m=()=>t?t.displayName&&t.displayName.trim()?t.displayName.trim():t.email?t.email.split("@")[0].replace(/[._]/g," ").split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join(" "):"Traveler":"Traveler",E=()=>{const y=new Date().getHours();return y<12?"Good morning":y<17?"Good afternoon":"Good evening"};return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(vc,{})}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-4xl font-bold mb-2",children:[E(),", ",m(),"!"]}),p.jsx("p",{className:"text-muted-foreground text-lg",children:"Welcome back to your travel journey dashboard"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:p.jsxs(Jt,{className:"hover:shadow-lg transition-shadow duration-300",children:[p.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Travel Stories"}),p.jsx(Wf,{className:"h-4 w-4 text-primary"})]}),p.jsxs(en,{children:[p.jsx("div",{className:"text-3xl font-bold text-primary",children:r.storiesCount}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Adventures documented"})]})]})}),p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:p.jsxs(Jt,{className:"hover:shadow-lg transition-shadow duration-300",children:[p.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Savings Goals"}),p.jsx(mu,{className:"h-4 w-4 text-secondary"})]}),p.jsxs(en,{children:[p.jsx("div",{className:"text-3xl font-bold text-secondary",children:r.savingsGoalsCount}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active goals"})]})]})}),p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:p.jsxs(Jt,{className:"hover:shadow-lg transition-shadow duration-300",children:[p.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Total Saved"}),p.jsx(qf,{className:"h-4 w-4 text-accent-dark"})]}),p.jsxs(en,{children:[p.jsxs("div",{className:"text-3xl font-bold text-accent-dark",children:["",r.totalSaved.toFixed(2)]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Towards your dreams"})]})]})})]}),i.length>0&&p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-8",children:p.jsxs(Jt,{children:[p.jsxs(_n,{className:"flex flex-row items-center justify-between",children:[p.jsxs(xn,{className:"flex items-center gap-2",children:[p.jsx(mu,{className:"h-5 w-5 text-secondary"}),"Your Savings Goals"]}),p.jsx(Ot,{to:"/savings",children:p.jsx(_e,{variant:"outline",size:"sm",children:"View All"})})]}),p.jsxs(en,{className:"space-y-4",children:[i.slice(0,3).map((y,T)=>{const v=Number(y.savedAmount)/Number(y.targetAmount)*100;return p.jsxs(Fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:T*.1},className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-semibold text-lg",children:y.goalName}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(QP,{className:"h-3 w-3"}),p.jsxs("span",{children:["",Number(y.targetAmount).toFixed(2)]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(qf,{className:"h-3 w-3"}),p.jsxs("span",{children:["",Number(y.dailyAmount).toFixed(2),"/day"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-xl font-bold text-secondary",children:["",Number(y.savedAmount).toFixed(2)]}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.toFixed(1),"% saved"]})]}),p.jsxs(_e,{size:"sm",variant:"outline",className:"border-secondary text-secondary hover:bg-secondary hover:text-white",onClick:()=>d(y.id,Number(y.dailyAmount),y.goalName),children:[p.jsx(cF,{className:"h-3 w-3 mr-1"}),"Add ",Number(y.dailyAmount).toFixed(0)]})]})]}),p.jsx(Ax,{value:v,className:"h-2"})]},y.id)}),i.length>3&&p.jsx("div",{className:"text-center pt-2",children:p.jsx(Ot,{to:"/savings",children:p.jsxs(_e,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:["View ",i.length-3," more goals "]})})})]})]})}),p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:p.jsxs(Jt,{children:[p.jsx(_n,{children:p.jsx(xn,{children:"Quick Actions"})}),p.jsxs(en,{className:"flex flex-wrap gap-4",children:[p.jsx(Ot,{to:"/stories/new",children:p.jsxs(_e,{variant:"default",className:"gap-2",children:[p.jsx(Ow,{className:"h-4 w-4"}),"Add New Story"]})}),p.jsx(Ot,{to:"/savings",children:p.jsxs(_e,{variant:"secondary",className:"gap-2",children:[p.jsx(mu,{className:"h-4 w-4"}),"Create Savings Goal"]})}),p.jsx(Ot,{to:"/stories",children:p.jsxs(_e,{variant:"outline",className:"gap-2",children:[p.jsx(Wf,{className:"h-4 w-4"}),"View All Stories"]})})]})]})})]})}),p.jsx(yo,{}),p.jsx(PM,{isOpen:a.isOpen,onClose:f,amount:a.amount,onPaymentSuccess:h,goalName:a.goalName})]})};function Dr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ua(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const RM=6048e5,GZ=864e5;let KZ={};function $m(){return KZ}function md(t,e){var a,l,c,d;const n=$m(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Dr(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Op(t){return md(t,{weekStartsOn:1})}function kM(t){const e=Dr(t),n=e.getFullYear(),r=ua(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Op(r),i=ua(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Op(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function $I(t){const e=Dr(t);return e.setHours(0,0,0,0),e}function BI(t){const e=Dr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function YZ(t,e){const n=$I(t),r=$I(e),s=+n-BI(n),i=+r-BI(r);return Math.round((s-i)/GZ)}function QZ(t){const e=kM(t),n=ua(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Op(n)}function XZ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZZ(t){if(!XZ(t)&&typeof t!="number")return!1;const e=Dr(t);return!isNaN(Number(e))}function JZ(t){const e=Dr(t),n=ua(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tJ=(t,e,n)=>{let r;const s=eJ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iJ={date:Sy({formats:nJ,defaultWidth:"full"}),time:Sy({formats:rJ,defaultWidth:"full"}),dateTime:Sy({formats:sJ,defaultWidth:"full"})},oJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aJ=(t,e,n,r)=>oJ[t];function Hc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const lJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mJ={ordinalNumber:pJ,era:Hc({values:lJ,defaultWidth:"wide"}),quarter:Hc({values:cJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hc({values:uJ,defaultWidth:"wide"}),day:Hc({values:dJ,defaultWidth:"wide"}),dayPeriod:Hc({values:hJ,defaultWidth:"wide",formattingValues:fJ,defaultFormattingWidth:"wide"})};function qc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?yJ(a,h=>h.test(o)):gJ(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function gJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const wJ=/^(\d+)(th|st|nd|rd)?/i,_J=/\d+/i,xJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EJ={any:[/^b/i,/^(a|c)/i]},TJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SJ={any:[/1/i,/2/i,/3/i,/4/i]},bJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kJ={ordinalNumber:vJ({matchPattern:wJ,parsePattern:_J,valueCallback:t=>parseInt(t,10)}),era:qc({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:EJ,defaultParseWidth:"any"}),quarter:qc({matchPatterns:TJ,defaultMatchWidth:"wide",parsePatterns:SJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qc({matchPatterns:bJ,defaultMatchWidth:"wide",parsePatterns:IJ,defaultParseWidth:"any"}),day:qc({matchPatterns:CJ,defaultMatchWidth:"wide",parsePatterns:AJ,defaultParseWidth:"any"}),dayPeriod:qc({matchPatterns:PJ,defaultMatchWidth:"any",parsePatterns:RJ,defaultParseWidth:"any"})},NJ={code:"en-US",formatDistance:tJ,formatLong:iJ,formatRelative:aJ,localize:mJ,match:kJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DJ(t){const e=Dr(t);return YZ(e,JZ(e))+1}function OJ(t){const e=Dr(t),n=+Op(e)-+QZ(e);return Math.round(n/RM)+1}function NM(t,e){var d,h,f,m;const n=Dr(t),r=n.getFullYear(),s=$m(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=ua(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=md(o,e),l=ua(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=md(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function MJ(t,e){var a,l,c,d;const n=$m(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=NM(t,e),i=ua(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),md(i,e)}function VJ(t,e){const n=Dr(t),r=+md(n,e)-+MJ(n,e);return Math.round(r/RM)+1}function Me(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ci={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Me(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Me(n+1,2)},d(t,e){return Me(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Me(t.getHours()%12||12,e.length)},H(t,e){return Me(t.getHours(),e.length)},m(t,e){return Me(t.getMinutes(),e.length)},s(t,e){return Me(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Me(s,e.length)}},ka={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ci.y(t,e)},Y:function(t,e,n,r){const s=NM(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Me(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Me(i,e.length)},R:function(t,e){const n=kM(t);return Me(n,e.length)},u:function(t,e){const n=t.getFullYear();return Me(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ci.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=VJ(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Me(s,e.length)},I:function(t,e,n){const r=OJ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Me(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ci.d(t,e)},D:function(t,e,n){const r=DJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Me(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Me(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Me(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Me(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ka.noon:r===0?s=ka.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ka.evening:r>=12?s=ka.afternoon:r>=4?s=ka.morning:s=ka.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ci.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ci.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ci.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ci.s(t,e)},S:function(t,e){return ci.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return HI(r);case"XXXX":case"XX":return ko(r);case"XXXXX":case"XXX":default:return ko(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return HI(r);case"xxxx":case"xx":return ko(r);case"xxxxx":case"xxx":default:return ko(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WI(r,":");case"OOOO":default:return"GMT"+ko(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WI(r,":");case"zzzz":default:return"GMT"+ko(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Me(r,e.length)},T:function(t,e,n){const r=t.getTime();return Me(r,e.length)}};function WI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Me(i,2)}function HI(t,e){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):ko(t,e)}function ko(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Me(Math.trunc(r/60),2),i=Me(r%60,2);return n+s+e+i}const qI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return qI(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",qI(r,e)).replace("{{time}}",DM(s,e))},jJ={p:DM,P:LJ},FJ=/^D+$/,UJ=/^Y+$/,$J=["D","DD","YY","YYYY"];function BJ(t){return FJ.test(t)}function zJ(t){return UJ.test(t)}function WJ(t,e,n){const r=HJ(t,e,n);if(console.warn(r),$J.includes(t))throw new RangeError(r)}function HJ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KJ=/^'([^]*?)'?$/,YJ=/''/g,QJ=/[a-zA-Z]/;function OM(t,e,n){var d,h,f,m;const r=$m(),s=r.locale??NJ,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Dr(t);if(!ZZ(a))throw new RangeError("Invalid time value");let l=e.match(GJ).map(E=>{const y=E[0];if(y==="p"||y==="P"){const T=jJ[y];return T(E,s.formatLong)}return E}).join("").match(qJ).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const y=E[0];if(y==="'")return{isToken:!1,value:XJ(E)};if(zI[y])return{isToken:!0,value:E};if(y.match(QJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:E}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(E=>{if(!E.isToken)return E.value;const y=E.value;(zJ(y)||BJ(y))&&WJ(y,e,String(t));const T=zI[y[0]];return T(a,y,s.localize,c)}).join("")}function XJ(t){const e=t.match(KJ);return e?e[1].replace(YJ,"'"):t}const ZJ=({id:t,title:e,location:n,storyDate:r,coverImage:s})=>{const i=o=>{o.preventDefault(),o.stopPropagation()};return p.jsx(Fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.3},children:p.jsx(Ot,{to:`/stories/${t}`,children:p.jsxs(Jt,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 group",children:[p.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-primary/20 to-secondary/20",children:[s?p.jsx("img",{src:s,alt:e,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl",children:""}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),p.jsx(Ot,{to:`/stories/${t}/edit`,onClick:i,children:p.jsxs(_e,{size:"sm",variant:"secondary",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 gap-1",onClick:i,children:[p.jsx(YP,{className:"h-3 w-3"}),"Edit"]})})]}),p.jsxs(en,{className:"p-4",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:e}),p.jsxs("div",{className:"flex flex-col gap-1 text-sm text-muted-foreground",children:[n&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(KP,{className:"h-3 w-3"}),p.jsx("span",{className:"line-clamp-1",children:n})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(GP,{className:"h-3 w-3"}),p.jsx("span",{children:OM(new Date(r),"MMM dd, yyyy")})]})]})]})]})})})},JJ=()=>{const{user:t,loading:e}=ms(),n=ps(),[r,s]=S.useState([]),[i,o]=S.useState(!0);S.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]),S.useEffect(()=>{t&&a()},[t]);const a=async()=>{if(t){o(!0);try{console.log("Fetching stories for user:",t.uid);const l=Bl(Ns(xt,"stories"),zl("userId","==",t.uid)),c=await Wl(l);console.log("Stories query result - docs count:",c.docs.length);const h=c.docs.map(f=>{var E;const m=f.data();return console.log("Story document data:",{id:f.id,...m}),{id:f.id,...m,coverImage:((E=m.imageUrls)==null?void 0:E[0])||void 0}}).sort((f,m)=>{var T,v,w,_;const E=((v=(T=f.createdAt)==null?void 0:T.toDate)==null?void 0:v.call(T))||new Date(f.storyDate);return(((_=(w=m.createdAt)==null?void 0:w.toDate)==null?void 0:_.call(w))||new Date(m.storyDate)).getTime()-E.getTime()});console.log("Setting stories:",h),s(h)}catch(l){console.error("Error fetching stories:",l)}finally{o(!1)}}};return e||i?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(vc,{})}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:"My Travel Stories"}),p.jsx("p",{className:"text-muted-foreground text-lg",children:"Your collection of adventures and memories"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs(_e,{variant:"outline",size:"lg",className:"gap-2",onClick:a,disabled:i,children:[p.jsx(oF,{className:`h-4 w-4 ${i?"animate-spin":""}`}),"Refresh"]}),p.jsx(Ot,{to:"/stories/new",children:p.jsxs(_e,{variant:"hero",size:"lg",className:"gap-2",children:[p.jsx(Ow,{className:"h-5 w-5"}),"Add Story"]})})]})]}),r.length===0?p.jsxs(Fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center py-20",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No stories yet"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Start documenting your travel adventures today!"}),t&&p.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:["User ID: ",t.uid," | Loading: ",i?"Yes":"No"]}),p.jsx(Ot,{to:"/stories/new",children:p.jsx(_e,{variant:"hero",size:"lg",children:"Create Your First Story"})})]}):p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(l=>p.jsx(ZJ,{id:l.id,title:l.title,location:l.location||void 0,storyDate:l.storyDate,coverImage:l.coverImage},l.id))})]})}),p.jsx(yo,{})]})},Lx=S.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Lx.displayName="Textarea";const eee=jm({title:Sn().trim().min(1,"Title is required").max(200),description:Sn().trim().max(5e3).optional(),location:Sn().trim().max(200).optional(),storyDate:Sn().min(1,"Date is required")}),tee=()=>{const{user:t,loading:e}=ms(),n=ps(),{toast:r}=Gs(),[s,i]=S.useState(!1),[o,a]=S.useState([]),[l,c]=S.useState({title:"",description:"",location:"",storyDate:new Date().toISOString().split("T")[0]});S.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]);const d=m=>{if(m.target.files){const E=Array.from(m.target.files).slice(0,5-o.length);a([...o,...E])}},h=m=>{a(o.filter((E,y)=>y!==m))},f=async m=>{if(m.preventDefault(),!!t)try{const E=eee.parse(l);i(!0),console.log("Creating story with data:",{userId:t.uid,title:E.title,description:E.description||"",location:E.location||"",storyDate:E.storyDate});const y={userId:t.uid,title:E.title,description:E.description||"",location:E.location||"",storyDate:E.storyDate,createdAt:od(),updatedAt:od(),imageUrls:[]},T=await s2(Ns(xt,"stories"),y);console.log("Story created with ID:",T.id),console.log("Story created successfully in Firestore"),o.length>0?(console.log("Image upload not implemented yet - Firebase Storage needed"),r({title:"Story created!",description:`Story saved successfully with ID: ${T.id}. Image upload will be available soon.`,duration:5e3})):r({title:"Story created!",description:`Your travel story has been saved successfully with ID: ${T.id}`,duration:5e3}),setTimeout(()=>{n("/stories")},1e3)}catch(E){console.error("Error creating story:",E),E instanceof Fn?r({variant:"destructive",title:"Validation error",description:E.errors[0].message}):r({variant:"destructive",title:"Error",description:"Failed to create story. Please try again. Error: "+(E.message||"Unknown error")})}finally{i(!1)}};return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(vc,{})}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12 max-w-3xl",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Add New Story"}),p.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"Capture your travel memories and adventures"}),p.jsxs(Jt,{children:[p.jsx(_n,{children:p.jsx(xn,{children:"Story Details"})}),p.jsx(en,{children:p.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"title",children:"Title *"}),p.jsx(Ut,{id:"title",value:l.title,onChange:m=>c({...l,title:m.target.value}),placeholder:"My amazing trip to...",required:!0,maxLength:200})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"location",children:"Location"}),p.jsx(Ut,{id:"location",value:l.location,onChange:m=>c({...l,location:m.target.value}),placeholder:"Paris, France",maxLength:200})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"storyDate",children:"Date *"}),p.jsx(Ut,{id:"storyDate",type:"date",value:l.storyDate,onChange:m=>c({...l,storyDate:m.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"description",children:"Description"}),p.jsx(Lx,{id:"description",value:l.description,onChange:m=>c({...l,description:m.target.value}),placeholder:"Tell your story...",rows:6,maxLength:5e3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{children:"Photos (Max 5)"}),p.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[p.jsx("input",{type:"file",id:"images",accept:"image/*",multiple:!0,onChange:d,className:"hidden",disabled:o.length>=5}),p.jsxs("label",{htmlFor:"images",className:"cursor-pointer flex flex-col items-center gap-2",children:[p.jsx(XP,{className:"h-8 w-8 text-muted-foreground"}),p.jsxs("span",{className:"text-sm text-muted-foreground",children:["Click to upload photos (",o.length,"/5)"]})]})]}),o.length>0&&p.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:o.map((m,E)=>p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:URL.createObjectURL(m),alt:`Preview ${E+1}`,className:"w-full h-24 object-cover rounded-lg"}),p.jsx("button",{type:"button",onClick:()=>h(E),className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(bd,{className:"h-4 w-4"})})]},E))})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(_e,{type:"submit",variant:"hero",disabled:s,className:"flex-1",children:s?"Creating...":"Create Story"}),p.jsx(_e,{type:"button",variant:"outline",onClick:()=>n("/stories"),children:"Cancel"})]})]})})]})]})}),p.jsx(yo,{})]})},nee=jm({title:Sn().trim().min(1,"Title is required").max(200),description:Sn().trim().max(5e3).optional(),location:Sn().trim().max(200).optional(),storyDate:Sn().min(1,"Date is required")}),ree=()=>{const{id:t}=ek(),{user:e,loading:n}=ms(),r=ps(),{toast:s}=Gs(),[i,o]=S.useState(!1),[a,l]=S.useState(!0),[c,d]=S.useState([]),[h,f]=S.useState({title:"",description:"",location:"",storyDate:""});S.useEffect(()=>{!n&&!e&&r("/login")},[e,n,r]),S.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{if(!(!e||!t))try{console.log("Fetching story for editing:",t);const v=Ln(xt,"stories",t),w=await Dm(v);if(!w.exists()){s({variant:"destructive",title:"Error",description:"Story not found"}),r("/stories");return}const _=w.data();if(_.userId!==e.uid){s({variant:"destructive",title:"Access Denied",description:"You don't have permission to edit this story"}),r("/stories");return}f({title:_.title||"",description:_.description||"",location:_.location||"",storyDate:_.storyDate||""})}catch(v){console.error("Error fetching story:",v),s({variant:"destructive",title:"Error",description:"Failed to load story for editing"}),r("/stories")}finally{l(!1)}},E=v=>{if(v.target.files){const w=Array.from(v.target.files).slice(0,5-c.length);d([...c,...w])}},y=v=>{d(c.filter((w,_)=>_!==v))},T=async v=>{if(v.preventDefault(),!(!e||!t))try{const w=nee.parse(h);o(!0),console.log("Updating story with data:",{title:w.title,description:w.description||"",location:w.location||"",storyDate:w.storyDate});const _=Ln(xt,"stories",t);await H_(_,{title:w.title,description:w.description||"",location:w.location||"",storyDate:w.storyDate,updatedAt:od()}),console.log("Story updated successfully"),c.length>0?(console.log("New images selected but upload not implemented yet"),s({title:"Story updated!",description:"Story updated successfully. New image upload will be available soon.",duration:5e3})):s({title:"Story updated!",description:"Your travel story has been updated successfully.",duration:5e3}),r(`/stories/${t}`)}catch(w){console.error("Error updating story:",w),w instanceof Fn?s({variant:"destructive",title:"Validation error",description:w.errors[0].message}):s({variant:"destructive",title:"Error",description:"Failed to update story. Please try again. Error: "+(w.message||"Unknown error")})}finally{o(!1)}};return n||a?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(vc,{})}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12 max-w-3xl",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(Ot,{to:`/stories/${t}`,children:p.jsxs(_e,{variant:"ghost",className:"mb-6 gap-2",children:[p.jsx(qP,{className:"h-4 w-4"}),"Back to Story"]})}),p.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Edit Story"}),p.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"Update your travel memories and adventures"}),p.jsxs(Jt,{children:[p.jsx(_n,{children:p.jsx(xn,{children:"Story Details"})}),p.jsx(en,{children:p.jsxs("form",{onSubmit:T,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"title",children:"Title *"}),p.jsx(Ut,{id:"title",value:h.title,onChange:v=>f({...h,title:v.target.value}),placeholder:"My amazing trip to...",required:!0,maxLength:200})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"location",children:"Location"}),p.jsx(Ut,{id:"location",value:h.location,onChange:v=>f({...h,location:v.target.value}),placeholder:"Paris, France",maxLength:200})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"storyDate",children:"Date *"}),p.jsx(Ut,{id:"storyDate",type:"date",value:h.storyDate,onChange:v=>f({...h,storyDate:v.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"description",children:"Description"}),p.jsx(Lx,{id:"description",value:h.description,onChange:v=>f({...h,description:v.target.value}),placeholder:"Tell your story...",rows:6,maxLength:5e3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{children:"Add New Photos (Max 5)"}),p.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[p.jsx("input",{type:"file",id:"images",accept:"image/*",multiple:!0,onChange:E,className:"hidden",disabled:c.length>=5}),p.jsxs("label",{htmlFor:"images",className:"cursor-pointer flex flex-col items-center gap-2",children:[p.jsx(XP,{className:"h-8 w-8 text-muted-foreground"}),p.jsxs("span",{className:"text-sm text-muted-foreground",children:["Click to upload new photos (",c.length,"/5)"]})]})]}),c.length>0&&p.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:c.map((v,w)=>p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:URL.createObjectURL(v),alt:`Preview ${w+1}`,className:"w-full h-24 object-cover rounded-lg"}),p.jsx("button",{type:"button",onClick:()=>y(w),className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(bd,{className:"h-4 w-4"})})]},w))})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(_e,{type:"submit",variant:"hero",disabled:i,className:"flex-1",children:i?"Updating...":"Update Story"}),p.jsx(_e,{type:"button",variant:"outline",onClick:()=>r(`/stories/${t}`),children:"Cancel"})]})]})})]})]})}),p.jsx(yo,{})]})};var MM="AlertDialog",[see,Bee]=fa(MM,[aM]),Ys=aM(),VM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ys(e);return p.jsx(TM,{...r,...n,modal:!0})};VM.displayName=MM;var iee="AlertDialogTrigger",LM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ys(n);return p.jsx(BZ,{...s,...r,ref:e})});LM.displayName=iee;var oee="AlertDialogPortal",jM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ys(e);return p.jsx(SM,{...r,...n})};jM.displayName=oee;var aee="AlertDialogOverlay",FM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ys(n);return p.jsx(Nx,{...s,...r,ref:e})});FM.displayName=aee;var yl="AlertDialogContent",[lee,cee]=see(yl),uee=vP("AlertDialogContent"),UM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Ys(n),o=S.useRef(null),a=zt(e,o),l=S.useRef(null);return p.jsx(jZ,{contentName:yl,titleName:$M,docsSlug:"alert-dialog",children:p.jsx(lee,{scope:n,cancelRef:l,children:p.jsxs(Dx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:qe(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(uee,{children:r}),p.jsx(hee,{contentRef:o})]})})})});UM.displayName=yl;var $M="AlertDialogTitle",BM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ys(n);return p.jsx(Ox,{...s,...r,ref:e})});BM.displayName=$M;var zM="AlertDialogDescription",WM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ys(n);return p.jsx(Mx,{...s,...r,ref:e})});WM.displayName=zM;var dee="AlertDialogAction",HM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ys(n);return p.jsx(Vx,{...s,...r,ref:e})});HM.displayName=dee;var qM="AlertDialogCancel",GM=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=cee(qM,n),i=Ys(n),o=zt(e,s);return p.jsx(Vx,{...i,...r,ref:o})});GM.displayName=qM;var hee=({contentRef:t})=>{const e=`\`${yl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yl}\` by passing a \`${zM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},fee=VM,pee=LM,mee=jM,KM=FM,YM=UM,QM=HM,XM=GM,ZM=BM,JM=WM;const gee=fee,yee=pee,vee=mee,eV=S.forwardRef(({className:t,...e},n)=>p.jsx(KM,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));eV.displayName=KM.displayName;const tV=S.forwardRef(({className:t,...e},n)=>p.jsxs(vee,{children:[p.jsx(eV,{}),p.jsx(YM,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));tV.displayName=YM.displayName;const nV=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",t),...e});nV.displayName="AlertDialogHeader";const rV=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});rV.displayName="AlertDialogFooter";const sV=S.forwardRef(({className:t,...e},n)=>p.jsx(ZM,{ref:n,className:Ne("text-lg font-semibold",t),...e}));sV.displayName=ZM.displayName;const iV=S.forwardRef(({className:t,...e},n)=>p.jsx(JM,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));iV.displayName=JM.displayName;const oV=S.forwardRef(({className:t,...e},n)=>p.jsx(QM,{ref:n,className:Ne(G_(),t),...e}));oV.displayName=QM.displayName;const aV=S.forwardRef(({className:t,...e},n)=>p.jsx(XM,{ref:n,className:Ne(G_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));aV.displayName=XM.displayName;const wee=()=>{const{id:t}=ek(),{user:e,loading:n}=ms(),r=ps(),{toast:s}=Gs(),[i,o]=S.useState(null),[a,l]=S.useState(!0),[c,d]=S.useState(!1);S.useEffect(()=>{!n&&!e&&r("/login")},[e,n,r]),S.useEffect(()=>{e&&t&&h()},[e,t]);const h=async()=>{if(!(!e||!t))try{console.log("Fetching story with ID:",t,"for user:",e.uid);const m=Ln(xt,"stories",t),E=await Dm(m);if(!E.exists()){console.log("Story document does not exist"),s({variant:"destructive",title:"Error",description:"Story not found"}),r("/stories");return}const y=E.data();if(console.log("Story data:",y),y.userId!==e.uid){console.log("Story does not belong to current user"),s({variant:"destructive",title:"Access Denied",description:"You don't have permission to view this story"}),r("/stories");return}if(!y.title||!y.storyDate){console.log("Story missing required fields"),s({variant:"destructive",title:"Error",description:"Story data is incomplete"}),r("/stories");return}o({id:E.id,...y})}catch(m){console.error("Error fetching story:",m),s({variant:"destructive",title:"Error",description:"Failed to load story"}),r("/stories")}finally{l(!1)}},f=async()=>{if(t){d(!0);try{console.log("Deleting story with ID:",t),await r2(Ln(xt,"stories",t)),s({title:"Story deleted",description:"Your story has been removed"}),r("/stories")}catch(m){console.error("Error deleting story:",m),s({variant:"destructive",title:"Error",description:"Failed to delete story"})}finally{d(!1)}}};return n||a?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(vc,{})}):i?p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12 max-w-4xl",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(Ot,{to:"/stories",children:p.jsxs(_e,{variant:"ghost",className:"mb-6 gap-2",children:[p.jsx(qP,{className:"h-4 w-4"}),"Back to Stories"]})}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:i.title}),p.jsxs("div",{className:"flex flex-wrap gap-4 text-muted-foreground",children:[i.location&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(KP,{className:"h-4 w-4"}),p.jsx("span",{children:i.location})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(GP,{className:"h-4 w-4"}),p.jsx("span",{children:OM(new Date(i.storyDate),"MMMM dd, yyyy")})]})]})]}),i.imageUrls.length>0&&p.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:i.imageUrls.map((m,E)=>p.jsx(Fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.1},className:"rounded-xl overflow-hidden shadow-lg",children:p.jsx("img",{src:m,alt:`${i.title} - Photo ${E+1}`,className:"w-full h-64 object-cover hover:scale-105 transition-transform duration-500"})},E))}),i.description&&i.description.trim()&&p.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm border border-border mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Story"}),p.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap leading-relaxed",children:i.description})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(Ot,{to:`/stories/${t}/edit`,children:p.jsxs(_e,{variant:"outline",className:"gap-2",children:[p.jsx(YP,{className:"h-4 w-4"}),"Edit Story"]})}),p.jsxs(gee,{children:[p.jsx(yee,{asChild:!0,children:p.jsxs(_e,{variant:"destructive",className:"gap-2",children:[p.jsx(lF,{className:"h-4 w-4"}),"Delete Story"]})}),p.jsxs(tV,{children:[p.jsxs(nV,{children:[p.jsx(sV,{children:"Are you sure?"}),p.jsx(iV,{children:"This action cannot be undone. This will permanently delete your story and all associated images."})]}),p.jsxs(rV,{children:[p.jsx(aV,{children:"Cancel"}),p.jsx(oV,{onClick:f,disabled:c,children:c?"Deleting...":"Delete"})]})]})]})]})]})}),p.jsx(yo,{})]}):null},_ee=async t=>{try{const e=await Dm(Ln(xt,"users",t));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"User not found"}}catch(e){return console.error("Error getting user profile:",e),{success:!1,error:e}}},xee=async(t,e)=>{try{return{success:!0,id:(await s2(Ns(xt,t),{...e,createdAt:Le.now(),updatedAt:Le.now()})).id}}catch(n){return console.error(`Error creating document in ${t}:`,n),{success:!1,error:n}}},lV=async(t,e,n)=>{try{return await H_(Ln(xt,t,e),{...n,updatedAt:Le.now()}),{success:!0}}catch(r){return console.error(`Error updating document in ${t}:`,r),{success:!1,error:r}}},Eee=jm({goalName:Sn().trim().min(1,"Goal name is required").max(100),targetAmount:AI().min(1,"Target amount must be positive"),dailyAmount:AI().min(.01,"Daily amount must be positive"),startDate:Sn().min(1,"Start date is required"),endDate:Sn().min(1,"End date is required")}),Tee=()=>{const{user:t,loading:e}=ms(),n=ps(),{toast:r}=Gs(),[s,i]=S.useState([]),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[d,h]=S.useState({isOpen:!1,goalId:"",amount:0,goalName:""}),[f,m]=S.useState({goalName:"",targetAmount:"",dailyAmount:"",startDate:new Date().toISOString().split("T")[0],endDate:""});S.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]),S.useEffect(()=>{t&&E()},[t]);const E=async()=>{if(!t){console.log("No user found, skipping fetchGoals");return}console.log("Fetching goals for user:",t.uid);try{const _=Bl(Ns(xt,"savingsGoals"),zl("userId","==",t.uid));console.log("Executing Firestore query...");const A=await Wl(_);console.log("Query result - docs count:",A.docs.length);const N=A.docs.map(M=>{const I=M.data();return console.log("Document data:",{id:M.id,...I}),{id:M.id,...I}});console.log("Setting goals:",N),i(N)}catch(_){console.error("Error fetching goals:",_)}},y=async _=>{if(_.preventDefault(),!!t)try{const A=Eee.parse({...f,targetAmount:parseFloat(f.targetAmount),dailyAmount:parseFloat(f.dailyAmount)});c(!0);const N={userId:t.uid,goalName:A.goalName,targetAmount:A.targetAmount,dailyAmount:A.dailyAmount,startDate:A.startDate,endDate:A.endDate,savedAmount:0};console.log("Creating goal with data:",N);const M=await xee("savingsGoals",N);if(console.log("Create result:",M),!M.success)throw console.error("Firestore error:",M.error),new Error(M.error);r({title:"Goal created!",description:"Your savings goal has been set up successfully."}),a(!1),m({goalName:"",targetAmount:"",dailyAmount:"",startDate:new Date().toISOString().split("T")[0],endDate:""}),console.log("Goal created successfully, refreshing list..."),await E()}catch(A){A instanceof Fn?r({variant:"destructive",title:"Validation error",description:A.errors[0].message}):r({variant:"destructive",title:"Error",description:"Failed to create goal. Please try again."})}finally{c(!1)}},T=(_,A,N,M)=>{h({isOpen:!0,goalId:_,amount:N,goalName:M})},v=async()=>{const{goalId:_,amount:A}=d,N=s.find(b=>b.id===_);if(!N)return;const M=N.savedAmount+A;(await lV("savingsGoals",_,{savedAmount:M})).success?await E():r({variant:"destructive",title:"Error",description:"Failed to update savings. Please try again."})},w=()=>{h({isOpen:!1,goalId:"",amount:0,goalName:""})};return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12 max-w-5xl",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Savings Goals"}),p.jsx("p",{className:"text-muted-foreground text-lg",children:"Track your progress towards your travel dreams"})]}),p.jsxs(_e,{variant:"hero",size:"lg",className:"gap-2",onClick:()=>a(!o),children:[p.jsx(Ow,{className:"h-5 w-5"}),"New Goal"]})]}),o&&p.jsx(Fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-8",children:p.jsxs(Jt,{children:[p.jsx(_n,{children:p.jsx(xn,{children:"Create Savings Goal"})}),p.jsx(en,{children:p.jsxs("form",{onSubmit:y,className:"space-y-4",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"goalName",children:"Goal Name *"}),p.jsx(Ut,{id:"goalName",value:f.goalName,onChange:_=>m({...f,goalName:_.target.value}),placeholder:"Bali Trip 2026",required:!0,maxLength:100})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"targetAmount",children:"Target Amount () *"}),p.jsx(Ut,{id:"targetAmount",type:"number",step:"0.01",value:f.targetAmount,onChange:_=>m({...f,targetAmount:_.target.value}),placeholder:"50000",required:!0,min:"1"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"dailyAmount",children:"Daily Savings () *"}),p.jsx(Ut,{id:"dailyAmount",type:"number",step:"0.01",value:f.dailyAmount,onChange:_=>m({...f,dailyAmount:_.target.value}),placeholder:"200",required:!0,min:"0.01"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"startDate",children:"Start Date *"}),p.jsx(Ut,{id:"startDate",type:"date",value:f.startDate,onChange:_=>m({...f,startDate:_.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2 md:col-span-2",children:[p.jsx(pt,{htmlFor:"endDate",children:"Target Date *"}),p.jsx(Ut,{id:"endDate",type:"date",value:f.endDate,onChange:_=>m({...f,endDate:_.target.value}),required:!0})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(_e,{type:"submit",variant:"secondary",disabled:l,children:l?"Creating...":"Create Goal"}),p.jsx(_e,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})}),s.length===0?p.jsxs("div",{className:"text-center py-20",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No savings goals yet"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first goal to start saving for your dream trip!"})]}):p.jsx("div",{className:"space-y-6",children:s.map(_=>{const A=Number(_.savedAmount)/Number(_.targetAmount)*100;return p.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsxs(Jt,{className:"overflow-hidden",children:[p.jsx(_n,{className:"bg-gradient-to-r from-secondary/10 to-secondary/5",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx(xn,{className:"text-2xl mb-2",children:_.goalName}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(QP,{className:"h-4 w-4"}),p.jsxs("span",{children:["",Number(_.targetAmount).toFixed(2)]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(qf,{className:"h-4 w-4"}),p.jsxs("span",{children:["",Number(_.dailyAmount).toFixed(2),"/day"]})]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-3xl font-bold text-secondary",children:["",Number(_.savedAmount).toFixed(2)]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.toFixed(1),"% saved"]})]})]})}),p.jsxs(en,{className:"pt-6",children:[p.jsx(Ax,{value:A,className:"mb-4 h-3"}),p.jsxs(_e,{variant:"secondary",size:"sm",onClick:()=>T(_.id,Number(_.savedAmount),Number(_.dailyAmount),_.goalName),children:["Add ",Number(_.dailyAmount).toFixed(2)," Today"]})]})]})},_.id)})})]})}),p.jsx(yo,{}),p.jsx(PM,{isOpen:d.isOpen,onClose:w,amount:d.amount,onPaymentSuccess:v,goalName:d.goalName})]})},See=()=>{const{user:t,loading:e,signOut:n}=ms(),r=ps(),{toast:s}=Gs(),[i,o]=S.useState(""),[a,l]=S.useState(!1);S.useEffect(()=>{!e&&!t&&r("/login")},[t,e,r]),S.useEffect(()=>{t&&(o(t.displayName||""),c())},[t]);const c=async()=>{if(!t)return;const h=await _ee(t.uid);h.success&&h.data&&o(h.data.displayName||"")},d=async h=>{if(h.preventDefault(),!!t){l(!0);try{if(await Hk(t,{displayName:i}),!(await lV("users",t.uid,{displayName:i})).success)throw new Error("Failed to update Firestore document");s({title:"Profile updated",description:"Your changes have been saved"})}catch(f){console.error("Profile update error:",f),s({variant:"destructive",title:"Error",description:"Failed to update profile"})}l(!1)}};return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(vc,{})}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(go,{}),p.jsx("main",{className:"container mx-auto px-4 pt-24 pb-12 max-w-2xl",children:p.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Profile Settings"}),p.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"Manage your account information"}),p.jsxs(Jt,{className:"mb-6",children:[p.jsx(_n,{children:p.jsx(xn,{children:"Personal Information"})}),p.jsx(en,{children:p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"fullName",children:"Full Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(ZP,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(Ut,{id:"fullName",value:i,onChange:h=>o(h.target.value),className:"pl-10",placeholder:"Your name",maxLength:100})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"email",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(iF,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(Ut,{id:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"pl-10 bg-muted"})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),p.jsx(_e,{type:"submit",variant:"default",disabled:a,children:a?"Updating...":"Update Profile"})]})})]}),p.jsxs(Jt,{children:[p.jsx(_n,{children:p.jsx(xn,{children:"Account Actions"})}),p.jsx(en,{children:p.jsx(_e,{variant:"destructive",onClick:n,children:"Sign Out"})})]})]})}),p.jsx(yo,{})]})},bee=()=>{const t=oc();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Iee=new O5,Cee=()=>p.jsx(V5,{client:Iee,children:p.jsxs(u5,{children:[p.jsx(HF,{}),p.jsx(T3,{}),p.jsx(N6,{children:p.jsx(yq,{children:p.jsxs(b6,{children:[p.jsx(fr,{path:"/",element:p.jsx(QQ,{})}),p.jsx(fr,{path:"/login",element:p.jsx(RX,{})}),p.jsx(fr,{path:"/dashboard",element:p.jsx(qZ,{})}),p.jsx(fr,{path:"/stories",element:p.jsx(JJ,{})}),p.jsx(fr,{path:"/stories/new",element:p.jsx(tee,{})}),p.jsx(fr,{path:"/stories/:id/edit",element:p.jsx(ree,{})}),p.jsx(fr,{path:"/stories/:id",element:p.jsx(wee,{})}),p.jsx(fr,{path:"/savings",element:p.jsx(Tee,{})}),p.jsx(fr,{path:"/profile",element:p.jsx(See,{})}),p.jsx(fr,{path:"*",element:p.jsx(bee,{})})]})})})]})});mP(document.getElementById("root")).render(p.jsx(Cee,{}));
